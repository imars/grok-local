if action == "exit":
        print("Goodbye!")
        break
    elif action == "optimize":
        filename = parts[1]
        if not os.path.exists(os.path.join(PROJECT_DIR, filename)):
            print(f"File {filename} not found")
            continue
        code = read_file(filename)
        prompt = f"Optimize this code:\n{code}"
        response = local_reasoning(prompt)
        print(f"Optimized locally:\n{response}")
        if "```python" in response:
            code = response.split('```python\n')[1].split('```')[0].strip()
            write_file(filename, code)
            print(f"Updated {filename}")
    elif action == "push":
        print(git_push(parts[1]))
    elif action == "run":
        cmd_str = " ".join(parts[1:])
        print(run_command(cmd_str))
    elif action == "ask":
        request = " ".join(parts[1:])
        result = ask_local(request)
        print(f"Local response:\n{result}")
    else:
        print("Unknown command. Try: optimize <file>, push <message>, run <cmd>, ask <request>, exit")