!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="14606fcd-f7b1-477d-9347-994ce30e7aae",e._sentryDebugIdIdentifier="sentry-dbid-14606fcd-f7b1-477d-9347-994ce30e7aae")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2014],{61893:function(e,t,n){n.d(t,{a:function(){return R},x:function(){return x}});var s=n(91124),r=n(19452),i=n(82689),o=n(31866),a=n(73466),l=n(36826),d=n(96373),c=n(31448),u=n(79368),h=n(6754),p=n(40571),m=n(55607),f=n(7058),g=n(68159),y=n(82314),v=n(23288),w=n(8491),I=n(79468),b=n(14413),S=n(92014);let R="grok3_studio";function x(e){let{onSubmit:t,isIncognito:n,disabled:R}=e,{t:x}=(0,b.$G)("chat"),{client:C}=(0,y.useStatsigClient)(),T=(0,l.g)(),{user:k}=(0,i.kP)(),P=(0,S.gK)(w.Z("activeModelId")),E=(0,S.gK)(w.Z("reasoningMode")),_=(0,d.Md)(),{signInWithReturnTo:V}=(0,a.o)(),A=(0,o.X)(),N=(0,g.F)(e=>e.userSettings.preferences.showFollowUpSuggestions),M=(0,S.gK)(w.Z("conversationId")),U=(0,m.t)(e=>M?e.byId[M]:void 0),j=(0,S.gK)(w.Z("lastMessageId")),L=(0,S.gK)(w.Z("streamedMessageId")),O=(0,f.CI)(w.Z("byId")),q=(0,S.gK)(w.Z("establishNewConversation")),D=L?O[L]:void 0,B=(0,I.useCallback)(async()=>{let e=S.gK.getState(),t=f.CI.getState();if(e.conversationId&&e.streamedMessageId)return t.abortStream(e.conversationId,e.streamedMessageId).then(t=>{e.setLastMessageId(t),e.setStreamedMessageId(t)}).catch(t=>{(0,u.xo)(t),e.setStreamedMessageId(void 0)}).finally(()=>{e.setUsingExperiment(!1)})},[]),F=(0,I.useMemo)(()=>j?O[j]:void 0,[j,O]),G=(0,I.useCallback)(()=>{let e=f.CI.getState();F&&F.suggestions&&F.suggestions.length>0&&e.upsertResponse({...F,suggestions:[]})},[F]),{getPersonaForConversation:H}=(0,c.HG)(),z=H(U),Z=(0,I.useCallback)(async(e,s,r)=>{if(null==t||t(),!e||!e.trim())return!1;let i=S.gK.getState(),o=f.CI.getState();if(!k&&(!T.ENABLE_ANON_USERS||_.includes(P)))return C.logEvent("sign_in","chat-new",{location:"chat-new"}),V(e,E),!1;if(!i.conversationId)return await q({message:e,fileAttachmentIds:s,toolOverrides:r,temporary:n,enableRetries:T.ENABLE_AUTO_STREAM_RETRY}).catch(e=>{(0,h.H)("chat-input:establishNewConversation",e)}),!0;await A(),G();let a=i.lastMessageId?o.byId[i.lastMessageId]:void 0;return(!i.lastMessageId||!!a)&&(!a||"human"!==a.sender)&&(C.logEvent("send_query",e,{parentResponseId:i.lastMessageId||"",conversationId:i.conversationId,selectedModel:i.activeModelId,fileAttachments:String((null==s?void 0:s.length)||0),location:"chat-input",outputMode:i.outputMode}),new Promise((t,n)=>{if(!i.conversationId)return(0,h.H)("chat-input:ChatInput:handleSend:promise","No conversation found"),!1;i.sendResponse({message:e,parentResponseId:i.lastMessageId,conversationId:i.conversationId,fileAttachmentIds:s||[],toolOverrides:r,setOpimisticUserResponse:!0,setUserResponse:!0,persona:z,enableRetries:T.ENABLE_AUTO_STREAM_RETRY,onOptimisticUserResponse:()=>t(!0),onError:n}).catch(n)}))},[z,G,t,C,E,T.ENABLE_AUTO_STREAM_RETRY]);return(0,s.jsxs)("div",{className:"relative z-40 flex flex-col items-center w-full",children:[T.SHOW_FOLLOWUPS&&N&&F&&F.hasImages&&F.suggestions&&F.suggestions.length>0&&(0,s.jsxs)("div",{className:"w-full flex justify-start sm:justify-center gap-2 pb-3 overflow-x-auto max-w-[50rem] no-scrollbar absolute inset-x-0 bottom-full",children:[F.suggestions.map((e,t)=>(0,s.jsx)("button",{className:(0,p.cn)("rounded-full px-4 py-1 whitespace-nowrap bg-input backdrop-blur-lg ring-1 ring-input-border ring-inset","focus-within:ring-input-border-focus focus-within:bg-input-hover","hover:ring-input-border-focus hover:bg-input-hover"),onClick:()=>{C.logEvent("clicked_follow_up",e.label,{parentResponseId:j||"",conversationId:M||""}),Z(e.label,void 0,e.toolOverrides?e.toolOverrides:void 0).catch(e=>{(0,h.H)("chat-input:ChatInput:suggestion:handleSend",e)})},children:e.label},t)),(0,s.jsx)("button",{className:(0,p.cn)("rounded-full px-2 py-1","bg-input backdrop-blur-lg","ring-1 ring-input-border ring-inset","focus-within:ring-input-border-focus focus-within:bg-input-hover","hover:ring-input-border-focus hover:bg-input-hover"),onClick:()=>{C.logEvent("clicked_clear_follow_ups",void 0,{parentResponseId:j||"",conversationId:M||""}),G()},children:(0,s.jsx)(v.Z,{className:"!size-4"})})]}),(0,s.jsxs)("div",{className:"relative w-full px-2 pb-3 sm:pb-4",children:[(0,s.jsx)(r.B,{placeholder:x("How can Grok help?"),onQuery:Z,streamState:(null==D?void 0:D.state)||"closed",onAbort:B,isIncognito:n,disabled:R},"query-bar"),(0,s.jsx)("div",{className:"absolute bottom-0 w-[calc(100%-1rem)] h-full rounded-t-[40px] bg-background"})]})]})}},92014:function(e,t,n){n.d(t,{gK:function(){return N}});var s=n(73533),r=n(90982),i=n(1530);function o(e){let t=!1;return()=>{t||(e(),t=!0)}}var a=n(6754),l=n(38976),d=n(42155),c=n(93149),u=n(7058),h=n(68159),p=n(10793),m=n.n(p),f=n(24604),g=n(77626),y=n(64868),v=n(27582),w=n(42567),I=n(61893),b=n(91124);let S=[1];var R=n(61301),x=n(96373),C=n(84518),T=n(79468),k=n(14413);let P=e=>{let{modelName:t,reasoningMode:n,waitTimeSeconds:s}=e,{t:r}=(0,k.$G)("chat"),{modelById:i}=(0,x.bP)(),o=(0,T.useMemo)(()=>{var e;return(null===(e=i[t])||void 0===e?void 0:e.name)||t},[i,t]),a=(0,T.useMemo)(()=>{let e=Math.floor(s/3600),t=Math.floor(s%3600/60);return e>0&&t>0?"".concat(r("time.hours",{count:e})," ").concat(r("time.minutes",{count:t})):e>0?r("time.hours",{count:e}):r("time.minutes",{count:t})},[s]),l=(0,T.useMemo)(()=>"DEEPSEARCH"===n?r("Rate Limit Reached.description-deepsearch",{modelName:o,time:a}):"REASONING"===n?r("Rate Limit Reached.description-reasoning",{modelName:o,time:a}):r("Rate Limit Reached.description",{modelName:o,time:a}),[a,o,r]);return(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(C.aN,{className:"size-5"}),(0,b.jsx)("div",{className:"font-semibold text-xs",children:l})]})},E=e=>{let{modelName:t,reasoningMode:n,remainingQueries:s,windowSizeSeconds:r}=e,{t:i}=(0,k.$G)("chat"),{modelById:o}=(0,x.bP)(),a=(0,T.useMemo)(()=>{var e;return(null===(e=o[t])||void 0===e?void 0:e.name)||t},[o,t]),l=(0,T.useMemo)(()=>{let e=Math.floor(r/3600),t=Math.floor(r%3600/60);return e>0&&t>0?"".concat(i("time.hours",{count:e})," ").concat(i("time.minutes",{count:t})):e>0?i("time.hours",{count:e}):i("time.minutes",{count:t})},[r]),d=(0,T.useMemo)(()=>"DEEPSEARCH"===n?i("Remaining Queries.description-deepsearch",{modelName:a,count:s,time:l}):"REASONING"===n?i("Remaining Queries.description-reasoning",{modelName:a,count:s,time:l}):i("Remaining Queries.description",{modelName:a,count:s,time:l}),[s,a,l,i]);return(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(C.aN,{className:"size-5"}),(0,b.jsx)("div",{className:"text-xs font-semibold",children:d})]})};function _(e){R.Bv.rateLimitsGetRateLimits({body:e}).then(t=>{void 0!==t.remainingQueries&&S.includes(t.remainingQueries)?g.Am.info((0,b.jsx)(E,{reasoningMode:e.requestKind,modelName:e.modelName,remainingQueries:t.remainingQueries,windowSizeSeconds:t.windowSizeSeconds||0}),{duration:7e3}):0===t.remainingQueries&&t.waitTimeSeconds&&g.Am.info((0,b.jsx)(P,{reasoningMode:e.requestKind,modelName:e.modelName,waitTimeSeconds:t.waitTimeSeconds}),{duration:7e3})}).catch(e=>{(0,a.H)("chat-page-store:checkRateLimits",e)})}function V(e){g.Am.info(function(e,t){let n=e.trim().replace(/^[^a-zA-Z0-9]+|[^a-zA-Z0-9]+$/g,"");return n.length>200?n.slice(0,200)+"...":n}(e,0),{duration:7e3})}y.z.union([y.z.literal("auto"),y.z.literal("image"),y.z.literal("search"),y.z.literal("modelOnly")]);class A{constructor(e,t){this.set=e,this.get=t,this.activeModelId=r.fr,this.isRateLimited=!1,this.isThinkingRateLimited=!1,this.isDeepSearchRateLimited=!1,this.isUnauthenticated=!1,this.hasDismissedDisclaimer=!1,this.outputMode="auto",this.reasoningMode="none",this.usingExperiment=!1,this.experiments=[],this.streamingExperimentsIds=[],this.queryBarExpanded=!1,this.artifactsEnabled=!1,this.isTypingDebounce=!1,this.selectedPersonalityId=void 0,this.customPersonality=void 0,this.queryByConversationId={},this.chatPageLoaded=!1,this.setConversationId=(0,l.f0)(this.set,"conversationId"),this.setOptimisticConversationId=(0,l.f0)(this.set,"optimisticConversationId"),this.setLastMessageId=(0,l.f0)(this.set,"lastMessageId"),this.setSidePanelContent=(0,l.f0)(this.set,"sidePanelContent"),this.setStreamedMessageId=(0,l.f0)(this.set,"streamedMessageId"),this.setActiveModelId=(0,l.f0)(this.set,"activeModelId"),this.setSelectedSystemPromptId=(0,l.f0)(this.set,"selectedSystemPromptId"),this.setIsRateLimited=(0,l.f0)(this.set,"isRateLimited"),this.setIsUnauthenticated=(0,l.f0)(this.set,"isUnauthenticated"),this.setHasDismissedDisclaimer=(0,l.f0)(this.set,"hasDismissedDisclaimer"),this.setOptimisticMessageId=(0,l.f0)(this.set,"optimisticMessageId"),this.setOutputMode=(0,l.f0)(this.set,"outputMode"),this.setReasoningMode=(0,l.f0)(this.set,"reasoningMode"),this.setArtifactsEnabled=(0,l.f0)(this.set,"artifactsEnabled"),this.setChatPageLoaded=(0,l.f0)(this.set,"chatPageLoaded"),this.setUsingExperiment=e=>{this.removeAllExperiments(),this.removeAllStreamingExperiments(),this.set(t=>({...t,usingExperiment:e}))},this.removeAllExperiments=(0,l.o0)(this.set,"experiments",[]),this.setExperiments=(0,l.f0)(this.set,"experiments"),this.addExperiment=(0,l.IH)(this.set,"experiments"),this.removeExperiment=e=>{this.set(t=>{let n=[...t.experiments];return n.splice(e,1),{...t,experiments:n}})},this.setStreamingExperimentsIds=(0,l.f0)(this.set,"streamingExperimentsIds"),this.addStreamingExperimentId=(0,l.IH)(this.set,"streamingExperimentsIds"),this.removeAllStreamingExperiments=(0,l.o0)(this.set,"streamingExperimentsIds",[]),this.setSelectedPersonalityId=(0,l.f0)(this.set,"selectedPersonalityId"),this.setCustomPersonality=(0,l.f0)(this.set,"customPersonality"),this.idsetQueryByConversationId=(0,l.Qd)(this.set,"queryByConversationId"),this.setQueryBarExpanded=e=>this.set({queryBarExpanded:e}),this.setIsTypingDebounce=e=>this.set({isTypingDebounce:e}),this.establishNewConversation=async e=>{let{temporary:t,message:n,fileAttachmentIds:s,toolOverrides:r,isPreset:a,persona:l,enableRetries:p}=e,f=this.get(),g=u.CI.getState(),y=h.F.getState(),v=c.Zv.getState(),w=m().get(v.byId,y.userSettings.preferences.selectedSystemPromptId||""),b=f.activeModelId,S=void 0,R=(null==w?void 0:w.prompt)||f.customPersonality,x=!1;return new Promise((e,c)=>{g.streamCreateAndRespond({temporary:t,message:n,modelName:b,fileAttachmentIds:s,systemPromptName:f.artifactsEnabled?I.a:null==l?void 0:l.systemPromptName,personaId:null==l?void 0:l.personaId,toolOverrides:null!=r?r:M(f.outputMode,f.reasoningMode),isPreset:a,customInstructions:S,customPersonality:R,deepsearchPreset:"deepsearch"===f.reasoningMode?"default":"",isReasoning:"think"===f.reasoningMode,enableRetries:p,onOptimisticConversation:e=>{let{conversationId:t}=e;f.setOptimisticConversationId(t)},onOptimisticResponse:e=>{let{responseId:t}=e;f.setOptimisticMessageId(t)},onStart:e=>{var t;f.setStreamedMessageId(null===(t=e[0])||void 0===t?void 0:t.responseId)},onConversation:t=>{f.setConversationId(t.conversationId),f.setOptimisticConversationId(void 0),x=!0,e(t)},onUserResponse:e=>{let{responseId:t}=e;f.setLastMessageId(t),f.setOptimisticMessageId(t)},onStartExperiment:e=>{f.setUsingExperiment(!0),e.forEach(e=>{f.addStreamingExperimentId(e),f.addExperiment({})})},onCitations:e=>{if((!window||!(window.innerWidth<i.G))&&y.userSettings.preferences.autoOpenSearchResults){if(e.webSearchResults){f.setSidePanelContent({type:"webSearchResults",data:e.webSearchResults});return}if(e.xposts){f.setSidePanelContent({type:"xPosts",data:e.xposts});return}}},onDisclaimer:V,onHasImage:o(()=>y.setShowAgeVerification(!0)),onClose:e=>{e.length>1&&(f.setExperiments(e),f.setStreamingExperimentsIds(e.map(e=>e.responseId)));let t=m().first(e);t&&this.get().lastMessageId===t.parentResponseId&&(f.setLastMessageId(t.responseId),f.setStreamedMessageId(t.responseId)),f.setOptimisticConversationId(void 0),_({modelName:b,requestKind:"deepsearch"===f.reasoningMode?"DEEPSEARCH":"think"===f.reasoningMode?"REASONING":"DEFAULT"}),x||c(Error("Not resolved by close"))},onWke:e=>{"RateLimitError"===e.name&&f.setIsRateLimited(!0),c(e)},onError:e=>e instanceof d.VLC&&429===e.response.status?(f.setIsRateLimited(!0),!1):e instanceof d.VLC&&401===e.response.status?(f.setIsUnauthenticated(!0),!1):!(e instanceof d.VLC)||!(e.response.status>=400)||!(e.response.status<500)}).catch(e=>{c(e)})})},this.sendResponse=async e=>{let{message:t,parentResponseId:n,conversationId:s,fileAttachmentIds:r,toolOverrides:a,setOpimisticUserResponse:l,setUserResponse:p,onOptimisticUserResponse:f,onError:g,imageEditUri:y,persona:v,enableRetries:w}=e,b=this.get(),S=u.CI.getState(),R=h.F.getState(),x=c.Zv.getState(),C=m().get(x.byId,R.userSettings.preferences.selectedSystemPromptId||""),T=b.activeModelId,k=void 0,P=(null==C?void 0:C.prompt)||b.customPersonality;return b.setUsingExperiment(!1),b.setLastMessageId(n),new Promise((e,c)=>{S.streamResponse({message:t,parentResponseId:n,conversationId:s,modelName:T,systemPromptName:b.artifactsEnabled?I.a:null==v?void 0:v.systemPromptName,fileAttachmentIds:r,toolOverrides:{...M(b.outputMode,b.reasoningMode),...null!=a?a:{}},customInstructions:k,customPersonality:P,deepsearchPreset:"deepsearch"===b.reasoningMode?"default":"",isReasoning:"think"===b.reasoningMode,imageEditUri:y,enableRetries:w,onOptimisticUserResponse:e=>{l&&(b.setOptimisticMessageId(e.responseId),null==f||f(e))},onOptimisticModelResponse:e=>{b.setStreamedMessageId(e.responseId)},onStart:e=>{var t;b.setStreamedMessageId(null===(t=e[0])||void 0===t?void 0:t.responseId)},onUserResponse:e=>{let{responseId:t}=e;p&&(b.setLastMessageId(t),b.setOptimisticMessageId(t))},onStartExperiment:e=>{b.setUsingExperiment(!0),e.forEach(e=>{b.addStreamingExperimentId(e),b.addExperiment({})})},onCitations:e=>{if((!window||!(window.innerWidth<i.G))&&R.userSettings.preferences.autoOpenSearchResults){if(e.webSearchResults){b.setSidePanelContent({type:"webSearchResults",data:e.webSearchResults});return}if(e.xposts){b.setSidePanelContent({type:"xPosts",data:e.xposts});return}}},onDisclaimer:V,onHasImage:o(()=>R.setShowAgeVerification(!0)),onClose:t=>{t.length>1&&(b.setExperiments(t),b.setStreamingExperimentsIds(t.map(e=>e.responseId)));let n=m().first(t);if(n&&this.get().lastMessageId===n.parentResponseId&&(b.setLastMessageId(n.responseId),b.setStreamedMessageId(n.responseId)),t.length&&t.every(e=>"closed"===e.state))e(t);else{let e=Error("Responses missing, errored, or not closed");null==g||g(e),c(e)}_({modelName:T,requestKind:"deepsearch"===b.reasoningMode?"DEEPSEARCH":"think"===b.reasoningMode?"REASONING":"DEFAULT"})},onWke:e=>{"RateLimitError"===e.name&&b.setIsRateLimited(!0),null==g||g(e),c(e)},onError:e=>e instanceof d.VLC&&429===e.response.status?(b.setIsRateLimited(!0),!1):e instanceof d.VLC&&401===e.response.status?(b.setIsUnauthenticated(!0),!1):!(e instanceof d.VLC)||!(e.response.status>=400)||!(e.response.status<500)}).catch(e=>{null==g||g(e),c(e)})})},this.reconnectToInflightResponses=async(e,t)=>{let n=this.get(),s=u.CI.getState(),r=h.F.getState(),l=n.activeModelId;try{let c=await s.fetchListInflightResponses(e);if(!c.length)return;let u=m().maxBy(c,e=>new Date(e.createTime?e.createTime:0));if(!u)return;if(!u.responseId){(0,a.H)("chat-page-store:reconnectToInflightResponses","Inflight response missing response id");return}if(!u.parentResponseId){(0,a.H)("chat-page-store:reconnectToInflightResponses","Inflight response missing parent response id:");return}n.setLastMessageId(u.parentResponseId),await s.reconnectToResponse({inflightResponse:u,conversationId:e,modelName:l,parentResponseId:u.parentResponseId,enableRetries:t,onStart:e=>{let t=e[0];t&&n.setStreamedMessageId(t.responseId)},onCitations:e=>{if((!window||!(window.innerWidth<i.G))&&r.userSettings.preferences.autoOpenSearchResults){if(e.webSearchResults){n.setSidePanelContent({type:"webSearchResults",data:e.webSearchResults});return}if(e.xposts){n.setSidePanelContent({type:"xPosts",data:e.xposts});return}}},onDisclaimer:V,onHasImage:o(()=>r.setShowAgeVerification(!0)),onClose:(e,t)=>{e.length>1&&(n.setExperiments(e),n.setStreamingExperimentsIds(t));let s=m().first(e);s&&(n.setLastMessageId(s.responseId),n.setStreamedMessageId(void 0)),_({modelName:l,requestKind:"deepsearch"===n.reasoningMode?"DEEPSEARCH":"think"===n.reasoningMode?"REASONING":"DEFAULT"})},onWke:e=>{"RateLimitError"===e.name&&n.setIsRateLimited(!0),console.error("Error reconnecting to response:",e)},onError:e=>e instanceof d.VLC&&429===e.response.status?(n.setIsRateLimited(!0),!1):e instanceof d.VLC&&401===e.response.status?(n.setIsUnauthenticated(!0),!1):!(e instanceof d.VLC)||!(e.response.status>=400)||!(e.response.status<500)})}catch(e){console.error("Error checking for inflight responses:",e)}}}}let N=(0,v.U)()((0,w.XR)((0,w.tJ)((e,t)=>new A(e,t),{name:"chat-preferences",partialize:e=>({reasoningMode:e.reasoningMode,outputMode:e.outputMode,activeModelId:e.activeModelId,artifactsEnabled:e.artifactsEnabled,selectedPersonalityId:e.selectedPersonalityId,customPersonality:e.customPersonality}),version:1})));function M(e,t){return"deepsearch"===t||("modelOnly"===e?"modelOnly":"auto")=="modelOnly"?{imageGen:!1,webSearch:!1,xSearch:!1,xMediaSearch:!1,trendsSearch:!1,xPostAnalyze:!1}:{imageGen:void 0,webSearch:void 0,xSearch:void 0,xMediaSearch:void 0,trendsSearch:void 0,xPostAnalyze:void 0}}(0,l.N7)(N,"conversationId","optimisticConversationId",()=>void 0),(0,l.N7)(N,"conversationId","isRateLimited",()=>!1),(0,l.N7)(N,"conversationId","isUnauthenticated",()=>!1),(0,l.N7)(N,"conversationId","hasDismissedDisclaimer",()=>!1),(0,l.N7)(N,"conversationId","usingExperiment",()=>!1),(0,l.N7)(N,"conversationId","experiments",()=>[]),(0,l.N7)(N,"conversationId","streamingExperimentsIds",()=>[]),(0,l.N7)(N,"activeModelId","isRateLimited",()=>!1),(0,l.N7)(N,"reasoningMode","isRateLimited",()=>!1),function(e){let t=new f.y("/chat/:chatId"),n=t.test(window.location.pathname);e.setState({conversationId:n?n.chatId:void 0}),window.addEventListener("popstate",()=>{let n=t.test(window.location.pathname);e.setState({conversationId:n?n.chatId:void 0})}),e.subscribe((e,n)=>{if(e.conversationId===n.conversationId)return;let r=window.location.pathname,i=new URLSearchParams(window.location.search);i.delete("q"),i.delete("reasoningMode");let o=i.toString(),a=o?"?".concat(o):"",l=h.F.getState(),d=null===s.mU||void 0===s.mU?void 0:s.mU.getState();if(e.conversationId&&!l.isIncognito&&(null==d?void 0:d.user)){let n=t.build({chatId:e.conversationId});if(r!==n){let e="".concat(n).concat(a);window.history.pushState({...window.history.state,as:e,url:e},"",e)}}else if("/"!==r){let e="/".concat(a);window.history.pushState({...window.history.state,as:e,url:e},"",e)}})}(N)},45874:function(e,t,n){n.d(t,{j:function(){return S}});var s=n(91124),r=n(92014),i=n(30451),o=n(70953),a=n(87498),l=n(40571),d=n(20530),c=n(17187),u=n(56202),h=n(52511),p=n(32274),m=n(98485),f=n(30015),g=n(23288),y=n(8491),v=n(79468),w=n(25851);let I=e=>{let{metadata:t}=e,{ASSET_SERVER_URL:n}=(0,w.O)(),{parsedFileUri:r,fileUri:i}=t,o=r.length>0?r:i,{data:l,isError:c,isLoading:u}=(0,d.aM)({queryKey:["asset",o],queryFn:async()=>await (0,a.Z)(n,o)});return c||u||!l?(0,s.jsx)(b,{mimeType:t.fileMimeType,className:"!size-4 mr-2 shrink-0"}):(0,s.jsx)("div",{className:"h-full w-10 mr-2 -ms-3 rounded-s-xl bg-cover bg-center shrink-0",style:{backgroundImage:"url(".concat(l,")")}})},b=e=>{let{mimeType:t,className:n}=e,r=t.toLowerCase();return r.includes("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet")||r.includes("application/vnd.ms-excel")||r.includes("/csv")?(0,s.jsx)(c.Z,{className:n}):r.includes("application/pdf")||r.includes("application/vnd.openxmlformats-officedocument.wordprocessingml.document")||r.includes("application/msword")||r.includes("text/")||r.includes("markdown")?(0,s.jsx)(u.Z,{className:n}):r.includes("image/")?(0,s.jsx)(h.Z,{className:n}):(0,s.jsx)(p.Z,{className:n})};function S(e){let{fileName:t,metadata:n,onClick:a,onRemove:d,isShared:c}=e,u=(0,r.gK)(y.Z("sidePanelContent")),h=(0,r.gK)(y.Z("setSidePanelContent")),p=void 0===n,w=n instanceof Error,S=(0,v.useCallback)(e=>{e.stopPropagation(),null==d||d()},[d]),R=!!d,x=(0,v.useMemo)(()=>!p&&!w&&(null==u?void 0:u.type)==="asset"&&u.data.fileMetadataId===n.fileMetadataId,[p,w,u,n]),C=(0,v.useCallback)(()=>{if(!c&&!p&&!w){if(a){a();return}if(x){h(void 0);return}h({type:"asset",data:n})}},[x,n,a]);return(0,s.jsxs)(o.u,{delayDuration:300,children:[(0,s.jsx)(o.aJ,{asChild:!0,children:(0,s.jsxs)("div",{className:(0,l.cn)("flex flex-row items-center rounded-xl px-3 h-10 ","bg-chip text-sm","transition ease-in-out",c?"cursor-default text-secondary":"cursor-pointer hover:bg-button-secondary-hover text-primary",R&&"pr-1.5",p&&"animate-pulse",w&&"text-red-400",x&&"bg-button-secondary-hover"),onClick:C,children:[p?(0,s.jsx)(m.Z,{className:"!size-4 animate-spin mr-2 shrink-0"}):w?(0,s.jsx)(f.Z,{className:"!size-4 mr-2 shrink-0"}):n.fileMimeType.startsWith("image/")&&!c?(0,s.jsx)(I,{metadata:n}):(0,s.jsx)(b,{mimeType:n.fileMimeType,className:"!size-4 mr-2 shrink-0"}),(0,s.jsx)("span",{className:"truncate max-w-full sm:max-w-[250px]",children:t}),R&&(0,s.jsx)(i.zx,{className:"rounded-full ml-1 p-0.5",variant:"ghost",size:"iconSm",onClick:S,children:(0,s.jsx)(g.Z,{size:16})})]})}),(0,s.jsx)(o._v,{side:"bottom",children:w?n.message:t})]})}},7767:function(e,t,n){n.d(t,{x:function(){return i}});var s=n(38976);class r{constructor(e,t){this.set=e,this.get=t,this.open=!1,this.setOpen=(0,s.f0)(this.set,"open"),this.toggleOpen=(0,s.ZN)(this.set,"open")}}let i=(0,s.MT)(r)},25851:function(e,t,n){n.d(t,{O:function(){return a},default:function(){return o}});var s=n(91124),r=n(79468);let i=(0,r.createContext)(null);function o(e){let{children:t,envVars:n}=e;return(0,s.jsx)(i.Provider,{value:n,children:t})}function a(){let e=(0,r.useContext)(i);if(!e)throw Error("useEnvironment must be used within an EnvironmentProvider");return e}},5265:function(e,t,n){n.d(t,{J:function(){return r}});var s=n(91124);let r=e=>{let{size:t,className:n="",children:r,...i}=e,o=null!=t?t:"16",a=null!=t?t:"16";return(0,s.jsx)("svg",{width:o,height:a,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"stroke-[2] ".concat(n),...i,children:r})}},9089:function(e,t,n){n.d(t,{Hf:function(){return i},Uj:function(){return o},v4:function(){return a},wy:function(){return l},XC:function(){return d},IE:function(){return c},TI:function(){return u},Go:function(){return p},WG:function(){return m},Mw:function(){return f},Iy:function(){return g},W1:function(){return y},aA:function(){return v},Lf:function(){return w},VM:function(){return I},kZ:function(){return b},lb:function(){return S},XH:function(){return R},b0:function(){return x}});var s=n(91124),r=n(5265);let i=e=>(0,s.jsx)(r.J,{...e,children:(0,s.jsx)("path",{d:"M5 11L12 4M12 4L19 11M12 4V21",stroke:"currentColor"})}),o=e=>(0,s.jsx)(r.J,{...e,children:(0,s.jsx)("path",{d:"M10 9V15C10 16.1046 10.8954 17 12 17V17C13.1046 17 14 16.1046 14 15V7C14 4.79086 12.2091 3 10 3V3C7.79086 3 6 4.79086 6 7V15C6 18.3137 8.68629 21 12 21V21C15.3137 21 18 18.3137 18 15V8",stroke:"currentColor"})}),a=e=>(0,s.jsx)(r.J,{...e,children:(0,s.jsx)("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeLinecap:"square"})}),l=e=>(0,s.jsx)(r.J,{...e,children:(0,s.jsx)("path",{d:"M15 6L9 12L15 18",stroke:"currentColor",strokeLinecap:"square"})}),d=e=>(0,s.jsx)(r.J,{...e,children:(0,s.jsx)("path",{d:"M9 6L15 12L9 18",stroke:"currentColor",strokeLinecap:"square"})}),c=e=>(0,s.jsx)(r.J,{...e,children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.5 0.999756L13 3.05487C13.9171 3.15638 14.7934 3.39584 15.6072 3.75216L17.0669 2.22365L17.933 2.72358L17.3385 4.75346C18.066 5.29023 18.7096 5.9339 19.2464 6.66143L21.2762 6.06687L21.8006 6.97502L20.2477 8.39271C20.604 9.20642 20.8435 10.0828 20.945 10.9999L23 11.4998V12.4998L20.945 12.9999C20.8435 13.917 20.604 14.7933 20.2476 15.6071L21.8006 17.0248L21.2762 17.9329L19.2463 17.3384C18.7096 18.0659 18.0659 18.7095 17.3384 19.2462L17.933 21.2761L17.067 21.7761L15.6071 20.2476C14.7934 20.6039 13.9171 20.8434 13 20.9449L12.5 22.9998L11.4516 22.9998L11 20.9449C10.0829 20.8434 9.20657 20.6039 8.39288 20.2476L6.93298 21.7762L6.06694 21.2762L6.66159 19.2463C5.93404 18.7095 5.29035 18.0658 4.75357 17.3383L2.72367 17.9329L2.22356 17.0669L3.75225 15.607C3.39594 14.7933 3.15649 13.9169 3.05498 12.9998L1 12.4998V11.4998L3.05499 10.9998C3.1565 10.0828 3.39593 9.20646 3.75222 8.3928L2.22373 6.93291L2.74804 6.02477L4.7535 6.66149C5.29029 5.93392 5.93399 5.29022 6.66155 4.75343L6.06697 2.72357L6.933 2.22356L8.39285 3.75213C9.20655 3.39582 10.0829 3.15637 11 3.05487L11.4516 0.999756H12.5ZM9.94493 5.30609C9.65381 5.39533 9.53714 5.73409 9.68938 5.99779L11.275 8.74408C11.3808 8.92747 11.5907 9.02015 11.802 9.00632C11.8675 9.00203 11.9335 8.99986 12 8.99986C13.1809 8.99986 14.2025 9.68223 14.692 10.6742C14.7857 10.8643 14.971 10.9999 15.1829 10.9999H18.3527C18.657 10.9999 18.892 10.7298 18.8242 10.4332C18.6668 9.74417 18.4077 9.09446 18.0638 8.50004C17.4489 7.43743 16.5625 6.55088 15.4999 5.93608C14.4711 5.34084 13.2769 4.99986 12 4.99986C11.2841 4.99986 10.5942 5.10703 9.94493 5.30609ZM18.8242 13.5666C18.892 13.27 18.657 12.9999 18.3527 12.9999H15.1829C14.9709 12.9999 14.7857 13.1355 14.6919 13.3255C14.2025 14.3175 13.1809 14.9999 12 14.9999C11.9335 14.9999 11.8675 14.9977 11.802 14.9934C11.5907 14.9796 11.3808 15.0723 11.2749 15.2557L9.6894 18.002C9.53716 18.2657 9.65383 18.6044 9.94495 18.6937C10.5943 18.8927 11.2841 18.9999 12 18.9999C13.2769 18.9999 14.4711 18.6589 15.4997 18.0637C16.5624 17.4488 17.4489 16.5624 18.0637 15.4998C18.4077 14.9053 18.6667 14.2556 18.8242 13.5666ZM7.23117 17.1242C7.45419 17.3318 7.80626 17.2637 7.95862 16.9998L9.54293 14.2556C9.64891 14.072 9.6241 13.8437 9.5061 13.6677C9.18676 13.1911 8.99998 12.6175 8.99998 11.9999C8.99998 11.3823 9.18678 10.8086 9.50612 10.3321C9.62411 10.156 9.64893 9.9277 9.54295 9.74414L7.95857 6.99994C7.80621 6.73605 7.45416 6.66788 7.23115 6.87552C6.72333 7.34835 6.28579 7.89573 5.93614 8.50005C5.34095 9.52876 4.99998 10.723 4.99998 11.9999C4.99998 13.2768 5.34096 14.471 5.93617 15.4997C6.28582 16.104 6.72335 16.6513 7.23117 17.1242ZM11.5006 12.8666C11.6468 12.9512 11.8162 12.9999 12 12.9999C12.5522 12.9999 13 12.5521 13 11.9999C13 11.4476 12.5522 10.9999 12 10.9999C11.8161 10.9999 11.6466 11.0486 11.5006 11.1331C11.1991 11.3076 11 11.6311 11 11.9999C11 12.3687 11.1992 12.6922 11.5006 12.8666Z",fill:"currentColor"})}),u=e=>(0,s.jsxs)(r.J,{...e,children:[(0,s.jsx)("rect",{x:"3",y:"8",width:"13",height:"13",rx:"4",stroke:"currentColor"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 2.00004L12.8842 2.00002C12.0666 1.99982 11.5094 1.99968 11.0246 2.09611C9.92585 2.31466 8.95982 2.88816 8.25008 3.69274C7.90896 4.07944 7.62676 4.51983 7.41722 5.00004H9.76392C10.189 4.52493 10.7628 4.18736 11.4147 4.05768C11.6802 4.00488 12.0228 4.00004 13 4.00004H14.6C15.7366 4.00004 16.5289 4.00081 17.1458 4.05121C17.7509 4.10066 18.0986 4.19283 18.362 4.32702C18.9265 4.61464 19.3854 5.07358 19.673 5.63807C19.8072 5.90142 19.8994 6.24911 19.9488 6.85428C19.9992 7.47112 20 8.26343 20 9.40004V11C20 11.9773 19.9952 12.3199 19.9424 12.5853C19.8127 13.2373 19.4748 13.8114 19 14.2361V16.5829C20.4795 15.9374 21.5804 14.602 21.9039 12.9755C22.0004 12.4907 22.0002 11.9334 22 11.1158L22 11V9.40004V9.35725C22 8.27346 22 7.3993 21.9422 6.69141C21.8826 5.96256 21.7568 5.32238 21.455 4.73008C20.9757 3.78927 20.2108 3.02437 19.27 2.545C18.6777 2.24322 18.0375 2.1174 17.3086 2.05785C16.6007 2.00002 15.7266 2.00003 14.6428 2.00004L14.6 2.00004H13Z",fill:"currentColor"})]});var h=n(40571);let p=e=>{let{isOn:t=!1,...n}=e;return(0,s.jsxs)(r.J,{...n,children:[(0,s.jsx)("path",{d:"M19.2987 8.84667C15.3929 1.86808 5.44409 5.76837 7.08971 11.9099C8.01826 15.3753 12.8142 14.8641 13.2764 12.8592C13.6241 11.3504 10.2964 12.3528 10.644 10.844C11.1063 8.839 15.9022 8.32774 16.8307 11.793C18.5527 18.2196 7.86594 22.4049 4.71987 15.2225",strokeWidth:"5",strokeLinecap:"round",className:(0,h.cn)("stroke-black/10 dark:stroke-white/20  transition-all duration-200 origin-center",t?"opacity-100 scale-100 rotate-45":"opacity-0 scale-0")}),(0,s.jsx)("path",{d:"M2 13.8236C4.5 22.6927 18 21.3284 18 14.0536C18 9.94886 11.9426 9.0936 10.7153 11.1725C9.79198 12.737 14.208 12.6146 13.2847 14.1791C12.0574 16.2581 6 15.4029 6 11.2982C6 3.68585 20.5 2.2251 22 11.0945",stroke:"currentColor",className:(0,h.cn)("transition-transform duration-200 eas-out origin-center",t?"rotate-45 ":"rotate-0 ")})]})},m=e=>{let{isOn:t=!1,...n}=e;return(0,s.jsxs)(r.J,{...n,children:[(0,s.jsx)("path",{d:"M19 9C19 12.866 15.866 17 12 17C8.13398 17 4.99997 12.866 4.99997 9C4.99997 5.13401 8.13398 3 12 3C15.866 3 19 5.13401 19 9Z",className:(0,h.cn)("fill-yellow-100 dark:fill-yellow-400/40","origin-center","transition-all duration-100",t?"scale-100 opacity-100":"scale-0 opacity-0")}),(0,s.jsx)("path",{d:"M15 16.1378L14.487 15.2794L14 15.5705V16.1378H15ZM8.99997 16.1378H9.99997V15.5705L9.51293 15.2794L8.99997 16.1378ZM18 9C18 11.4496 16.5421 14.0513 14.487 15.2794L15.5129 16.9963C18.1877 15.3979 20 12.1352 20 9H18ZM12 4C13.7598 4 15.2728 4.48657 16.3238 5.33011C17.3509 6.15455 18 7.36618 18 9H20C20 6.76783 19.082 4.97946 17.5757 3.77039C16.0931 2.58044 14.1061 2 12 2V4ZM5.99997 9C5.99997 7.36618 6.64903 6.15455 7.67617 5.33011C8.72714 4.48657 10.2401 4 12 4V2C9.89382 2 7.90681 2.58044 6.42427 3.77039C4.91791 4.97946 3.99997 6.76783 3.99997 9H5.99997ZM9.51293 15.2794C7.4578 14.0513 5.99997 11.4496 5.99997 9H3.99997C3.99997 12.1352 5.81225 15.3979 8.48701 16.9963L9.51293 15.2794ZM9.99997 19.5001V16.1378H7.99997V19.5001H9.99997ZM10.5 20.0001C10.2238 20.0001 9.99997 19.7763 9.99997 19.5001H7.99997C7.99997 20.8808 9.11926 22.0001 10.5 22.0001V20.0001ZM13.5 20.0001H10.5V22.0001H13.5V20.0001ZM14 19.5001C14 19.7763 13.7761 20.0001 13.5 20.0001V22.0001C14.8807 22.0001 16 20.8808 16 19.5001H14ZM14 16.1378V19.5001H16V16.1378H14Z",fill:"currentColor"}),(0,s.jsx)("path",{d:"M9 16.0001H15",stroke:"currentColor"}),(0,s.jsx)("path",{d:"M12 16V12",stroke:"currentColor",strokeLinecap:"square"}),(0,s.jsxs)("g",{children:[(0,s.jsx)("path",{d:"M20 7L19 8",stroke:"currentColor",strokeLinecap:"round",className:(0,h.cn)("transition-all duration-100 ease-in-out",t?"translate-x-[3px] -translate-y-[3px] opacity-100":"translate-x-0 translate-y-0 opacity-0")}),(0,s.jsx)("path",{d:"M20 9L19 8",stroke:"currentColor",strokeLinecap:"round",className:(0,h.cn)("transition-all duration-100 ease-in-out",t?"translate-x-[3px] translate-y-[3px] opacity-100":"translate-x-0 translate-y-0 opacity-0")}),(0,s.jsx)("path",{d:"M4 7L5 8",stroke:"currentColor",strokeLinecap:"round",className:(0,h.cn)("transition-all duration-100 ease-in-out",t?"-translate-x-[3px] -translate-y-[3px] opacity-100":"translate-x-0 translate-y-0 opacity-0")}),(0,s.jsx)("path",{d:"M4 9L5 8",stroke:"currentColor",strokeLinecap:"round",className:(0,h.cn)("transition-all duration-100 ease-in-out",t?"-translate-x-[3px] translate-y-[3px] opacity-100":"translate-x-0 translate-y-0 opacity-0")})]})]})},f=e=>(0,s.jsxs)(r.J,{...e,children:[(0,s.jsx)("path",{d:"M18.25 5.75C16.8693 4.36929 14.6307 4.36929 13.25 5.75L10.125 8.875L5.52404 13.476C4.86236 14.1376 4.45361 15.0104 4.36889 15.9423L4 20.0001L8.0578 19.6311C8.98967 19.5464 9.86234 19.1377 10.524 18.476L18.25 10.75C19.6307 9.36929 19.6307 7.13071 18.25 5.75V5.75Z",stroke:"currentColor"}),(0,s.jsx)("path",{d:"M12.5 7.5L16.5 11.5",stroke:"currentColor"})]}),g=e=>(0,s.jsx)(r.J,{...e,children:(0,s.jsx)("path",{d:"M4 20V15H4.31241M4.31241 15H9M4.31241 15C5.51251 18.073 8.50203 20.25 12 20.25C15.8582 20.25 19.0978 17.6016 20 14.0236M20 4V9H19.6876M19.6876 9H15M19.6876 9C18.4875 5.92698 15.498 3.75 12 3.75C8.14184 3.75 4.90224 6.3984 4 9.9764",stroke:"currentColor"})}),y=e=>(0,s.jsxs)(r.J,{...e,children:[(0,s.jsx)("path",{d:"M17.5 17L20.5 20",stroke:"currentColor",strokeLinecap:"square"}),(0,s.jsx)("circle",{cx:"11.25",cy:"10.75",r:"7.75",stroke:"currentColor"})]}),v=e=>(0,s.jsxs)(r.J,{...e,children:[(0,s.jsx)("path",{d:"M6.99609 9L11.9961 4L16.9961 9M6.99609 9M12 16V4",stroke:"currentColor"}),(0,s.jsx)("path",{d:"M4 15V16C4 18.2091 5.79086 20 8 20H16C18.2091 20 20 18.2091 20 16V15",stroke:"currentColor"})]}),w=e=>(0,s.jsxs)(r.J,{...e,children:[(0,s.jsx)("path",{d:"M15.5074 3.00732H20.9927M20.9927 3.00732L20.9927 8.49261M20.9927 3.00732L13.0932 10.9068",stroke:"currentColor",strokeLinecap:"square"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 7C4 5.34315 5.34315 4 7 4H11V2H7C4.23858 2 2 4.23858 2 7V17C2 19.7614 4.23858 22 7 22H17C19.7618 22 22 19.7597 22 16.9987V16.978V16.9572V16.9365V16.9158V16.8951V16.8744V16.8538V16.8331V16.8125V16.7919V16.7713V16.7507V16.7301V16.7095V16.689V16.6684V16.6479V16.6274V16.6069V16.5864V16.5659V16.5455V16.525V16.5046V16.4842V16.4638V16.4434V16.423V16.4026V16.3823V16.3619V16.3416V16.3213V16.301V16.2807V16.2604V16.2401V16.2199V16.1996V16.1794V16.1592V16.139V16.1188V16.0986V16.0784V16.0583V16.0381V16.018V15.9979V15.9778V15.9577V15.9376V15.9175V15.8974V15.8774V15.8574V15.8373V15.8173V15.7973V15.7773V15.7573V15.7373V15.7174V15.6974V15.6775V15.6575V15.6376V15.6177V15.5978V15.5779V15.558V15.5382V15.5183V15.4985V15.4786V15.4588V15.439V15.4192V15.3994V15.3796V15.3598V15.34V15.3203V15.3005V15.2808V15.2611V15.2413V15.2216V15.2019V15.1822V15.1626V15.1429V15.1232V15.1036V15.0839V15.0643V15.0447V15.025V15.0054V14.9858V14.9662V14.9466V14.9271V14.9075V14.888V14.8684V14.8489V14.8293V14.8098V14.7903V14.7708V14.7513V14.7318V14.7123V14.6928V14.6734V14.6539V14.6345V14.615V14.5956V14.5762V14.5567V14.5373V14.5179V14.4985V14.4791V14.4597V14.4404V14.421V14.4016V14.3823V14.3629V14.3436V14.3243V14.3049V14.2856V14.2663V14.247V14.2277V14.2084V14.1891V14.1698V14.1506V14.1313V14.112V14.0928V14.0735V14.0543V14.035V14.0158V13.9966V13.9774V13.9582V13.9389V13.9197V13.9005V13.8814V13.8622V13.843V13.8238V13.8047V13.7855V13.7663V13.7472V13.728V13.7089V13.6898V13.6706V13.6515V13.6324V13.6133V13.5941V13.575V13.5559V13.5368V13.5177V13.4986V13.4796V13.4605V13.4414V13.4223V13.4033V13.3842V13.3651V13.3461V13.327V13.308V13.2889V13.2699V13.2509V13.2318V13.2128V13.1938V13.1748V13.1557V13.1367V13.1177V13.0987V13.0797V13.0607V13.0417V13.0227V13.0037V13H20V13.0037V13.0227V13.0417V13.0607V13.0797V13.0987V13.1177V13.1367V13.1557V13.1748V13.1938V13.2128V13.2318V13.2509V13.2699V13.2889V13.308V13.327V13.3461V13.3651V13.3842V13.4033V13.4223V13.4414V13.4605V13.4796V13.4986V13.5177V13.5368V13.5559V13.575V13.5941V13.6133V13.6324V13.6515V13.6706V13.6898V13.7089V13.728V13.7472V13.7663V13.7855V13.8047V13.8238V13.843V13.8622V13.8814V13.9005V13.9197V13.9389V13.9582V13.9774V13.9966V14.0158V14.035V14.0543V14.0735V14.0928V14.112V14.1313V14.1506V14.1698V14.1891V14.2084V14.2277V14.247V14.2663V14.2856V14.3049V14.3243V14.3436V14.3629V14.3823V14.4016V14.421V14.4404V14.4597V14.4791V14.4985V14.5179V14.5373V14.5567V14.5762V14.5956V14.615V14.6345V14.6539V14.6734V14.6928V14.7123V14.7318V14.7513V14.7708V14.7903V14.8098V14.8293V14.8489V14.8684V14.888V14.9075V14.9271V14.9466V14.9662V14.9858V15.0054V15.025V15.0447V15.0643V15.0839V15.1036V15.1232V15.1429V15.1626V15.1822V15.2019V15.2216V15.2413V15.2611V15.2808V15.3005V15.3203V15.34V15.3598V15.3796V15.3994V15.4192V15.439V15.4588V15.4786V15.4985V15.5183V15.5382V15.558V15.5779V15.5978V15.6177V15.6376V15.6575V15.6775V15.6974V15.7174V15.7373V15.7573V15.7773V15.7973V15.8173V15.8373V15.8574V15.8774V15.8974V15.9175V15.9376V15.9577V15.9778V15.9979V16.018V16.0381V16.0583V16.0784V16.0986V16.1188V16.139V16.1592V16.1794V16.1996V16.2199V16.2401V16.2604V16.2807V16.301V16.3213V16.3416V16.3619V16.3823V16.4026V16.423V16.4434V16.4638V16.4842V16.5046V16.525V16.5455V16.5659V16.5864V16.6069V16.6274V16.6479V16.6684V16.689V16.7095V16.7301V16.7507V16.7713V16.7919V16.8125V16.8331V16.8538V16.8744V16.8951V16.9158V16.9365V16.9572V16.978V16.9987C20 18.656 18.6564 20 17 20H7C5.34315 20 4 18.6569 4 17V7Z",fill:"currentColor"})]}),I=e=>(0,s.jsxs)(r.J,{...e,children:[(0,s.jsx)("path",{d:"M10 4V4C8.13623 4 7.20435 4 6.46927 4.30448C5.48915 4.71046 4.71046 5.48915 4.30448 6.46927C4 7.20435 4 8.13623 4 10V13.6C4 15.8402 4 16.9603 4.43597 17.816C4.81947 18.5686 5.43139 19.1805 6.18404 19.564C7.03968 20 8.15979 20 10.4 20H14C15.8638 20 16.7956 20 17.5307 19.6955C18.5108 19.2895 19.2895 18.5108 19.6955 17.5307C20 16.7956 20 15.8638 20 14V14",stroke:"currentColor",strokeLinecap:"square"}),(0,s.jsx)("path",{d:"M12.4393 14.5607L19.5 7.5C20.3284 6.67157 20.3284 5.32843 19.5 4.5C18.6716 3.67157 17.3284 3.67157 16.5 4.5L9.43934 11.5607C9.15804 11.842 9 12.2235 9 12.6213V15H11.3787C11.7765 15 12.158 14.842 12.4393 14.5607Z",stroke:"currentColor",strokeLinecap:"square"})]}),b=e=>(0,s.jsx)(r.J,{...e,children:(0,s.jsx)("path",{d:"M7 4H3V15H5.5C6.32843 15 7 14.3284 7 13.5V4ZM7 4H16.2062C17.8403 4 19.257 5.13082 19.6192 6.72433L20.8059 11.9459C21.1614 13.5104 19.9724 15 18.3681 15H14.5L15.1142 18.6855C15.3162 19.8971 14.3818 21 13.1535 21C12.4402 21 11.7816 20.6178 11.4277 19.9984L8.43188 14.7558C8.16482 14.2884 7.6678 14 7.12952 14H6.91465",stroke:"currentColor"})}),S=e=>(0,s.jsx)(r.J,{...e,children:(0,s.jsx)("path",{d:"M7 20H3V9H5.5C6.32843 9 7 9.67157 7 10.5V20ZM7 20H16.2062C17.8403 20 19.257 18.8692 19.6192 17.2757L20.8059 12.0541C21.1614 10.4896 19.9724 9 18.3681 9H14.5L15.1142 5.31454C15.3162 4.10294 14.3818 3 13.1535 3C12.4402 3 11.7816 3.38222 11.4277 4.00155L8.43188 9.24421C8.16482 9.71157 7.6678 10 7.12952 10H6.91465",stroke:"currentColor"})}),R=e=>(0,s.jsxs)(r.J,{...e,children:[(0,s.jsx)("path",{d:"M2.99561 7H20.9956",stroke:"currentColor"}),(0,s.jsx)("path",{d:"M9.99561 11V17M13.9956 11V17",stroke:"currentColor"}),(0,s.jsx)("path",{d:"M8 6.5L8.68917 4.08792C8.87315 3.44397 9.46173 3 10.1315 3H13.8685C14.5383 3 15.1268 3.44397 15.3108 4.08792L16 6.5",stroke:"currentColor"}),(0,s.jsx)("path",{d:"M5 7L5.80098 18.2137C5.91312 19.7837 7.21944 21 8.79336 21H15.2066C16.7806 21 18.0869 19.7837 18.199 18.2137L19 7",stroke:"currentColor"})]}),x=e=>(0,s.jsx)(r.J,{...e,children:(0,s.jsx)("path",{d:"M6 6L18 18M18 6L6 18",stroke:"currentColor"})})},39815:function(e,t,n){n.d(t,{DB:function(){return C},Ye:function(){return x},oe:function(){return T}});var s=n(91124),r=n(92014),i=n(30451),o=n(73466),a=n(31448),l=n(40571),d=n(55607),c=n(82314),u=n(37358),h=n(66762),p=n(5198),m=n(47876),f=n(65779),g=n(81019),y=n(43871),v=n(28729),w=n(82997),I=n(8491),b=n(79468),S=n(14413),R=n(64868);function x(e){let{handleSend:t}=e,{t:n}=(0,S.$G)("base"),{personas:u}=(0,a.HG)(),{client:h}=(0,c.useStatsigClient)(),p=(0,d.t)(I.Z("list")),{routeToConversation:m}=(0,o.o)(),f=(0,r.gK)(I.Z("setReasoningMode")),g=(0,b.useCallback)(e=>{f("none");let{initialQuery:s,toolOverrides:r,addToLastChat:i}=T(e.personaId);if(h.logEvent("click_persona",e.personaId,{location:"persona-pills"}),i){let t=p.filter(t=>t.personaId===e.personaId).sort((e,t)=>new Date(t.modifyTime).getTime()-new Date(e.modifyTime).getTime())[0];if(t){m(t.conversationId);return}}t(n(s),void 0,r,!1,e)},[f,t,p]);return(0,s.jsxs)("div",{className:"w-full flex flex-col items-center gap-4 max-w-[50rem]",children:[(0,s.jsx)("div",{className:"text-secondary text-sm",children:n("Start a new chat with Grok’s Personas:")}),(0,s.jsx)("div",{className:"flex flex-row gap-2 flex-wrap justify-center",children:u.map(e=>{let{icon:t,colorClassName:r}=C(e.personaId);return(0,s.jsxs)(i.zx,{className:"border gap-1 px-3",variant:"ghostSecondary",size:"pill",onClick:()=>g(e),children:[(0,s.jsx)("span",{className:(0,l.cn)("[&>svg]:h-4",r),children:t}),n(e.name)]},e.name)})})]})}function C(e){switch(e){case"news":return{icon:(0,s.jsx)(u.Z,{}),colorClassName:"text-[#4A5365] dark:text-[#768293]"};case"doctor":return{icon:(0,s.jsx)(h.Z,{}),colorClassName:"text-[#866dae] dark:text-[#8A75AD]"};case"friend":return{icon:(0,s.jsx)(p.Z,{}),colorClassName:"text-[#ca5f29] dark:text-[#D98F66]"};case"tutor":return{icon:(0,s.jsx)(m.Z,{}),colorClassName:"text-[#62a445] dark:text-[#6E927D]"};case"romance":return{icon:(0,s.jsx)(f.Z,{}),colorClassName:"text-[#bf4c92] dark:text-[#C07DA5]"};case"unhinged":return{icon:(0,s.jsx)(g.Z,{}),colorClassName:"text-[#bb992e] dark:text-[#C4A06B]"};case"therapist":return{icon:(0,s.jsx)(y.Z,{}),colorClassName:"text-[#3a8d84] dark:text-[#759E9A]"};case"scientist":return{icon:(0,s.jsx)(v.Z,{}),colorClassName:"text-[#426db1] dark:text-[#7F93B0]"};case"coder":return{icon:(0,s.jsx)(w.Z,{}),colorClassName:"text-[#91b02e] dark:text-[#8DA983]"};default:throw Error("Unknown personaId: ".concat(e))}}function T(e){let t={webSearch:!1,xSearch:!1,xMediaSearch:!1,trendsSearch:!1,xPostAnalyze:!1,imageGen:!1};switch(e){case"news":return{toolOverrides:{webSearch:!0,xSearch:!0,xMediaSearch:!0,trendsSearch:!0,xPostAnalyze:!0,imageGen:!1},initialQuery:"Tell me the latest news.",addToLastChat:!1,hideDeepSearch:!0,hideThinking:!1};case"doctor":return{toolOverrides:t,initialQuery:"Hello, what do you do?",addToLastChat:!0,hideDeepSearch:!1,hideThinking:!1,disclaimer:"Grok is not a doctor. Please consult one. Don't share personal information that will identify you."};case"friend":return{toolOverrides:t,initialQuery:"Hello, what do you do?",addToLastChat:!0,hideDeepSearch:!0,hideThinking:!0};case"tutor":case"therapist":return{toolOverrides:t,initialQuery:"Hello, what do you do?",addToLastChat:!0,hideDeepSearch:!1,hideThinking:!1};case"romance":return{toolOverrides:{webSearch:!1,xSearch:!1,xMediaSearch:!1,trendsSearch:!1,xPostAnalyze:!1},initialQuery:"Hello, what do you do?",addToLastChat:!0,hideDeepSearch:!0,hideThinking:!0};case"unhinged":return{toolOverrides:t,initialQuery:"Hello, what do you do?",addToLastChat:!1,hideDeepSearch:!0,hideThinking:!0};case"scientist":case"coder":return{toolOverrides:t,initialQuery:"Hello, what do you do?",addToLastChat:!1,hideDeepSearch:!1,hideThinking:!1};default:throw Error("Unknown personaId: ".concat(e))}}R.z.union([R.z.literal("Hello, what do you do?"),R.z.literal("Tell me the latest news.")]),R.z.union([R.z.literal("Grok is not a doctor. Please consult one. Don't share personal information that will identify you."),R.z.literal("Grok is not a therapist. Please consult one. Don't share personal information that will identify you."),R.z.literal("Some content may be sexual in nature.")])},3230:function(e,t,n){n.d(t,{I:function(){return a}});var s=n(91124),r=n(65040),i=n(79468),o=n(45874);let a=e=>({fileMetadataId:e.assetId,fileName:e.name,fileMimeType:e.mimeType,fileUri:e.key,parsedFileUri:e.previewImageKey,createTime:(0,r.g)(e.createTime).toISOString()});t.Z=function(e){let{asset:t,onRemoveAsset:n,isShared:r}=e,l=(0,i.useMemo)(()=>a(t),[t]),d=(0,i.useCallback)(()=>{null==n||n(t)},[n]);return(0,s.jsx)(o.j,{fileName:t.name,metadata:l,onRemove:n?d:void 0,isShared:r})}},19452:function(e,t,n){n.d(t,{B:function(){return eu}});var s=n(91124),r=n(92014),i=n(9089),o=n(79468),a=function(){let[e,t]=(0,o.useState)(0),n=(0,o.useRef)(null);return(0,o.useLayoutEffect)(()=>{let e=()=>{n.current&&t(n.current.getBoundingClientRect().width)};if(e(),window.addEventListener("resize",e),n.current){let t=new ResizeObserver(()=>{e()});return t.observe(n.current),()=>{window.removeEventListener("resize",e),t.disconnect()}}},[]),[n,e]},l=n(36826),d=n(38540),c=n(68020),u=n(71974),h=n(15537),p=n(17090),m=n(24915),f=n(96373),g=n(31448),y=n(32330),v=n(6754),w=n(40571),I=n(55607),b=n(80617),S=n(82314),R=n(24400),x=n(28991),C=n(59077),T=n(8491),k=n(68276),P=n(14413),E=n(84755),_=n(68472),V=n(77626),A=n(30451),N=n(86202),M=n(1530),U=n(8546),j=n(43059),L=n(23288),O=n(6620),q=n(3230),D=n(87101),B=n(45874),F=n(7767);function G(e){let{handleClickUpload:t,renderInput:n,onAttachAsset:r}=e,{t:i}=(0,P.$G)("base"),a=(0,l.g)(),{client:c}=(0,S.useStatsigClient)(),u=(0,M.w)(),h=(0,F.x)(T.Z("open")),p=(0,F.x)(T.Z("setOpen")),m=(0,j.a)(T.Z("fetchListAssets")),{attachFiles:f}=(0,d.Z)(),{data:g}=(0,U.f)(m({pageSize:8,mimeTypes:[],orderBy:"ORDER_BY_LAST_USE_TIME",assetIds:[]})),[y,v]=(0,o.useState)(!1),I=(0,o.useCallback)(e=>{c.logEvent("upload-dialog-asset-clicked",e.assetId,{assetId:e.assetId}),r(e),p(!1)},[r]);return(0,s.jsxs)(D.c,{open:h,setOpen:p,contentClassName:(0,w.cn)("focus:outline-0 focus-within:outline-0 gap-2","bg-background rounded-3xl","w-full md:w-5/6 lg:w-3/5 max-w-3xl","flex flex-col","md:overflow-hidden","px-6 pb-6",u&&"rounded-b-none"),children:[(0,s.jsxs)(N.fK,{className:"pt-5 pb-3 min-h-10",children:[(0,s.jsx)(N.$N,{className:(0,w.cn)("text-xl text-left"),children:i("Attach")}),(0,s.jsx)(N.Be,{hidden:!0,children:i("Attach Files")})]}),(0,s.jsx)(A.zx,{className:"absolute right-3.5 top-3.5",variant:"ghost",size:"icon",onClick:()=>{p(!1)},tabIndex:-1,children:(0,s.jsx)(L.Z,{size:18,className:"text-secondary"})}),(0,s.jsx)("div",{onDragOver:e=>{e.preventDefault(),v(!0)},onDragLeave:e=>{e.preventDefault(),v(!1)},onDrop:e=>{e.preventDefault(),v(!1),f(Array.from(e.dataTransfer.files)),p(!1)},className:"border border-dashed border-card-border rounded-2xl p-8 mb-3 text-center ".concat(y&&"border-input-border-focus"),children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,s.jsx)("div",{className:"p-3 bg-card rounded-full",children:(0,s.jsx)(O.Z,{className:"h-6 w-6"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-primary",children:i("Upload files")}),y?(0,s.jsx)("p",{className:"text-sm text-secondary",children:i("Drop files here")}):(0,s.jsx)("p",{className:"text-sm text-secondary",children:i("Drag and drop to upload")})]}),(0,s.jsx)("div",{className:"flex gap-3",children:(0,s.jsx)(A.zx,{variant:"outline",className:"text-primary hover:bg-button-ghost-hover",onClick:t,children:i("Select files")})}),n()]})}),a.SHOW_RECENT_ASSETS_FOR_UPLOAD&&g&&g.assets.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"mb-3",children:i("Recent Files")}),(0,s.jsx)("div",{className:(0,w.cn)("grid-cols-[repeat(auto-fit,minmax(200px,1fr))] gap-3",g.assets.length<3?"grid sm:flex flex-row flex-wrap ":"grid"),children:g.assets.map(e=>(0,s.jsx)(B.j,{fileName:e.name,metadata:(0,q.I)(e),onClick:()=>I(e)},e.assetId))})]})]})}function H(e){let{metadata:t,onRemoveFile:n,file:r}=e,i=t instanceof Error,a=(0,o.useMemo)(()=>t&&!i?t.fileName||"":r?r.name:"Unknown",[t,i]),l=(0,o.useCallback)(()=>{r&&n&&n(r)},[r,n]);return(0,s.jsx)(B.j,{fileName:a,metadata:t,onRemove:l})}var z=n(39815),Z=n(82689);function W(e){let{text:t,isShown:n,className:r=""}=e,i=(0,o.useId)();return(0,s.jsx)(C.M,{children:n&&(0,s.jsx)(x.E.span,{layout:!0,initial:{opacity:0,width:4},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:4},transition:{duration:.1,ease:"easeInOut"},className:"inline-block whitespace-nowrap ".concat(r),children:t},i)})}var K=n(3351);function J(e){var t,n;let{model:o,personaSettings:a,isDeepsearchSelected:d,isIncognito:c,deepsearchDisabled:u,forceShowLabel:h=!0,showLabel:p=!1}=e,m=(0,l.g)(),{client:f}=(0,S.useStatsigClient)(),{t:g}=(0,P.$G)("base"),v=(0,r.gK)(T.Z("isDeepSearchRateLimited")),{data:I}=(0,y.Pd)();if(!o)return;let b=null===(t=o.tags)||void 0===t?void 0:t.includes("deepsearch"),R=null===(n=o.tags)||void 0===n?void 0:n.includes("always_show_deepsearch");if(a&&a.hideDeepSearch||!b&&!R)return;let x=R&&!b||v;return x&&!m.SHOW_SUBSCRIPTION_FLOWS?void 0:x&&m.SHOW_SUBSCRIPTION_FLOWS&&(null==I?void 0:I.hasSubscriptions)?(0,s.jsxs)(A.g$,{tooltipAsChild:!0,className:(0,w.cn)("border border-toggle-border","bg-transparent hover:bg-toggle-hover"),variant:"secondary",size:"pill",onClick:()=>{(0,K._.getState().setIsUpselling)(!0)},tooltipProps:{disableHoverableContent:!0,delayDuration:0},tooltipContent:g("Go Super to use DeepSearch"),tooltipContentProps:{side:"bottom",className:"bg-primary text-background"},disabled:m.DISABLE_RESEARCH_TOGGLE,"aria-pressed":d,children:[(0,s.jsx)(i.Go,{size:20,className:d?"":"text-secondary"}),h&&(0,s.jsx)("span",{children:g("DeepSearch")})]},"search"):(0,s.jsxs)(A.g$,{tooltipAsChild:!0,className:(0,w.cn)("border border-toggle-border","overflow-hidden","items-center justify-center",!p&&!h&&"px-[9px]",d&&"bg-toggle-selected hover:bg-toggle-selected",!d&&!c&&"bg-transparent hover:bg-toggle-hover",!d&&c&&"bg-transparent hover:bg-zinc-400/10 dark:hover:bg-toggle-hover"),variant:"secondary",size:"pill",onClick:()=>{let e=r.gK.getState().setReasoningMode,t=d?"none":"deepsearch";f.logEvent("switch_reasoning_mode",t),e(t)},tooltipProps:{disableHoverableContent:!0,delayDuration:600},tooltipContent:g("Advanced search and reasoning"),tooltipContentProps:{side:"bottom",className:"bg-primary text-background"},disabled:m.DISABLE_RESEARCH_TOGGLE||u,tabIndex:0,"aria-pressed":d,children:[(0,s.jsx)(i.Go,{isOn:d,size:20,className:d?"text-primary":"text-secondary"}),h?(0,s.jsx)("span",{children:g("DeepSearch")}):(0,s.jsx)(W,{className:"max-w-full truncate text-xs",text:g("DeepSearch"),isShown:p})]},"search")}var Q=n(90982),X=e=>{let{onClick:t=()=>{}}=e,n=(0,M.w)();(0,o.useEffect)(()=>{if(n)return document.addEventListener("click",t),()=>document.removeEventListener("click",t)},[n])},$=n(26147),Y=n(93498);let ee=(0,n(17377).j)("inline-flex items-center rounded-full border border-input-border px-2 py-0.5 text-[10px] font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-secondary"}},defaultVariants:{variant:"default"}});function et(e){let{className:t,variant:n,...r}=e;return(0,s.jsx)("div",{className:(0,w.cn)(ee({variant:n}),t),...r})}var en=n(98139),es=n(99019),er=n(15783),ei=n(70953);function eo(){let e=(0,l.g)(),{artifactsEnabled:t}=(0,r.gK)(),{t:n}=(0,P.$G)("base");if(e.SHOW_ARTIFACTS_BUTTON)return(0,s.jsxs)("div",{className:"min-w-64 flex flex-row items-center justify-between px-3 py-2",children:[(0,s.jsxs)("div",{className:"flex flex-col items-start text-xs",children:[(0,s.jsx)("span",{className:"text-xs font-semibold text-primary",children:n("Enable Artifacts")}),(0,s.jsx)("span",{className:"mr-2 text-xs text-secondary",children:n("Early Beta")})]}),(0,s.jsx)(er.r,{checked:t,onClick:()=>{(0,r.gK.getState().setArtifactsEnabled)(!t)}})]})}var ea=function(){var e;let t=(0,l.g)(),{t:n}=(0,P.$G)("base"),{user:a}=(0,Z.kP)(),{data:d}=(0,y.Pd)(),[c,u]=(0,p.Z)("model-select-tutorial",!1),{client:h}=(0,S.useStatsigClient)(),{models:m,unavailableModels:g,modelById:I,isPending:b}=(0,f.bP)(),R=(0,K._)(T.Z("setIsUpselling")),x=(0,$.G)(T.Z("setIsUpsellingX")),C=(0,r.gK)(T.Z("activeModelId")),k=(0,r.gK)(T.Z("setActiveModelId")),E=(0,r.gK)(T.Z("outputMode")),_=(0,r.gK)(T.Z("setOutputMode")),V=(0,r.gK)(T.Z("reasoningMode"));X({onClick:()=>u(!0)});let N=(0,o.useCallback)(e=>{h.logEvent("set_model",e,{location:"query-bar"}),k(e)},[h]),M=(0,o.useCallback)(()=>{if((null==d?void 0:d.hasSubscriptions)&&t.SHOW_SUBSCRIPTION_FLOWS){R(!0);return}(null==a?void 0:a.xSubscriptionType)==="PremiumPlus"&&t.SHOW_X_PREMIUM_FLOWS&&x(!0)},[]),U=(0,o.useMemo)(()=>{if(b)return Q.jd;let e=I[C];if(!e){(0,v.H)("model-select:ModelSelect:prettyActiveModelName","Model ID ".concat(C," not found."));let e=Object.values(I)[0];return e?(k(e.modelId),e.name||Q.jd):Q.jd}return e.name||Q.jd},[I,C,b]),j=(0,o.useCallback)(e=>{e.preventDefault();let t="modelOnly"===E?"auto":"modelOnly";h.logEvent("switch_tools",t),_(t)},[E]),[L,O]=(0,o.useState)(!1),q=(0,o.useMemo)(()=>m.some(e=>e.modelId.startsWith("grok-3")),[m]),D=(0,o.useCallback)(e=>{c||u(!0),O(e)},[c]);return(0,s.jsxs)(en.h_,{open:L,onOpenChange:D,children:[(0,s.jsx)(en.$F,{asChild:!0,children:(0,s.jsxs)(A.g$,{className:"flex-row pl-3 pr-2.5 h-9 sm:px-3 border border-button-outline-border sm:border-0",variant:"ghost",size:"pill",tooltipProps:{open:q&&!c},tooltipContentProps:{side:"bottom",align:"end",className:ei.vq},tooltipContent:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Y.Eh,{className:"fill-primary"}),(0,s.jsx)("p",{className:"text-sm font-semibold",children:n("Grok 3 Enabled")}),(0,s.jsx)("p",{className:"text-xs text-primary-foreground/60",children:n("You have the most powerful model available")})]}),children:[(0,s.jsx)("span",{className:"inline-block text-primary text-xs @[400px]/input:text-sm",children:U}),(0,s.jsx)(i.v4,{className:"size-3 sm:size-4 text-secondary transition-transform ".concat(L&&"rotate-180")})]})}),(0,s.jsxs)(en.AW,{side:"bottom",align:"end",sideOffset:6,alignOffset:-5,className:"flex flex-col shadow-lg shadow-input-border border-input-border dark:shadow-none",children:[(t.SHOW_X_PREMIUM_FLOWS||t.SHOW_SUBSCRIPTION_FLOWS)&&g.map(e=>(0,s.jsxs)(en.Xi,{className:(0,w.cn)("group/output-mode cursor-pointer flex-col items-start",{"no-siblings-highlighted":e.modelId===C}),onClick:M,children:[(0,s.jsxs)("div",{className:"flex items-center w-full gap-2",children:[(0,s.jsx)("span",{className:"font-medium text-primary",children:e.name||e.modelId}),(0,s.jsxs)(et,{className:"text-primary",variant:"outline",children:[t.SHOW_X_PREMIUM_FLOWS&&!t.SHOW_SUBSCRIPTION_FLOWS&&n("X Premium Plus Only"),t.SHOW_SUBSCRIPTION_FLOWS&&n("SuperGrok Only")]})]}),(0,s.jsx)("span",{className:"text-sm text-secondary",children:e.description})]},e.modelId)),m.map(e=>{var t,n;return(0,s.jsxs)(en.Xi,{className:(0,w.cn)("group/output-mode cursor-pointer flex-col items-start",{"no-siblings-highlighted":e.modelId===C}),onClick:()=>N(e.modelId),children:[(0,s.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[(0,s.jsx)("span",{className:"font-semibold text-primary",children:e.name||e.modelId}),(null===(t=e.badgeText)||void 0===t?void 0:t.trim())&&(0,s.jsx)("div",{className:"px-[5px] rounded-full text-[10px] text-secondary bg-[#D6DAE3] dark:bg-white/10",children:null===(n=e.badgeText)||void 0===n?void 0:n.trim()})]}),(0,s.jsx)("span",{className:"text-sm text-secondary",children:e.description})]},e.modelId)}),m.length>0?(0,s.jsx)(es.Z,{className:"my-2 self-center w-[90%] bg-secondary/25"}):null,(0,s.jsxs)("div",{className:"min-w-64 flex flex-row items-center justify-between px-3 py-2",children:[(0,s.jsxs)("div",{className:"flex flex-col items-start text-xs",children:[(0,s.jsx)("span",{className:"text-xs font-semibold text-primary",children:n("Enable Search")}),(0,s.jsx)("span",{className:"mr-2 text-xs text-secondary",children:"deepsearch"===V?n("Auto-enabled for DeepSearch"):"modelOnly"===E?n("Answer without a web search"):n("Grok can browse the web")})]}),(0,s.jsx)(er.r,{checked:"deepsearch"===V||"auto"===(e=E)||"image"===e||"search"===e,onClick:j,className:"deepsearch"===V?"opacity-30 cursor-not-allowed":void 0})]}),(0,s.jsx)(eo,{})]})]})};function el(e){var t,n;let{model:o,personaSettings:a,isThinkSelected:d,isIncognito:c,thinkDisabled:u,forceShowLabel:h=!0,showLabel:p=!1}=e,m=(0,l.g)(),{client:f}=(0,S.useStatsigClient)(),{t:g}=(0,P.$G)("base"),v=(0,r.gK)(T.Z("isThinkingRateLimited")),{data:I}=(0,y.Pd)();if(!o)return;let b=null===(t=o.tags)||void 0===t?void 0:t.includes("think"),R=null===(n=o.tags)||void 0===n?void 0:n.includes("always_show_think");if(a&&a.hideDeepSearch||!b&&!R)return;let x=R&&!b||v;return x&&!m.SHOW_SUBSCRIPTION_FLOWS?void 0:x&&m.SHOW_SUBSCRIPTION_FLOWS&&(null==I?void 0:I.hasSubscriptions)?(0,s.jsxs)(A.g$,{tooltipAsChild:!0,className:(0,w.cn)("border border-toggle-border","bg-transparent hover:bg-toggle-hover"),variant:"secondary",size:"pill",onClick:()=>{(0,K._.getState().setIsUpselling)(!0)},tooltipProps:{disableHoverableContent:!0,delayDuration:0},tooltipContent:g("Go Super to use Think"),tooltipContentProps:{side:"bottom",className:"bg-primary text-background"},disabled:m.DISABLE_RESEARCH_TOGGLE,"aria-pressed":d,children:[(0,s.jsx)(i.WG,{size:20,className:"text-secondary"}),(0,s.jsx)("span",{className:"hidden @[600px]/input:inline-block",children:g("Think")})]},"search"):(0,s.jsxs)(A.g$,{tooltipAsChild:!0,className:(0,w.cn)("border border-toggle-border","overflow-hidden","flex items-center justify-center",!p&&!h&&"px-[9px]",d&&"bg-toggle-selected hover:bg-toggle-selected",!d&&!c&&"bg-transparent hover:bg-toggle-hover",!d&&c&&"bg-transparent hover:bg-zinc-400/10 dark:hover:bg-toggle-hover"),variant:"secondary",size:"pill",onClick:()=>{let e=r.gK.getState().setReasoningMode,t=d?"none":"think";f.logEvent("switch_reasoning_mode",t),e(t)},tooltipProps:{disableHoverableContent:!0,delayDuration:600},tooltipContent:g("Let the model take its time"),tooltipContentProps:{side:"bottom",className:"bg-primary text-background"},disabled:m.DISABLE_THINK_TOGGLE||u,tabIndex:0,"aria-pressed":d,children:[(0,s.jsx)(i.WG,{isOn:d,size:20,className:"".concat(d?"":"text-secondary")}),h?(0,s.jsx)("span",{children:g("Think")}):(0,s.jsx)(W,{className:"max-w-full truncate text-xs",text:g("Think"),isShown:p})]},"reason")}let ed=async()=>!1,ec=[],eu=(0,o.forwardRef)((e,t)=>{let{id:n,className:N,textAreaClassName:M,onQuery:U=ed,streamState:j,onAbort:L=ed,disabled:O,enterSubmit:D=!0,onKeyDown:B,onChange:W,placeholder:K,onFrontPage:Q=!1,isIncognito:X}=e,{t:$}=(0,P.$G)("base"),{user:Y}=(0,Z.kP)(),{client:ee}=(0,S.useStatsigClient)(),{attachFiles:et,detachFile:en}=(0,d.Z)(),es=(0,r.gK)(T.Z("conversationId")),er=(0,r.gK)(T.Z("artifactsEnabled")),ei=(0,l.g)(),[eo,eu]=(0,p._)("model-select-tutorial",!1),eh=(0,o.useRef)(null),ep=(0,o.useRef)(null),em=(0,o.useRef)(null),[ef,eg]=a(),ey=eg>340,ev=eg>420,ew=(0,m.r)();(0,o.useImperativeHandle)(t,()=>({getTextArea:()=>ep.current}));let eI=es||"no_conversation_id",{register:eb,handleSubmit:eS,formState:{errors:eR}}=(0,k.cI)(),{ref:ex,...eC}=eb("files",{validate:e=>!(eO.length+((null==e?void 0:e.length)||0)>d.l)||"".concat($("Max number of files allowed is")," ").concat(d.l)}),eT=(0,r.gK)(T.Z("queryByConversationId")),ek=(0,r.gK)(T.Z("idsetQueryByConversationId")),eP=eT[eI],eE=(0,o.useCallback)(e=>ek(e,eI),[eI]);(0,o.useEffect)(()=>{ep.current&&(ep.current.value=eT[eI]||"")},[eI]);let e_=(0,r.gK)(T.Z("setActiveModelId")),{isThinkSelected:eV,isDeepsearchSelected:eA}=(0,f.NK)(),eN=(0,b.O)(T.Z("listByConversationId")),eM=(0,b.O)(T.Z("attachListByConversationId")),eU=(0,b.O)(T.Z("delistAttachByConversationId")),ej=(0,b.O)(T.Z("lisertAttachByConversationId")),eL=(0,F.x)(T.Z("setOpen")),eO=eN[eI]||ec,eq=eM[eI]||ec,eD=(0,r.gK)(T.Z("activeModelId")),eB=(0,r.gK)(T.Z("queryBarExpanded")),eF=(0,r.gK)(T.Z("setQueryBarExpanded")),eG=(0,r.gK)(T.Z("setIsTypingDebounce")),eH=(0,o.useMemo)(()=>!!Q||!!eP&&eP.length>0||eB,[eP,Q,eB]),ez="error"===j,eZ="optimistic"===j||"streaming"===j||"reconnecting"===j,[eW,eK]=(0,o.useState)(!1),eJ=(0,o.useMemo)(()=>{var e;let t=eO.some(e=>void 0===e.metadata),n=eO.some(e=>e.metadata instanceof Error),s=!!eP||eO.length>0||(null===(e=eM[eI])||void 0===e?void 0:e.length)>0;return!t&&!n&&!eW&&s&&!O},[eO,O,eZ,eW,eP,eM,eI]),eQ=(0,o.useCallback)(async()=>{var e;if(!eJ||((eZ||ez)&&await L(),!ep.current))return;let t=b.O.getState(),n=ep.current.value,s=eO.map(e=>e.metadata).filter(e=>e&&!(e instanceof Error)),r=[...null!==(e=eM[eI])&&void 0!==e?e:[]],i=[...s.map(e=>e.fileMetadataId),...r.map(e=>e.assetId)];eE(""),ep.current.value="",t.removeByConversationId(eI),t.removeAttachByConversationId(eI),eK(!0),await U(n||$("Refer to the following content:"),i,void 0,!1).finally(()=>eK(!1))||(eE(n),ep.current&&(ep.current.value=n),eO.map(e=>t.lisertByConversationId(e,eI)),r.map(e=>t.lisertAttachByConversationId(e,eI)))},[U,eE,eJ,eZ,ez,L,er,eO,eM,eI]),eX=eS(()=>eQ()),e$=(0,o.useCallback)(e=>{e.preventDefault(),eX().catch(e=>{(0,v.H)("query-bar:handleSubmit",e)})},[eX]);(0,c.y)(u.FG,()=>{eX().catch(e=>{(0,v.H)("query-bar:hotkeys",e)})},[eX]);let eY=(0,I.t)(e=>es?e.byId[es]:void 0),e0=(0,o.useMemo)(()=>{if(eY&&(0,g.VO)(eY.personaId))return(0,z.oe)(eY.personaId)},[eY]);(0,o.useEffect)(()=>{let e=e=>{!e.metaKey&&!e.ctrlKey&&!e.altKey&&!e.repeat&&"Tab"!==e.key&&"Enter"!==e.key&&"Shift"!==e.key&&/[a-zA-Z0-9]/.test(e.key)&&Q&&ep.current&&ep.current.focus()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[Q]);let e1=function(e){let t=(0,h.D)(),n=(0,o.useRef)(!1);return(0,o.useEffect)(()=>{if(!t||!e.current)return;let s=()=>{n.current=!0},r=()=>{setTimeout(()=>{n.current=!1},50)};return e.current.addEventListener("compositionstart",s),e.current.addEventListener("compositionend",r),()=>{var t,n;null===(t=e.current)||void 0===t||t.removeEventListener("compositionstart",s),null===(n=e.current)||void 0===n||n.removeEventListener("compositionend",r)}},[e,t]),n}(ep),e9=(0,o.useCallback)(e=>{let t=!e.metaKey&&!e.ctrlKey&&!e.shiftKey,n=!e.nativeEvent.isComposing&&"Process"!==e.key&&"KeyZ"!==e.code&&!e1.current;if("Enter"===e.key&&t&&n&&D&&!ew){e.preventDefault(),eX().catch(e=>{(0,v.H)("query-bar:handleKeyDown",e)});return}null==B||B(e)},[D,B,eX,ew]),e4=(0,o.useRef)(null),e2=(0,o.useCallback)(e=>{var t;eo||eu(!0),eE(null===(t=ep.current)||void 0===t?void 0:t.value),eF(!0),null==W||W(e),eG(!0),e4.current&&clearTimeout(e4.current),e4.current=setTimeout(()=>{eG(!1)},600)},[W,eE]),e3=(0,o.useCallback)(()=>{var e;null===(e=em.current)||void 0===e||e.click()},[]),e6=(0,o.useCallback)(e=>{if(!e.target.files)return;let t=Array.from(e.target.files);et(t),t.forEach(e=>{ee.logEvent("upload_file",e.name,{location:"file-attach-button",mimeType:e.type})}),ei.SHOW_UPLOAD_DIALOG&&eL(!1)},[et,ee,eL,ei]),e5=(0,o.useCallback)(e=>{en(em,e)},[em,en]),e7=(0,o.useCallback)(e=>{eU(eI,e.assetId)},[eI]),e8=(0,o.useCallback)(()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("input",{ref:e=>{ex(e),em.current=e},...eC,className:"hidden",type:"file",onChange:e6,multiple:!0}),eR.files&&(0,s.jsx)("div",{className:"text-red-500 absolute top-[-20px]",children:eR.files.message})]}),[ex,e6]),[te,tt]=(0,o.useState)(0),tn=(0,o.useMemo)(()=>Array.isArray(K)?K[te]:K,[K,te]);(0,o.useEffect)(()=>{},[String(K),!1]);let ts=(0,o.useCallback)(()=>{var e;eF(!0),null===(e=ep.current)||void 0===e||e.focus()},[]),{modelById:tr,defaultAnonModelId:ti,defaultFreeModelId:to,defaultProModelId:ta,isPending:tl}=(0,f.bP)(),{data:td}=(0,y.Pd)(),tc=ei.HIDE_SUBSCRIPTION_FLOWS_FROM_PREMIUM_PLUS_USERS&&(null==Y?void 0:Y.xSubscriptionType)==="PremiumPlus"||(null==td?void 0:td.hasSubscriptions);(0,o.useEffect)(()=>{var e;if(!tl&&!eD&&tr[eD]){if(tc&&ta&&tr[ta]){e_(ta);return}if(Y&&to&&tr[to]){e_(to);return}if(ti&&tr[ti]){e_(ti);return}e_(null===(e=Object.values(tr)[0])||void 0===e?void 0:e.modelId)}},[tl,eD,tr,ti,to,ta,Y]);let tu=!Y,th=(0,o.useCallback)(()=>{ei.SHOW_UPLOAD_DIALOG?eL(!0):e3()},[ee,e3,eL]),tp=eO.length+eq.length,tm=(0,o.useCallback)(e=>{e&&(eq.some(t=>t.assetId===e.assetId)||(tp+1<=d.l?ej(e,eI):V.Am.error("".concat($("Max number of files allowed is")," ").concat(d.l))))},[ej,eI,tp,eq]),tf=null==tr?void 0:tr[eD],{isAttachDisabled:tg,isThinkDisabled:ty,isDeepsearchDisabled:tv}=(0,f.NK)(tf),tw=(0,o.useCallback)(e=>{if(tg)return;let t=[],n=e.clipboardData.getData("text");if(ei.STORE_LONG_PASTES_AS_FILES&&n.length>102400){let e=new File([new Blob([n],{type:"text/plain"})],"pasted-text.txt",{type:"text/plain"});t.push(e)}let s=e.clipboardData.items;if(s)for(let e=0;e<s.length;e++){let n=s[e].getAsFile();n&&t.push(n)}t.length>0&&(e.preventDefault(),et(t),t.forEach(e=>{ee.logEvent("upload_file",e.name,{location:"file-paste",mimeType:e.type})}))},[et,ee,ei,tg]);return(0,s.jsxs)("form",{id:n,className:(0,w.cn)("sticky bottom-0","w-full text-base flex flex-col gap-2 items-center justify-center relative z-10",N),onSubmit:eX,children:[(0,s.jsxs)("div",{ref:eh,onClick:ts,className:(0,w.cn)("flex flex-row gap-2 justify-center w-full relative",Q?"@lg:w-4/5":""),children:[e8(),(0,s.jsxs)("div",{ref:ef,className:(0,w.cn)("duration-100 relative w-full max-w-[50rem] ring-1 ring-input-border ring-inset overflow-hidden bg-input @container/input","hover:ring-card-border-focus hover:bg-input-hover","focus-within:ring-1 focus-within:ring-input-border-focus hover:focus-within:ring-input-border-focus",{"pb-12 px-2 @[480px]/input:px-3 rounded-3xl":eH,"px-12 pb-0 rounded-[40px]":!eH,"shadow shadow-input-border/10":!Q,"bg-input-incognito focus-within:bg-input-hover-incognito hover:bg-input-hover-incognito ring-input-border-incognito":X,"focus-within:ring-input-border-focus-incognito":X,"hover:ring-input-border-focus-incognito":X}),children:[tp>0&&eB&&(0,s.jsx)(x.E.div,{initial:{translateY:-10,opacity:0},animate:{translateY:0,opacity:1},exit:{translateY:-10,opacity:0},className:(0,w.cn)("w-full flex flex-row gap-2 mt-3 flex-wrap","whitespace-nowrap"),children:(0,s.jsxs)(C.M,{initial:!1,mode:"popLayout",children:[eO.map((e,t)=>(0,s.jsx)(x.E.div,{className:"max-w-full",initial:{opacity:0,translateY:-10},animate:{opacity:1,translateY:0},exit:{opacity:0,translateY:-10},transition:{duration:.2},children:(0,s.jsx)(H,{file:e.file,metadata:e.metadata,onRemoveFile:e5})},e.file.name+t)),eq.map((e,t)=>(0,s.jsx)(x.E.div,{className:"max-w-full",initial:{opacity:0,translateY:-10},animate:{opacity:1,translateY:0},exit:{opacity:0,translateY:-10},children:(0,s.jsx)(q.Z,{asset:e,onRemoveAsset:e7})},e.assetId+t))]})}),(0,s.jsxs)("div",{className:"relative z-10",children:[(0,s.jsx)("span",{className:(0,w.cn)("absolute px-2 @[480px]/input:px-3 py-5 text-secondary pointer-events-none",eP||!tn?"hidden":""),children:tn}),(0,s.jsx)(_.Z,{ref:ep,dir:"auto",className:(0,w.cn)("w-full px-2 @[480px]/input:px-3",eB?"pt-5 mb-5":"my-5","bg-transparent","focus:outline-none","text-primary","align-bottom",M),style:{resize:"none"},onFocus:()=>eF(!0),onKeyDown:e9,onChange:e2,value:eP,maxRows:eH?ew?4:12:1,autoFocus:!0,minRows:1,onPaste:tw})]}),(0,s.jsxs)("div",{className:"flex gap-1.5 absolute inset-x-0 bottom-0 border-2 border-transparent p-2 @[480px]/input:p-3 max-w-full",children:[ei.SHOW_FILE_UPLOAD&&(0,s.jsxs)(A.g$,{type:"button",variant:"secondary",disabled:tu||tg,size:"pill",className:"relative px-2 transition-all duration-150 bg-transparent border w-9 aspect-square border-toggle-border text-secondary hover:text-primary hover:bg-toggle-hover",onClick:e=>{e.stopPropagation(),th()},tooltipProps:{disableHoverableContent:!0,delayDuration:tu?100:600},tooltipContentProps:{side:"bottom",className:"bg-primary text-background"},tooltipContent:tu?$("Please login to attach files"):tg?$("Attachments are disabled for this mode"):$("Attach"),tabIndex:0,children:[!eB&&tp>0&&(0,s.jsx)("span",{className:"absolute size-4 text-[11px] flex justify-center items-center font-medium rounded-full -right-1 -top-1 bg-primary text-background",children:tp}),(0,s.jsx)(i.Uj,{size:20})]}),(0,s.jsxs)(x.E.div,{animate:eH?{opacity:1,translateY:0}:{opacity:0,translateY:40},className:"".concat(eH?"":"pointer-events-none"," flex grow gap-1.5 max-w-full"),children:[(0,s.jsx)("div",{className:"grow flex gap-1.5 max-w-full",children:(0,s.jsxs)(C.M,{children:[(0,s.jsx)(J,{model:tf,personaSettings:e0,isDeepsearchSelected:eA,isIncognito:X,deepsearchDisabled:tv,forceShowLabel:ev,showLabel:eA&&ey},"1"),(0,s.jsx)(el,{model:tf,personaSettings:e0,isThinkSelected:eV,isIncognito:X,thinkDisabled:ty,forceShowLabel:ev,showLabel:eV&&ey},"2")]})}),(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)(ea,{})})]}),(0,s.jsxs)("div",{className:(0,w.cn)("ml-auto flex flex-row items-end gap-1"),children:[!eZ&&(0,s.jsx)(x.E.button,{initial:{opacity:.5},animate:{opacity:1,transition:{duration:.1}},whileHover:eJ?{scale:1.1}:void 0,whileTap:eJ?{scale:.95}:void 0,className:(0,w.cn)("group flex flex-col justify-center rounded-full focus:outline-none focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring"),type:"submit",disabled:!eJ,onClick:e$,children:(0,s.jsx)("div",{className:(0,w.cn)("h-9 relative","aspect-square flex flex-col items-center justify-center","rounded-full ring-1 ring-inset duration-100","before:absolute before:inset-0 before:rounded-full before:bg-primary before:ring-0 before:transition-all duration-500",eJ?"".concat(X?"bg-incognito":"bg-primary"," text-background ring-transparent before: before:[clip-path:circle(50%_at_50%_50%)]"):"bg-button-secondary text-secondary before:[clip-path:circle(0%_at_50%_50%)] ring-0"),children:(0,s.jsx)(i.Hf,{size:20,className:"relative"})})}),eZ&&(0,s.jsx)(x.E.button,{whileTap:{scale:.95},initial:{scale:.95,opacity:1},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:.5,transition:{duration:.2}},className:(0,w.cn)("group flex flex-col justify-center rounded-full focus:outline-none focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring"),onClick:e=>{e.preventDefault(),L().catch(console.error)},children:(0,s.jsx)("div",{className:(0,w.cn)("h-9","aspect-square flex flex-col items-center justify-center rounded-full","rounded-full ring-1 ring-inset","".concat(X?"bg-incognito":"bg-primary"," text-background ring-button-outline-border")),children:(0,s.jsx)(R.Z,{size:20,strokeWidth:2.5})})})]})]})]}),Q&&X&&(0,s.jsx)(x.E.div,{initial:{translateY:-20,opacity:0},animate:{translateY:0,opacity:1},className:"absolute inset-x-0 rounded-full bottom-full sm:top-full start-0 text-secondary",children:(0,s.jsxs)("div",{className:"max-w-[50rem] py-4 sm:px-6 mx-auto flex flex-row items-start gap-1 text-sm",children:[(0,s.jsx)(E.KOc,{size:16,className:"m-1 opacity-70 shrink-0"}),(0,s.jsx)("span",{className:"bg-background",children:$("This chat is temporary and won't appear in your history or be used to train models. We may securely retain it for up to 30 days for safety purposes.")})]})})]}),ei.SHOW_UPLOAD_DIALOG&&Y&&(0,s.jsx)(G,{handleClickUpload:e3,renderInput:e8,onAttachAsset:tm})]})})},31866:function(e,t,n){n.d(t,{X:function(){return a}});var s=n(14677),r=n(79468),i=n(74151),o=n(73533);let a=()=>{let[e,t]=(0,i.Z)("anonUserId"),[n,a]=(0,i.Z)("anonPrivateKey"),{user:l,refreshAnonUser:d}=(0,o.useSession)(),c=(0,r.useCallback)(async()=>{let{privateKey:e,anonUserId:n}=await (0,s.b)();t(n),a(e),await d(n,e)},[]);return(0,r.useCallback)(async()=>{!l&&n&&e&&await d(e,n).catch(()=>{c().catch(()=>{console.error("Failed to initialize session")})})},[l,n,e,d])}},48764:function(e,t,n){let s;n.d(t,{IW:function(){return s},default:function(){return d},y:function(){return l}});var r=n(91124),i=n(82314),o=n(45503),a=n(79468);function l(e,t){return e?{userID:null==e?void 0:e.userId,customIDs:{xUserId:null==e?void 0:e.xUserId},email:null==e?void 0:e.email,custom:{familyName:null==e?void 0:e.familyName,givenName:null==e?void 0:e.givenName,xSubscriptionType:null==e?void 0:e.xSubscriptionType}}:t?{userID:null==t?void 0:t.anonUserId}:{}}function d(e){let{env:t,clientKey:n,user:d,anonUser:c,children:u}=e,{client:h,isLoading:p}=(0,i.useClientAsyncInit)(n,l(d,c),{networkConfig:{logEventUrl:"/api/statsig/log_event"},logLevel:"production"===t?i.LogLevel.Error:i.LogLevel.Debug});return((0,a.useEffect)(()=>{(0,o.AP)(h),s=h},[h]),p)?null:(0,r.jsx)(i.StatsigProvider,{client:h,children:u})}},86202:function(e,t,n){n.d(t,{$N:function(){return p},Be:function(){return m},PK:function(){return d},Vq:function(){return a},cZ:function(){return u},fK:function(){return h},hg:function(){return l},t9:function(){return c}});var s=n(91124),r=n(40571),i=n(78484),o=n(79468);let a=i.fC,l=i.xz,d=i.h_;i.x8;let c=o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,s.jsx)(i.aV,{ref:t,className:(0,r.cn)("fixed inset-0 z-50 bg-overlay backdrop-blur-[2px] duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...o})});c.displayName=i.aV.displayName;let u=o.forwardRef((e,t)=>{let{className:n,overlayClassname:o,children:a,...l}=e;return(0,s.jsxs)(d,{children:[(0,s.jsx)(c,{className:o}),(0,s.jsx)(i.VY,{ref:t,className:(0,r.cn)("fixed left-[50%] top-[50%] z-50 grid translate-x-[-50%] translate-y-[-50%] gap-4 bg-background duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]",n),onCloseAutoFocus:e=>{e.preventDefault(),document.body.style.pointerEvents=""},...l,children:a})]})});u.displayName=i.VY.displayName;let h=e=>{let{className:t,...n}=e;return(0,s.jsx)("div",{className:(0,r.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...n})};h.displayName="DialogHeader";let p=o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,s.jsx)(i.Dx,{ref:t,className:(0,r.cn)("text-lg font-medium leading-none tracking-tight",n),...o})});p.displayName=i.Dx.displayName;let m=o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,s.jsx)(i.dk,{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",n),...o})});m.displayName=i.dk.displayName},38600:function(e,t,n){n.d(t,{OX:function(){return h},Qz:function(){return l},dy:function(){return a},iI:function(){return m},sc:function(){return u},u6:function(){return f},ze:function(){return p}});var s=n(91124),r=n(79468),i=n(39563),o=n(40571);let a=e=>{let{shouldScaleBackground:t=!0,...n}=e;return(0,s.jsx)(i.d.Root,{shouldScaleBackground:t,...n})};a.displayName="Drawer";let l=i.d.Trigger,d=i.d.Portal;i.d.Close;let c=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,s.jsx)(i.d.Overlay,{ref:t,className:(0,o.cn)("fixed inset-0 z-50 bg-black/20 dark:bg-black/80",n),...r})});c.displayName=i.d.Overlay.displayName;let u=r.forwardRef((e,t)=>{let{className:n,overlayClassName:r,children:a,...l}=e;return(0,s.jsxs)(d,{children:[(0,s.jsx)(c,{className:r}),(0,s.jsxs)(i.d.Content,{ref:t,className:(0,o.cn)("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[24px] bg-background",n),onCloseAutoFocus:e=>{e.preventDefault(),document.body.style.pointerEvents=""},...l,children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-12 h-1 mx-auto mt-3 mb-0 rounded-full bg-secondary/80"}),a]})]})});u.displayName="DrawerContent";let h=e=>{let{className:t,...n}=e;return(0,s.jsx)("div",{className:(0,o.cn)("grid gap-1.5 p-4 text-center sm:text-left",t),...n})};h.displayName="DrawerHeader";let p=e=>{let{className:t,...n}=e;return(0,s.jsx)("div",{className:(0,o.cn)("mt-auto flex flex-col gap-2 p-4",t),...n})};p.displayName="DrawerFooter";let m=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,s.jsx)(i.d.Title,{ref:t,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",n),...r})});m.displayName=i.d.Title.displayName;let f=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,s.jsx)(i.d.Description,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",n),...r})});f.displayName=i.d.Description.displayName},98139:function(e,t,n){n.d(t,{$F:function(){return c},AW:function(){return u},Xi:function(){return h},h_:function(){return d}});var s=n(91124),r=n(40571),i=n(96581),o=n(71684),a=n(57641),l=n(79468);let d=i.fC,c=i.xz;i.ZA,i.Uv,i.Tr,i.Ee,l.forwardRef((e,t)=>{let{className:n,inset:a,children:l,...d}=e;return(0,s.jsxs)(i.fF,{ref:t,className:(0,r.cn)("flex cursor-default select-none items-center rounded-2xl px-3 py-1.5 text-sm outline-none focus:bg-popover-hover data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",n),...d,children:[l,(0,s.jsx)(o.XCv,{className:"ml-auto"})]})}).displayName=i.fF.displayName,l.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,s.jsx)(i.tu,{ref:t,className:(0,r.cn)("z-50 overflow-hidden rounded-2xl border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...o})}).displayName=i.tu.displayName;let u=l.forwardRef((e,t)=>{let{className:n,sideOffset:o=4,...a}=e;return(0,s.jsx)(i.Uv,{children:(0,s.jsx)(i.VY,{ref:t,sideOffset:o,collisionPadding:{top:16,left:16,right:16,bottom:16},className:(0,r.cn)("z-50 overflow-hidden rounded-2xl bg-popover border border-popover-border text-primary backdrop-blur-md p-1","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 max-h-[--radix-dropdown-menu-content-available-height] overflow-auto",n),...a})})});u.displayName=i.VY.displayName;let h=l.forwardRef((e,t)=>{let{className:n,inset:o,...a}=e;return(0,s.jsx)(i.ck,{ref:t,className:(0,r.cn)("relative flex select-none items-center cursor-pointer px-3 py-2 rounded-xl text-sm outline-none focus:bg-card-hover",o&&"pl-8",n),...a})});h.displayName=i.ck.displayName,l.forwardRef((e,t)=>{let{className:n,children:a,checked:l,...d}=e;return(0,s.jsxs)(i.oC,{ref:t,className:(0,r.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-popover-hover focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:l,...d,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(i.wU,{children:(0,s.jsx)(o.nQG,{className:"w-4 h-4"})})}),a]})}).displayName=i.oC.displayName,l.forwardRef((e,t)=>{let{className:n,children:o,...l}=e;return(0,s.jsxs)(i.Rk,{ref:t,className:(0,r.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-popover-hover focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...l,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(i.wU,{children:(0,s.jsx)(a.Z,{className:"w-2 h-2 fill-current"})})}),o]})}).displayName=i.Rk.displayName,l.forwardRef((e,t)=>{let{className:n,inset:o,...a}=e;return(0,s.jsx)(i.__,{ref:t,className:(0,r.cn)("px-2 py-1.5 text-sm font-semibold",o&&"pl-8",n),...a})}).displayName=i.__.displayName,l.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,s.jsx)(i.Z0,{ref:t,className:(0,r.cn)("-mx-1 my-1 h-px bg-muted",n),...o})}).displayName=i.Z0.displayName},87101:function(e,t,n){n.d(t,{c:function(){return l}});var s=n(91124);n(79468);var r=n(86202),i=n(38600),o=n(1530),a=n(40571);function l(e){let{open:t,setOpen:n,trigger:l,title:d,description:c,footer:u,children:h,contentClassName:p,blurBackground:m}=e;return!(0,o.w)()&&t?(0,s.jsxs)(r.Vq,{open:t,onOpenChange:n,children:[l&&(0,s.jsx)(r.hg,{asChild:!0,children:l}),(0,s.jsxs)(r.cZ,{className:(0,a.cn)("focus:outline-none rounded-none",p),overlayClassname:(0,a.cn)(m&&"backdrop-blur-lg"),"aria-describedby":void 0,children:[(d||c)&&(0,s.jsxs)(r.fK,{children:[null!=d?d:(0,s.jsx)(r.$N,{children:d}),null!=c?c:(0,s.jsx)(r.Be,{children:c})]}),h]})]}):(0,s.jsxs)(i.dy,{open:t,onOpenChange:n,dismissible:!!n,children:[l&&(0,s.jsx)(i.Qz,{asChild:!0,children:l}),(0,s.jsxs)(i.sc,{className:(0,a.cn)("focus:outline-none",p,"max-w-none !rounded-b-none"),overlayClassName:(0,a.cn)(m&&"backdrop-blur-lg"),"aria-describedby":void 0,children:[(d||c)&&(0,s.jsxs)(i.OX,{className:"p-0 text-left",children:[null!=d?d:(0,s.jsx)(i.iI,{children:d}),null!=c?c:(0,s.jsx)(i.u6,{children:c})]}),h,u&&(0,s.jsx)(i.ze,{className:"pt-2",children:u})]})]})}},99019:function(e,t,n){n.d(t,{Z:function(){return a}});var s=n(91124),r=n(60110),i=n(79468),o=n(40571);let a=i.forwardRef((e,t)=>{let{className:n,orientation:i="horizontal",decorative:a=!0,...l}=e;return(0,s.jsx)(r.f,{ref:t,decorative:a,orientation:i,className:(0,o.cn)("shrink-0 bg-border","horizontal"===i?"h-[1px] w-full":"h-full w-[1px]",n),...l})});a.displayName=r.f.displayName},15783:function(e,t,n){n.d(t,{r:function(){return a}});var s=n(91124),r=n(35379),i=n(79468),o=n(40571);let a=i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,s.jsx)(r.fC,{className:(0,o.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full","border-[1px] border-transparent transition-colors","focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring","focus-visible:ring-offset-2 focus-visible:ring-offset-background","ring-card-border ring-1","disabled:cursor-not-allowed disabled:opacity-50","data-[state=checked]:bg-primary data-[state=unchecked]:bg-dove","dark:data-[state=checked]:bg-ivory dark:data-[state=unchecked]:bg-button-secondary-selected",n),...i,ref:t,children:(0,s.jsx)(r.bU,{className:(0,o.cn)("pointer-events-none block h-4 w-4 rounded-full bg-white dark:bg-background shadow-lg ring-0 transition-transform","data-[state=unchecked]:translate-x-0 ms-0.5","data-[state=checked]:translate-x-5 rtl:data-[state=checked]:-translate-x-5","dark:data-[state=unchecked]:bg-overlay")})})});a.displayName=r.fC.displayName},90982:function(e,t,n){n.d(t,{UH:function(){return a},al:function(){return r},d7:function(){return l},fr:function(){return i},jd:function(){return o}});var s=n(64868);let r=s.z.object({modelId:s.z.string(),name:s.z.string().optional(),description:s.z.string().optional(),tags:s.z.array(s.z.string()).optional(),badgeText:s.z.string().optional()}),i="grok-3",o="Grok 3",a="Grok 3",l="Grok 2"},71974:function(e,t,n){n.d(t,{C6:function(){return i},FG:function(){return o},VM:function(){return s},Zz:function(){return l},aj:function(){return a},op:function(){return r}});let s="cmd+j, ctrl+j",r="cmd+shift+j, ctrl+shift+j",i="cmd+k, ctrl+k",o="cmd+enter, ctrl+enter",a="cmd+,, ctrl+,",l="cmd+shift+p, ctrl+shift+p"},73466:function(e,t,n){n.d(t,{o:function(){return l}});var s=n(92014),r=n(41389),i=n(24604),o=n(79468);let a=[new i.y("/chat/:chatId"),new i.y("/chat"),new i.y("/")];function l(){let e=(0,r.useRouter)(),t=(0,r.usePathname)(),n=!!t&&a.some(e=>e.test(t));return{isChatPage:n,routeToConversation:(0,o.useCallback)((t,r)=>{!function(e){let t=s.gK.getState();t.setConversationId(e),t.setSidePanelContent(void 0)}(t),r||(t?n||e.push("/chat"):e.push("/"))},[e,t]),signInWithReturnTo:(0,o.useCallback)((n,s)=>{let r=new URLSearchParams({q:n||"",reasoningMode:s||"none"}).toString(),i=r?"".concat(t,"?").concat(r):t,o=i?new URLSearchParams({return_to:i}).toString():void 0;e.push("/sign-in".concat(o?"?".concat(o):""))},[e,t])}}},36826:function(e,t,n){n.d(t,{g:function(){return i}});var s=n(82314),r=n(17090);function i(){let{checkGate:e,getDynamicConfig:t}=(0,s.useStatsigClient)(),[n]=(0,r.Z)("local_feature_flags",{});return{SHOW_FILE_UPLOAD:e("show_file_upload"),SHOW_UPLOAD_DIALOG:e("show_upload_dialog"),SHOW_SEARCH_TOGGLE:e("show_search_toggle"),SHOW_CONVERSATION_SHARING:e("show_conversation_sharing"),SHOW_SYSTEM_PROMPT_EDITOR:e("show_system_prompt_editor"),SHOW_FAVORITE_BUTTON:e("show_favorite_button"),USE_PLANET_LOGO:e("use_planet_logo"),SHOW_INCOGNITO_BUTTONS:e("show_incognito_buttons"),SHOW_BETA:e("show_beta"),SHOW_NEW_PROMPT_SUGGESTIONS:e("show_new_prompt_suggestions"),SHOW_FOLLOWUPS:e("show_followups"),SIGN_ANON_CHALLENGE_EVERY_REQUEST:e("sign_anon_challenge_every_request"),STORE_LONG_PASTES_AS_FILES:e("store_long_pastes_as_files"),SHOW_SPORTS_CARDS:e("show_sports_cards"),SHOW_FINANCE_CARDS:e("show_finance_cards"),USE_MARKDOWN_PATH:e("use_markdown_path"),PERSONALITY_PRESETS:t("personality_presets"),SHOW_PERSONAS:e("show_personas"),SHOW_CUSTOMIZE_PERSONALITY:!0,SUGGESTIONS_USE_CACHE:e("suggestions_use_cache"),SHOW_SUBSCRIPTION_FLOWS:e("show_subscription_flows"),SHOW_X_PREMIUM_FLOWS:e("show_x_premium_flows"),SHOW_IMAGE_EDIT:e("show_image_edit"),SHOW_ARTIFACTS_BUTTON:e("show_artifacts_button"),BANNER:t("banner"),DISABLE_RESEARCH_TOGGLE:e("disable_research_toggle"),DISABLE_THINK_TOGGLE:e("disable_think_toggle"),SHOW_RECENT_ASSETS_FOR_UPLOAD:e("show_recent_assets_for_upload"),SHOW_SUPER_SEARCH_BOX:e("show_super_search_box"),SHOW_RESPONSE_LOAD_TIMER:e("show_response_load_timer"),THINKING_AUTO_OPEN:e("thinking_auto_open"),TALL_TELEPROMPTER:e("tall_teleprompter"),ENABLE_ANON_CLONING:e("enable_anon_cloning"),ENABLE_ANON_USERS:e("enable_anon_users"),FORCE_SIGN_IN_MODELS:t("force_sign_in_models"),SHOW_GROK_2:e("show_grok_2"),SHOW_CONNECT_X_ACCOUNT:e("show_connect_x_account"),DISABLE_ATTACHMENTS_FOR_THINK:e("disable_attachments_for_think"),DISABLE_ATTACHMENTS_FOR_DEEPSEARCH:e("disable_attachments_for_deepsearch"),HIDE_SUBSCRIPTION_FLOWS_FROM_PREMIUM_PLUS_USERS:e("hide_subscription_flows_from_premium_plus_users"),ENABLE_ACTIONS_TOGGLE:e("enable_actions_toggle"),SHOW_SUPERGROK_LOGO:e("show_supergrok_logo"),SHOW_ANON_HELP_LINK:e("show_anon_help_link"),SHOW_ANON_SETTINGS_COG:e("show_anon_settings_cog"),ENABLE_AUTO_STREAM_RETRY:e("enable_auto_stream_retry"),ENABLE_CHAT_PREVIEWS:e("enable_chat_previews"),ENABLE_BROWSER_NOTIFICATIONS:e("enable_browser_notifications"),MAX_CUSTOM_INSTRUCTIONS_LENGTH:t("max_custom_instructions_length"),...n}}},38540:function(e,t,n){n.d(t,{Z:function(){return h},l:function(){return c}});var s=n(92014),r=n(79368),i=n(80617),o=n(8491),a=n(79468),l=n(14413),d=n(77626);let c=10,u=["image/png","image/jpeg","image/jpg","image/webp","text/*","application/csv","application/json","application/x-yaml","application/xml","application/toml","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",""];function h(){let{t:e}=(0,l.$G)("base"),t=(0,s.gK)(o.Z("conversationId")),n=(0,i.O)(o.Z("listByConversationId")),h=(0,i.O)(o.Z("delistByConversationId")),p=(0,i.O)(o.Z("attachListByConversationId")),m=(0,i.O)(o.Z("fetchUploadFile")),f=t||"no_conversation_id",g=n[f]||[];return{attachFiles:(0,a.useCallback)(t=>{var n;if(!t.length)return!1;let s=null!==(n=p[f])&&void 0!==n?n:[],i=t.filter(t=>{var n;return!!((n=t.type).startsWith("text/")||u.includes(n))||(d.Am.error(e("Can't upload filename. Type not supported.",{filename:t.name,type:t.type,interpolation:{escapeValue:!1}})),!1)});if(g.length+s.length+i.length>c){d.Am.error(e("Can only submit a maximum of max files per message. Please remove some files before uploading more.",{max:c}));return}i.forEach(e=>{m(e,f).metadataPromise.catch(e=>{(0,r.xo)(e)})})},[g,f,p]),detachFile:(0,a.useCallback)((e,t)=>{if(!e.current)return;let n=e.current.files;if(!n||!t)return;let s=new DataTransfer;Array.from(n).forEach(e=>{e!=e&&s.items.add(e)}),e.current.files=s.files,h(f,t)},[f])}}},68020:function(e,t,n){n.d(t,{y:function(){return i}});var s=n(46772),r=n(79468);function i(e,t,n){(0,r.useEffect)(()=>((0,s.Z)(e,t),()=>s.Z.unbind(e,t)),[...n,e])}s.Z.filter=()=>!0},15537:function(e,t,n){n.d(t,{D:function(){return i}});var s=n(79468);function r(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function i(){let[e,t]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{t(r)},[]),e}},17090:function(e,t,n){n.d(t,{_:function(){return i}});var s=n(79468);let r={};function i(e,t){let n=(0,s.useRef)("function"==typeof t?t():t).current,[i,o]=(0,s.useState)(()=>{try{let t=window.localStorage.getItem(e);return t?JSON.parse(t):n}catch(e){return console.error("Error parsing localStorage value:",e),n}});return(0,s.useEffect)(()=>{let t=e=>{o(e)};return r[e]||(r[e]=[]),r[e].push(t),()=>{r[e]&&(r[e]=r[e].filter(e=>e!==t))}},[e]),(0,s.useEffect)(()=>{let t=t=>{if(t.key===e){if(null!==t.newValue)try{o(JSON.parse(t.newValue))}catch(e){console.error("Error parsing storage event value:",e)}else o(n)}};return window.addEventListener("storage",t),()=>{window.removeEventListener("storage",t)}},[e,n]),[i,t=>{try{let n="function"==typeof t?t(i):t;window.localStorage.setItem(e,JSON.stringify(n)),o(n),r[e]&&r[e].forEach(e=>e(n))}catch(e){console.error("Error setting localStorage value:",e)}}]}t.Z=i},1530:function(e,t,n){n.d(t,{G:function(){return r},w:function(){return i}});var s=n(79468);let r=768;function i(){let[e,t]=s.useState(void 0);return s.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(r-1,"px)")),n=()=>{t(window.innerWidth<r)};return e.addEventListener("change",n),t(window.innerWidth<r),()=>e.removeEventListener("change",n)},[]),!!e}},24915:function(e,t,n){n.d(t,{T:function(){return i},r:function(){return r}});var s=n(79468);function r(){let[e,t]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let e=()=>{let e=navigator.userAgent||navigator.vendor;t(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i.test(e))};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),e}function i(){let e=navigator.userAgent||navigator.vendor;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i.test(e)}},96373:function(e,t,n){n.d(t,{Md:function(){return p},NK:function(){return m},bP:function(){return f}});var s=n(92014),r=n(90982),i=n(61301),o=n(80617),a=n(20530),l=n(1243),d=n(8491),c=n(72664),u=n(79468),h=n(36826);function p(){let e=(0,h.g)();return(0,u.useMemo)(()=>e.FORCE_SIGN_IN_MODELS.value.forceSignInModels&&Array.isArray(e.FORCE_SIGN_IN_MODELS.value.forceSignInModels)?e.FORCE_SIGN_IN_MODELS.value.forceSignInModels:[],[e.FORCE_SIGN_IN_MODELS.value])}function m(e){var t,n;let r=(0,h.g)(),i=(0,o.O)(d.Z("listByConversationId")),a=(0,o.O)(d.Z("attachListByConversationId")),l=(0,s.gK)(d.Z("conversationId"))||"no_conversation_id",c=(0,s.gK)(d.Z("reasoningMode")),p="deepsearch"==c,m="think"==c,f=i[l],g=a[l],y=((null==f?void 0:f.length)||0)+((null==g?void 0:g.length)||0),v=(null==e?void 0:null===(t=e.tags)||void 0===t?void 0:t.includes("no_attachments_for_think"))||r.DISABLE_ATTACHMENTS_FOR_THINK,w=(null==e?void 0:null===(n=e.tags)||void 0===n?void 0:n.includes("no_attachments_for_deepsearch"))||r.DISABLE_ATTACHMENTS_FOR_DEEPSEARCH,I=!!y&&v,b=!!y&&w;return{isAttachDisabled:(0,u.useMemo)(()=>!!v&&!!m||!!w&&!!p,[p,m,v,w]),isThinkDisabled:I,isDeepsearchDisabled:b,isThinkSelected:m,isDeepsearchSelected:p}}function f(){var e,t,n,s,o;let p=l.ZP.language,m=(0,h.g)(),{data:f,isPending:g}=(0,a.aM)({queryKey:["get-models",p],queryFn:async()=>{let e=await i.aI.modelsGetModels({body:{locale:p}}),t=(e.models||[]).map(e=>r.al.safeParse(e)).filter(e=>e.success).map(e=>e.data),n=t;return!m.SHOW_GROK_2&&t.map(e=>e.name).includes(r.UH)&&(n=t.filter(e=>e.name!==r.d7)),{models:n.sort((e,t)=>e.name===r.UH?-1:t.name===r.UH||e.name===r.d7?1:t.name===r.d7?-1:0),unavailableModels:(e.unavailableModels||[]).map(e=>r.al.safeParse(e)).filter(e=>e.success).map(e=>e.data),defaultAnonModelId:e.defaultAnonModel,defaultFreeModelId:e.defaultFreeModel,defaultProModelId:e.defaultProModel}}}),y=(0,u.useMemo)(()=>f?c.Z(d.Z("modelId"),f.models):{},[f]);return{models:null!==(e=null==f?void 0:f.models)&&void 0!==e?e:[],unavailableModels:null!==(t=null==f?void 0:f.unavailableModels)&&void 0!==t?t:[],defaultAnonModelId:null!==(n=null==f?void 0:f.defaultAnonModelId)&&void 0!==n?n:r.fr,defaultFreeModelId:null!==(s=null==f?void 0:f.defaultFreeModelId)&&void 0!==s?s:r.fr,defaultProModelId:null!==(o=null==f?void 0:f.defaultProModelId)&&void 0!==o?o:r.fr,modelById:y,isPending:g}}},31448:function(e,t,n){n.d(t,{BV:function(){return b},HG:function(){return v},VO:function(){return S}});var s=n(10793),r=n.n(s),i=n(79468),o=n(64868);let a=o.z.union([o.z.literal("imageGen"),o.z.literal("search"),o.z.literal("think"),o.z.literal("deepsearch")]),l=o.z.object({personaId:o.z.literal("news"),name:o.z.literal("Latest News"),systemPromptName:o.z.literal("grok3_personality_latest_news"),disclaimer:o.z.string().optional(),disabledTools:a.array()}),d=o.z.object({personaId:o.z.literal("doctor"),name:o.z.literal("Not a Doctor"),systemPromptName:o.z.literal("grok3_personality_medical_advisor"),disclaimer:o.z.string().optional(),disabledTools:a.array()}),c=o.z.object({personaId:o.z.literal("friend"),name:o.z.literal("Loyal Friend"),systemPromptName:o.z.literal("grok3_personality_loyal_friend"),disclaimer:o.z.string().optional(),disabledTools:a.array()}),u=o.z.object({personaId:o.z.literal("tutor"),name:o.z.literal("Homework Help"),systemPromptName:o.z.literal("grok3_personality_homework_helper"),disclaimer:o.z.string().optional(),disabledTools:a.array()}),h=o.z.object({personaId:o.z.literal("romance"),name:o.z.literal("Romance me!"),systemPromptName:o.z.literal("grok3_personality_romance_me"),disclaimer:o.z.string().optional(),disabledTools:a.array()}),p=o.z.object({personaId:o.z.literal("unhinged"),name:o.z.literal("Unhinged Comedy"),systemPromptName:o.z.literal("grok3_personality_unhinged_comedian"),disclaimer:o.z.string().optional(),disabledTools:a.array()}),m=o.z.object({personaId:o.z.literal("therapist"),name:o.z.literal("Not a Therapist"),systemPromptName:o.z.literal("grok3_personality_trusted_therapist"),disclaimer:o.z.string().optional(),disabledTools:a.array()}),f=o.z.object({personaId:o.z.literal("scientist"),name:o.z.literal("Scientist"),systemPromptName:o.z.literal("grok3_personality_science_geek"),disclaimer:o.z.string().optional(),disabledTools:a.array()}),g=o.z.object({personaId:o.z.literal("coder"),name:o.z.literal("Coder"),systemPromptName:o.z.literal("grok3_personality_cracked_coder"),disclaimer:o.z.string().optional(),disabledTools:a.array()}),y=o.z.union([l,d,h,p,c,u,m,f,g]);function v(){let e=(0,i.useMemo)(()=>Object.keys(w).map(e=>({personaId:e,name:w[e],systemPromptName:I[e],disabledTools:[]})).map(e=>y.safeParse(e)).filter(e=>e.success).map(e=>e.data),[]),t=(0,i.useMemo)(()=>r().keyBy(e,e=>e.personaId),[e]),n=(0,i.useCallback)(e=>{if(!e||!e.personaId||!(e.personaId in w))return;let n=t[e.personaId];if(n)return n},[t]);return{personas:e,personaById:t,getPersonaForConversation:n}}let w={news:"Latest News",romance:"Romance me!",friend:"Loyal Friend",tutor:"Homework Help",unhinged:"Unhinged Comedy",doctor:"Not a Doctor",therapist:"Not a Therapist",scientist:"Scientist",coder:"Coder"},I={doctor:"grok3_personality_medical_advisor",news:"grok3_personality_latest_news",friend:"grok3_personality_loyal_friend",tutor:"grok3_personality_homework_helper",romance:"grok3_personality_romance_me",unhinged:"grok3_personality_unhinged_comedian",therapist:"grok3_personality_trusted_therapist",scientist:"grok3_personality_science_geek",coder:"grok3_personality_cracked_coder"};function b(e){if(!e)return;let t=r().invert(I)[e];if(S(t))return t}function S(e){return!!e&&e in w}},8546:function(e,t,n){n.d(t,{f:function(){return r}});var s=n(79468);function r(e){let t=(0,s.useRef)();t.current=e;let[n,r]=(0,s.useState)(),[i,o]=(0,s.useState)(),[a,l]=(0,s.useState)(!1),[d,c]=(0,s.useState)(!1),[u,h]=(0,s.useState)(!1),[p,m]=(0,s.useState)(!1),[f,g]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{if(!e){r(void 0),o(void 0),l(!0),c(!1),h(!1),m(!0),g(!1);return}if(!p){m(!0);return}let n={status:"UNSET",value:void 0,error:void 0};e.then(s=>{t.current===e&&("PASSED"===n.status?(r(s),o(void 0),l(!0),c(!1),h(!1)):(n.status="SETVALUE",n.value=s))}).catch(s=>{t.current===e&&("PASSED"===n.status?(r(void 0),o(s),l(!1),c(!0),h(!1)):(n.status="SETERROR",n.error=s))}),setTimeout(()=>{if(t.current===e){switch(g(!1),n.status){case"UNSET":r(void 0),o(void 0),l(!1),c(!1),h(!0);break;case"SETVALUE":r(n.value),o(void 0),l(!0),c(!1),h(!1);break;case"SETERROR":r(void 0),o(n.error),l(!1),c(!0),h(!1)}n.status="PASSED"}})},[p,e]),{data:n,error:i,isResolved:a,isErrored:d,isLoading:u,isUninitialized:f}}},32330:function(e,t,n){let s;n.d(t,{Ai:function(){return y},Lf:function(){return f},MD:function(){return m},Pd:function(){return h},kI:function(){return s}});var r=n(82689),i=n(48764),o=n(61301),a=n(20530),l=n(10793),d=n.n(l),c=n(41389),u=n(79468);function h(){let{user:e,anonUser:t}=(0,r.kP)();return(0,a.aM)({queryKey:["subscriptions"],queryFn:async()=>{var n;let r=await o.Bh.subscriptionsGetSubscriptions();r.subscriptions||(r.subscriptions=[]);let a=r.subscriptions.some(e=>"SUBSCRIPTION_STATUS_ACTIVE"===e.status&&("SUBSCRIPTION_TIER_X_PREMIUM_PLUS"===e.tier||"SUBSCRIPTION_TIER_GROK_PRO"===e.tier)),l=r.subscriptions.reduce((e,t)=>t.tier&&p[t.tier]>p[e]?t.tier:e,(null===(n=r.subscriptions[0])||void 0===n?void 0:n.tier)||"SUBSCRIPTION_TIER_INVALID");if(i.IW){let n=(0,i.y)(e,t);i.IW.updateUserAsync({...n,custom:{...n.custom,bestSubscription:l}})}let d={hasSubscriptions:a,subscriptions:r.subscriptions,bestSubscription:l};return s=d,d},enabled:!!e,staleTime:1e4})}let p={SUBSCRIPTION_TIER_GROK_PRO:4,SUBSCRIPTION_TIER_X_PREMIUM_PLUS:3,SUBSCRIPTION_TIER_X_PREMIUM:2,SUBSCRIPTION_TIER_X_BASIC:1,SUBSCRIPTION_TIER_INVALID:0};function m(e){let t=(0,c.useRouter)(),n=(0,r.kP)(),{data:s}=h(),{data:i}=(0,a.aM)({queryKey:["subscription_products"],queryFn:()=>o.Bh.subscriptionsGetProductsInfo({provider:"SUBSCRIPTION_PROVIDER_STRIPE"})});return{subscribeViaStripe:(0,u.useCallback)(()=>{if(!n.user)return Promise.reject("Missing user");let r=f(i,e);if(!r)return Promise.reject("Missing subscription");if(null==s?void 0:s.hasSubscriptions)return Promise.reject("User already has a subscription");let{user:{givenName:a,familyName:l,email:d}}=n,c=a&&l?"".concat(a," ").concat(l):a||l;return o.Bh.subscriptionsCreateStripeCustomer({body:{billingInfo:{name:c,email:d}}}).then(()=>{let e=new URL(window.location.href);return e.searchParams.append("checkout","success"),o.Bh.subscriptionsSubscribeViaStripe({body:{stripeHosted:{successUrl:e.toString()},priceId:r.id}})}).then(e=>{var n;return e.url&&t.push(e.url),null!==(n=e.clientSecret)&&void 0!==n?n:""})},[n.user,t,i,s,e])}}function f(e,t){var n,s,r;let i=((null==e?void 0:null===(n=e.stripe)||void 0===n?void 0:n.products)||[]).find(e=>"SuperGrok"===e.name);if(!(null==i?void 0:i.prices))return;let o=d().sortBy(i.prices,e=>{var t;return Number(null===(t=e.amount)||void 0===t?void 0:t.val)});if("monthly"===t){let e=o[0];if(!(null==e?void 0:e.id)||!(null===(s=e.amount)||void 0===s?void 0:s.val)||!e.currency)return;return{...e,displayPrice:g(e.amount.val,e.currency)}}{let e=o[1];if(!(null==e?void 0:e.id)||!(null===(r=e.amount)||void 0===r?void 0:r.val)||!e.currency)return;return{...e,displayPrice:g(e.amount.val,e.currency)}}}let g=(e,t)=>Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(parseInt(e)/100);function y(){let e=(0,c.useSearchParams)();return(null==e?void 0:e.get("checkout"))==="success"}},87498:function(e,t,n){n.d(t,{Z:function(){return s}});function s(e,t){if(!t)return;let n=new URL(e);return n.pathname=t,n.toString()}},79368:function(e,t,n){n.d(t,{xo:function(){return a}});var s=n(42155),r=n(20530),i=n(77626);let o=(e,t)=>{if(!t)return null!=e?e:"";let n=Object.entries(t).map(e=>{let[t,n]=e;return"".concat(n.join(", "))});return(e?"".concat(e,"\n"):"")+n.join("\n")};function a(e){!function(e,t){if(e instanceof s.VLC){e.response.json().then(e=>{e.message&&e.message.length>0&&!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!!e.match(/^\d+\s[A-Z_]+:\s([\s\S]+)/)}(e.message)&&(e.message="2 UNKNOWN: ".concat(e.message));let{message:n,details:s}=(0,r.e$)(e);null==t||t(n,s)}).catch(()=>{null==t||t("Something went wrong")});return}let{message:n}=(0,r.e$)(e);null==t||t(n)}(e,(e,t)=>{i.Am.error(o(e,t))})}},6754:function(e,t,n){n.d(t,{H:function(){return r},HR:function(){return i},YM:function(){return o},i2:function(){return a}});var s=n(71706);function r(e,t){s.Tb(t,{tags:{loc:e}})}function i(e,t){fetch("/api/log_metric",{method:"POST",body:JSON.stringify(t)}).catch(t=>{r("logMetric:".concat(e),t)})}function o(e,t){let n=Date.now();function s(){i(e,t),t.millisecondsPerTokenList=[]}let r=setInterval(()=>{s()},5e3);return{log:()=>{let e=Date.now();t.millisecondsPerTokenList.push(e-n),n=e},resetTime:()=>{n=Date.now()},stop:()=>{clearInterval(r),s()}}}function a(e,t){let n=Date.now(),s=!1;return()=>{if(s)return;let r=Date.now();t.timeToFirstToken=r-n,i(e,t),s=!0}}},38976:function(e,t,n){n.d(t,{H:function(){return f},IH:function(){return u},Kn:function(){return v},MT:function(){return S},N7:function(){return I},Nh:function(){return y},Od:function(){return m},Qd:function(){return g},R3:function(){return w},ZN:function(){return p},f0:function(){return c},o0:function(){return h},tM:function(){return b}});var s=n(74214),r=n(72664),i=n(8491),o=n(97806),a=n(24416),l=n(27582),d=n(42567);function c(e,t){return n=>{e(e=>({...e,[t]:n}))}}function u(e,t){return n=>{e(e=>({...e,[t]:[...e[t]||[],n]}))}}function h(e,t,n){return()=>{e(e=>({...e,[t]:n}))}}function p(e,t){return()=>{e(e=>({...e,[t]:!e[t]}))}}function m(e,t){return n=>{e(e=>({...e,[t]:s.Z([n],e[t])}))}}function f(e,t,n){return s=>{e(e=>({...e,[t]:{...e[t],...r.Z(i.Z(n),[s])}}))}}function g(e,t){return(n,s)=>{e(e=>({...e,[t]:{...e[t],[s]:n}}))}}function y(e,t){return(n,s)=>{e(e=>({...e,[t]:{...e[t],[s]:[...e[t][s]||[],n]}}))}}function v(e,t,n){return(s,r)=>{let i=!1;return e(e=>({...e,[t]:{...e[t],[s]:e[t][s].filter(e=>{let t=e[n]!==r;return t||(i=!0),t})}})),i}}function w(e,t,n){return s=>{e(e=>({...e,[t]:{...e[t],...r.Z(i.Z(n),s)}}))}}function I(e,t,n,s){let{subscribe:r,setState:l}=e;return r(i.Z(t),(e,t)=>{l(o.Z(a.Z(n),s(e,t)))},{fireImmediately:!0})}function b(e,t,n,s,r){let{subscribe:l,setState:d}=e;try{let e=localStorage.getItem(n);if(null!=e){let n=JSON.parse(e);if(r){let e=r(n);d(o.Z(a.Z(t),e))}else d(o.Z(a.Z(t),n))}}catch(e){localStorage.setItem(n,JSON.stringify(s))}l(i.Z(t),e=>{localStorage.setItem(n,JSON.stringify(e))})}function S(e){return(0,l.U)()((0,d.XR)((t,n)=>new e(t,n)))}},61301:function(e,t,n){n.d(t,{w$:function(){return ex},xU:function(){return ew},aI:function(){return eS},Bv:function(){return eR},pJ:function(){return eI},Bh:function(){return eb},XR:function(){return eC}});var s=n(67629);let r="http://localhost".replace(/\/+$/,"");class i{set config(e){this.configuration=e}get basePath(){return null!=this.configuration.basePath?this.configuration.basePath:r}get fetchApi(){return this.configuration.fetchApi}get middleware(){return this.configuration.middleware||[]}get queryParamsStringify(){return this.configuration.queryParamsStringify||function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.keys(t).map(s=>(function t(n,s){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=r+(r.length?"[".concat(n,"]"):n);if(s instanceof Array){let e=s.map(e=>encodeURIComponent(String(e))).join("&".concat(encodeURIComponent(i),"="));return"".concat(encodeURIComponent(i),"=").concat(e)}return s instanceof Set?t(n,Array.from(s),r):s instanceof Date?"".concat(encodeURIComponent(i),"=").concat(encodeURIComponent(s.toISOString())):s instanceof Object?e(s,i):"".concat(encodeURIComponent(i),"=").concat(encodeURIComponent(String(s)))})(s,t[s],n)).filter(e=>e.length>0).join("&")}}get username(){return this.configuration.username}get password(){return this.configuration.password}get apiKey(){let e=this.configuration.apiKey;if(e)return"function"==typeof e?e:()=>e}get accessToken(){let e=this.configuration.accessToken;if(e)return"function"==typeof e?e:async()=>e}get headers(){return this.configuration.headers}get credentials(){return this.configuration.credentials}constructor(e={}){this.configuration=e}}let o=new i;class a{withMiddleware(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let s=this.clone();return s.middleware=s.middleware.concat(...t),s}withPreMiddleware(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let s=t.map(e=>({pre:e}));return this.withMiddleware(...s)}withPostMiddleware(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let s=t.map(e=>({post:e}));return this.withMiddleware(...s)}isJsonMime(e){return!!e&&a.jsonRegex.test(e)}async request(e,t){let{url:n,init:s}=await this.createFetchParams(e,t),r=await this.fetchApi(n,s);if(r&&r.status>=200&&r.status<300)return r;throw new l(r,"Response returned an error code")}async createFetchParams(e,t){var n,s;let r,i=this.configuration.basePath+e.path;void 0!==e.query&&0!==Object.keys(e.query).length&&(i+="?"+this.configuration.queryParamsStringify(e.query));let o=Object.assign({},this.configuration.headers,e.headers);Object.keys(o).forEach(e=>void 0===o[e]?delete o[e]:{});let a={method:e.method,headers:o,body:e.body,credentials:this.configuration.credentials},l={...a,...await ("function"==typeof t?t:async()=>t)({init:a,context:e})};return(n=l.body,"undefined"!=typeof FormData&&n instanceof FormData||l.body instanceof URLSearchParams||(s=l.body,"undefined"!=typeof Blob&&s instanceof Blob))?r=l.body:r=this.isJsonMime(o["Content-Type"])?JSON.stringify(l.body):l.body,{url:i,init:{...l,body:r}}}clone(){let e=new this.constructor(this.configuration);return e.middleware=this.middleware.slice(),e}constructor(e=o){this.configuration=e,this.fetchApi=async(e,t)=>{let n,s={url:e,init:t};for(let e of this.middleware)e.pre&&(s=await e.pre({fetch:this.fetchApi,...s})||s);try{n=await (this.configuration.fetchApi||fetch)(s.url,s.init)}catch(e){for(let t of this.middleware)t.onError&&(n=await t.onError({fetch:this.fetchApi,url:s.url,init:s.init,error:e,response:n?n.clone():void 0})||n);if(void 0===n){if(e instanceof Error)throw new d(e,"The request failed and the interceptors did not return an alternative response");throw e}}for(let e of this.middleware)e.post&&(n=await e.post({fetch:this.fetchApi,url:s.url,init:s.init,response:n.clone()})||n);return n},this.middleware=e.middleware}}a.jsonRegex=RegExp("^(:?application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(:?;.*)?$","i");class l extends Error{constructor(e,t){super(t),this.response=e,this.name="ResponseError"}}class d extends Error{constructor(e,t){super(t),this.cause=e,this.name="FetchError"}}class c extends Error{constructor(e,t){super(t),this.field=e,this.name="RequiredError"}}class u{async value(){return this.transformer(await this.raw.json())}constructor(e,t=e=>e){this.raw=e,this.transformer=t}}function h(e,t){return null==e?e:{excludeFromTraining:null==e.excludeFromTraining?void 0:e.excludeFromTraining,preferences:null==e.preferences?void 0:e.preferences,allowXPersonalization:null==e.allowXPersonalization?void 0:e.allowXPersonalization}}class p extends a{async settingsGetUserSettingsRaw(e){return new u(await this.request({path:"/rest/user-settings",method:"GET",headers:{},query:{}},e),e=>h(e,!1))}async settingsGetUserSettings(e){let t=await this.settingsGetUserSettingsRaw(e);return await t.value()}async settingsSetUserSettingsRaw(e,t){if(null==e.body)throw new c("body",'Required parameter "body" was null or undefined when calling settingsSetUserSettings().');let n={};return n["Content-Type"]="application/json",new u(await this.request({path:"/rest/user-settings",method:"POST",headers:n,query:{},body:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{excludeFromTraining:e.excludeFromTraining,preferences:e.preferences,allowXPersonalization:e.allowXPersonalization}}(e.body,!1)},t),e=>h(e,!1))}async settingsSetUserSettings(e,t){let n=await this.settingsSetUserSettingsRaw(e,t);return await n.value()}}var m=n(42155);let f="http://localhost".replace(/\/+$/,"");class g{set config(e){this.configuration=e}get basePath(){return null!=this.configuration.basePath?this.configuration.basePath:f}get fetchApi(){return this.configuration.fetchApi}get middleware(){return this.configuration.middleware||[]}get queryParamsStringify(){return this.configuration.queryParamsStringify||function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.keys(t).map(s=>(function t(n,s){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=r+(r.length?"[".concat(n,"]"):n);if(s instanceof Array){let e=s.map(e=>encodeURIComponent(String(e))).join("&".concat(encodeURIComponent(i),"="));return"".concat(encodeURIComponent(i),"=").concat(e)}return s instanceof Set?t(n,Array.from(s),r):s instanceof Date?"".concat(encodeURIComponent(i),"=").concat(encodeURIComponent(s.toISOString())):s instanceof Object?e(s,i):"".concat(encodeURIComponent(i),"=").concat(encodeURIComponent(String(s)))})(s,t[s],n)).filter(e=>e.length>0).join("&")}}get username(){return this.configuration.username}get password(){return this.configuration.password}get apiKey(){let e=this.configuration.apiKey;if(e)return"function"==typeof e?e:()=>e}get accessToken(){let e=this.configuration.accessToken;if(e)return"function"==typeof e?e:async()=>e}get headers(){return this.configuration.headers}get credentials(){return this.configuration.credentials}constructor(e={}){this.configuration=e}}let y=new g;class v{withMiddleware(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let s=this.clone();return s.middleware=s.middleware.concat(...t),s}withPreMiddleware(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let s=t.map(e=>({pre:e}));return this.withMiddleware(...s)}withPostMiddleware(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let s=t.map(e=>({post:e}));return this.withMiddleware(...s)}isJsonMime(e){return!!e&&v.jsonRegex.test(e)}async request(e,t){let{url:n,init:s}=await this.createFetchParams(e,t),r=await this.fetchApi(n,s);if(r&&r.status>=200&&r.status<300)return r;throw new w(r,"Response returned an error code")}async createFetchParams(e,t){var n,s;let r,i=this.configuration.basePath+e.path;void 0!==e.query&&0!==Object.keys(e.query).length&&(i+="?"+this.configuration.queryParamsStringify(e.query));let o=Object.assign({},this.configuration.headers,e.headers);Object.keys(o).forEach(e=>void 0===o[e]?delete o[e]:{});let a={method:e.method,headers:o,body:e.body,credentials:this.configuration.credentials},l={...a,...await ("function"==typeof t?t:async()=>t)({init:a,context:e})};return(n=l.body,"undefined"!=typeof FormData&&n instanceof FormData||l.body instanceof URLSearchParams||(s=l.body,"undefined"!=typeof Blob&&s instanceof Blob))?r=l.body:r=this.isJsonMime(o["Content-Type"])?JSON.stringify(l.body):l.body,{url:i,init:{...l,body:r}}}clone(){let e=new this.constructor(this.configuration);return e.middleware=this.middleware.slice(),e}constructor(e=y){this.configuration=e,this.fetchApi=async(e,t)=>{let n,s={url:e,init:t};for(let e of this.middleware)e.pre&&(s=await e.pre({fetch:this.fetchApi,...s})||s);try{n=await (this.configuration.fetchApi||fetch)(s.url,s.init)}catch(e){for(let t of this.middleware)t.onError&&(n=await t.onError({fetch:this.fetchApi,url:s.url,init:s.init,error:e,response:n?n.clone():void 0})||n);if(void 0===n){if(e instanceof Error)throw new I(e,"The request failed and the interceptors did not return an alternative response");throw e}}for(let e of this.middleware)e.post&&(n=await e.post({fetch:this.fetchApi,url:s.url,init:s.init,response:n.clone()})||n);return n},this.middleware=e.middleware}}v.jsonRegex=RegExp("^(:?application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(:?;.*)?$","i");class w extends Error{constructor(e,t){super(t),this.response=e,this.name="ResponseError"}}class I extends Error{constructor(e,t){super(t),this.cause=e,this.name="FetchError"}}class b extends Error{constructor(e,t){super(t),this.field=e,this.name="RequiredError"}}class S{async value(){return this.transformer(await this.raw.json())}constructor(e,t=e=>e){this.raw=e,this.transformer=t}}function R(e){return function(e,t){var n,s,r,i,o;return null==e?e:{google:null==e.google?void 0:null==(n=e.google)?n:{purchaseToken:null==n.purchaseToken?void 0:n.purchaseToken,productId:null==n.productId?void 0:n.productId},apple:null==e.apple?void 0:null==(s=e.apple)?s:{originalTxid:null==s.originalTxid?void 0:s.originalTxid,txid:null==s.txid?void 0:s.txid,bundleId:null==s.bundleId?void 0:s.bundleId,productId:null==s.productId?void 0:s.productId},stripe:null==e.stripe?void 0:null==(r=e.stripe)?r:{subscriptionId:null==r.subscriptionId?void 0:r.subscriptionId,invoiceId:null==r.invoiceId?void 0:r.invoiceId,productId:null==r.productId?void 0:r.productId},x:null==e.x?void 0:e.x,xaiUserId:null==e.xaiUserId?void 0:e.xaiUserId,tier:null==e.tier?void 0:i=e.tier,status:null==e.status?void 0:o=e.status,createTime:null==e.createTime?void 0:e.createTime,modTime:null==e.modTime?void 0:e.modTime}}(e,0)}function x(e){return function(e,t){var n;return null==e?e:{id:null==e.id?void 0:e.id,amount:null==e.amount?void 0:null==(n=e.amount)?n:{val:null==n.val?void 0:n.val},currency:null==e.currency?void 0:e.currency}}(e,0)}function C(e){return null==e?e:{id:null==e.id?void 0:e.id,name:null==e.name?void 0:e.name,description:null==e.description?void 0:e.description,prices:null==e.prices?void 0:e.prices.map(x)}}function T(e,t){return null==e?e:{products:null==e.products?void 0:e.products.map(C)}}class k extends v{async subscriptionsCreateStripeCustomerRaw(e,t){if(null==e.body)throw new b("body",'Required parameter "body" was null or undefined when calling subscriptionsCreateStripeCustomer().');let n={};return n["Content-Type"]="application/json",new S(await this.request({path:"/rest/subscriptions/customer/new",method:"POST",headers:n,query:{},body:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{billingInfo:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{name:e.name,address:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{line1:e.line1,line2:e.line2,city:e.city,country:e.country,postalCode:e.postalCode,state:e.state}}(e.address,!1),email:e.email,taxIdType:e.taxIdType,taxNumber:e.taxNumber}}(e.billingInfo,!1)}}(e.body,!1)},t))}async subscriptionsCreateStripeCustomer(e,t){let n=await this.subscriptionsCreateStripeCustomerRaw(e,t);return await n.value()}async subscriptionsGetProductsInfoRaw(e,t){let n={};return null!=e.provider&&(n.provider=e.provider),new S(await this.request({path:"/rest/products",method:"GET",headers:{},query:n},t),e=>null==e?e:{google:null==e.google?void 0:T(e.google,!1),apple:null==e.apple?void 0:T(e.apple,!1),stripe:null==e.stripe?void 0:T(e.stripe,!1),x:null==e.x?void 0:T(e.x,!1)})}async subscriptionsGetProductsInfo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=await this.subscriptionsGetProductsInfoRaw(e,t);return await n.value()}async subscriptionsGetSubscriptionsRaw(e,t){let n={};return null!=e.provider&&(n.provider=e.provider),new S(await this.request({path:"/rest/subscriptions",method:"GET",headers:{},query:n},t),e=>null==e?e:{subscriptions:null==e.subscriptions?void 0:e.subscriptions.map(R)})}async subscriptionsGetSubscriptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=await this.subscriptionsGetSubscriptionsRaw(e,t);return await n.value()}async subscriptionsSubscribeViaStripeRaw(e,t){if(null==e.body)throw new b("body",'Required parameter "body" was null or undefined when calling subscriptionsSubscribeViaStripe().');let n={};return n["Content-Type"]="application/json",new S(await this.request({path:"/rest/subscriptions/subscribe/new",method:"POST",headers:n,query:{},body:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{embedded:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{returnUrl:e.returnUrl,isEmbedded:e.isEmbedded}}(e.embedded,!1),stripeHosted:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{successUrl:e.successUrl}}(e.stripeHosted,!1),priceId:e.priceId}}(e.body,!1)},t),e=>null==e?e:{clientSecret:null==e.clientSecret?void 0:e.clientSecret,url:null==e.url?void 0:e.url})}async subscriptionsSubscribeViaStripe(e,t){let n=await this.subscriptionsSubscribeViaStripeRaw(e,t);return await n.value()}}let P="http://localhost".replace(/\/+$/,"");class E{set config(e){this.configuration=e}get basePath(){return null!=this.configuration.basePath?this.configuration.basePath:P}get fetchApi(){return this.configuration.fetchApi}get middleware(){return this.configuration.middleware||[]}get queryParamsStringify(){return this.configuration.queryParamsStringify||function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.keys(t).map(s=>(function t(n,s){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=r+(r.length?"[".concat(n,"]"):n);if(s instanceof Array){let e=s.map(e=>encodeURIComponent(String(e))).join("&".concat(encodeURIComponent(i),"="));return"".concat(encodeURIComponent(i),"=").concat(e)}return s instanceof Set?t(n,Array.from(s),r):s instanceof Date?"".concat(encodeURIComponent(i),"=").concat(encodeURIComponent(s.toISOString())):s instanceof Object?e(s,i):"".concat(encodeURIComponent(i),"=").concat(encodeURIComponent(String(s)))})(s,t[s],n)).filter(e=>e.length>0).join("&")}}get username(){return this.configuration.username}get password(){return this.configuration.password}get apiKey(){let e=this.configuration.apiKey;if(e)return"function"==typeof e?e:()=>e}get accessToken(){let e=this.configuration.accessToken;if(e)return"function"==typeof e?e:async()=>e}get headers(){return this.configuration.headers}get credentials(){return this.configuration.credentials}constructor(e={}){this.configuration=e}}let _=new E;class V{withMiddleware(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let s=this.clone();return s.middleware=s.middleware.concat(...t),s}withPreMiddleware(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let s=t.map(e=>({pre:e}));return this.withMiddleware(...s)}withPostMiddleware(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let s=t.map(e=>({post:e}));return this.withMiddleware(...s)}isJsonMime(e){return!!e&&V.jsonRegex.test(e)}async request(e,t){let{url:n,init:s}=await this.createFetchParams(e,t),r=await this.fetchApi(n,s);if(r&&r.status>=200&&r.status<300)return r;throw new A(r,"Response returned an error code")}async createFetchParams(e,t){var n,s;let r,i=this.configuration.basePath+e.path;void 0!==e.query&&0!==Object.keys(e.query).length&&(i+="?"+this.configuration.queryParamsStringify(e.query));let o=Object.assign({},this.configuration.headers,e.headers);Object.keys(o).forEach(e=>void 0===o[e]?delete o[e]:{});let a={method:e.method,headers:o,body:e.body,credentials:this.configuration.credentials},l={...a,...await ("function"==typeof t?t:async()=>t)({init:a,context:e})};return(n=l.body,"undefined"!=typeof FormData&&n instanceof FormData||l.body instanceof URLSearchParams||(s=l.body,"undefined"!=typeof Blob&&s instanceof Blob))?r=l.body:r=this.isJsonMime(o["Content-Type"])?JSON.stringify(l.body):l.body,{url:i,init:{...l,body:r}}}clone(){let e=new this.constructor(this.configuration);return e.middleware=this.middleware.slice(),e}constructor(e=_){this.configuration=e,this.fetchApi=async(e,t)=>{let n,s={url:e,init:t};for(let e of this.middleware)e.pre&&(s=await e.pre({fetch:this.fetchApi,...s})||s);try{n=await (this.configuration.fetchApi||fetch)(s.url,s.init)}catch(e){for(let t of this.middleware)t.onError&&(n=await t.onError({fetch:this.fetchApi,url:s.url,init:s.init,error:e,response:n?n.clone():void 0})||n);if(void 0===n){if(e instanceof Error)throw new N(e,"The request failed and the interceptors did not return an alternative response");throw e}}for(let e of this.middleware)e.post&&(n=await e.post({fetch:this.fetchApi,url:s.url,init:s.init,response:n.clone()})||n);return n},this.middleware=e.middleware}}V.jsonRegex=RegExp("^(:?application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(:?;.*)?$","i");class A extends Error{constructor(e,t){super(t),this.response=e,this.name="ResponseError"}}class N extends Error{constructor(e,t){super(t),this.cause=e,this.name="FetchError"}}class M extends Error{constructor(e,t){super(t),this.field=e,this.name="RequiredError"}}class U{async value(){return this.transformer(await this.raw.json())}constructor(e,t=e=>e){this.raw=e,this.transformer=t}}function j(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{provider:e.provider,identityToken:e.identityToken,email:e.email,givenName:e.givenName,familyName:e.familyName,appleUserId:e.appleUserId}}function L(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{code:e.code,state:e.state,oauth2Cookie:e.oauth2Cookie}}function O(e,t){return null==e?e:{userId:null==e.userId?void 0:e.userId,createTime:null==e.createTime?void 0:e.createTime,email:null==e.email?void 0:e.email,profileImage:null==e.profileImage?void 0:e.profileImage,givenName:null==e.givenName?void 0:e.givenName,familyName:null==e.familyName?void 0:e.familyName,xSubscriptionType:null==e.xSubscriptionType?void 0:e.xSubscriptionType,xUserId:null==e.xUserId?void 0:e.xUserId,xUsername:null==e.xUsername?void 0:e.xUsername,role:null==e.role?void 0:e.role,emailConfirmed:null==e.emailConfirmed?void 0:e.emailConfirmed,tosAcceptedVersion:null==e.tosAcceptedVersion?void 0:e.tosAcceptedVersion,blockedReason:null==e.blockedReason?void 0:e.blockedReason,aclStrings:null==e.aclStrings?void 0:e.aclStrings,sessionTierId:null==e.sessionTierId?void 0:e.sessionTierId,birthDate:null==e.birthDate?void 0:e.birthDate,emailDomain:null==e.emailDomain?void 0:e.emailDomain,grokDb:null==e.grokDb?void 0:e.grokDb,deleteTime:null==e.deleteTime?void 0:e.deleteTime}}function q(e){return function(e,t){var n;return null==e?e:{deviceId:null==e.deviceId?void 0:e.deviceId,name:null==e.name?void 0:e.name,deviceType:null==e.deviceType?void 0:n=e.deviceType,iconHint:null==e.iconHint?void 0:e.iconHint,lastUsedTime:null==e.lastUsedTime?void 0:e.lastUsedTime,createTime:null==e.createTime?void 0:e.createTime}}(e,0)}class D extends V{async authFrontendCreateAnonUserRaw(e,t){if(null==e.body)throw new M("body",'Required parameter "body" was null or undefined when calling authFrontendCreateAnonUser().');let n={};return n["Content-Type"]="application/json",new U(await this.request({path:"/rest/auth/create-anon-user",method:"POST",headers:n,query:{},body:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{userPublicKey:e.userPublicKey}}(e.body,!1)},t),e=>null==e?e:{anonUserId:null==e.anonUserId?void 0:e.anonUserId})}async authFrontendCreateAnonUser(e,t){let n=await this.authFrontendCreateAnonUserRaw(e,t);return await n.value()}async authFrontendCreateAnonUserChallengeRaw(e,t){if(null==e.body)throw new M("body",'Required parameter "body" was null or undefined when calling authFrontendCreateAnonUserChallenge().');let n={};return n["Content-Type"]="application/json",new U(await this.request({path:"/rest/auth/create-anon-user-challenge",method:"POST",headers:n,query:{},body:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{anonUserId:e.anonUserId}}(e.body,!1)},t),e=>null==e?e:{challenge:null==e.challenge?void 0:e.challenge,challengeExpirationTime:null==e.challengeExpirationTime?void 0:e.challengeExpirationTime})}async authFrontendCreateAnonUserChallenge(e,t){let n=await this.authFrontendCreateAnonUserChallengeRaw(e,t);return await n.value()}async authFrontendCreateSessionRaw(e,t){if(null==e.body)throw new M("body",'Required parameter "body" was null or undefined when calling authFrontendCreateSession().');let n={};return n["Content-Type"]="application/json",new U(await this.request({path:"/rest/auth/create-session",method:"POST",headers:n,query:{},body:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{credentials:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{emailAndPassword:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{email:e.email,clearTextPassword:e.clearTextPassword}}(e.emailAndPassword,!1),oauth:L(e.oauth,!1),apple:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{identityToken:e.identityToken,email:e.email,givenName:e.givenName,familyName:e.familyName,userId:e.userId}}(e.apple,!1),idToken:j(e.idToken,!1)}}(e.credentials,!1),sessionId:e.sessionId}}(e.body,!1)},t),e=>null==e?e:{session:null==e.session?void 0:function(e,t){var n,s;return null==e?e:{sessionId:null==e.sessionId?void 0:e.sessionId,userId:null==e.userId?void 0:e.userId,createTime:null==e.createTime?void 0:e.createTime,expirationTime:null==e.expirationTime?void 0:e.expirationTime,status:null==e.status?void 0:n=e.status,multiFactorDeviceId:null==e.multiFactorDeviceId?void 0:e.multiFactorDeviceId,startVerificationTime:null==e.startVerificationTime?void 0:e.startVerificationTime,verificationTime:null==e.verificationTime?void 0:e.verificationTime,cfMetadata:null==e.cfMetadata?void 0:null==(s=e.cfMetadata)?s:{ipAddress:null==s.ipAddress?void 0:s.ipAddress,city:null==s.city?void 0:s.city,country:null==s.country?void 0:s.country,continent:null==s.continent?void 0:s.continent,latitude:null==s.latitude?void 0:s.latitude,longitude:null==s.longitude?void 0:s.longitude,region:null==s.region?void 0:s.region,regionCode:null==s.regionCode?void 0:s.regionCode,metro:null==s.metro?void 0:s.metro,postalCode:null==s.postalCode?void 0:s.postalCode,timezone:null==s.timezone?void 0:s.timezone},userAgent:null==e.userAgent?void 0:e.userAgent,elevationTime:null==e.elevationTime?void 0:e.elevationTime,impersonationUserId:null==e.impersonationUserId?void 0:e.impersonationUserId,lastAuthTime:null==e.lastAuthTime?void 0:e.lastAuthTime}}(e.session,0),sessionCookie:null==e.sessionCookie?void 0:e.sessionCookie,oneTimeLinkTokens:null==e.oneTimeLinkTokens?void 0:e.oneTimeLinkTokens})}async authFrontendCreateSession(e,t){let n=await this.authFrontendCreateSessionRaw(e,t);return await n.value()}async authFrontendDeleteSessionRaw(e,t){let n={};return null!=e.sessionId&&(n.sessionId=e.sessionId),new U(await this.request({path:"/rest/auth/delete-session",method:"DELETE",headers:{},query:n},t))}async authFrontendDeleteSession(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=await this.authFrontendDeleteSessionRaw(e,t);return await n.value()}async authFrontendEditUserRaw(e,t){if(null==e.body)throw new M("body",'Required parameter "body" was null or undefined when calling authFrontendEditUser().');let n={};return n["Content-Type"]="application/json",new U(await this.request({path:"/rest/auth/edit-user",method:"POST",headers:n,query:{},body:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{user:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{userId:e.userId,createTime:e.createTime,email:e.email,profileImage:e.profileImage,givenName:e.givenName,familyName:e.familyName,xSubscriptionType:e.xSubscriptionType,xUserId:e.xUserId,xUsername:e.xUsername,role:e.role,emailConfirmed:e.emailConfirmed,tosAcceptedVersion:e.tosAcceptedVersion,blockedReason:e.blockedReason,aclStrings:e.aclStrings,sessionTierId:e.sessionTierId,birthDate:e.birthDate,emailDomain:e.emailDomain,grokDb:e.grokDb,deleteTime:e.deleteTime}}(e.user,!1),fieldMask:e.fieldMask}}(e.body,!1)},t),e=>O(e,!1))}async authFrontendEditUser(e,t){let n=await this.authFrontendEditUserRaw(e,t);return await n.value()}async authFrontendFinishMfaVerificationRaw(e,t){if(null==e.body)throw new M("body",'Required parameter "body" was null or undefined when calling authFrontendFinishMfaVerification().');let n={};return n["Content-Type"]="application/json",new U(await this.request({path:"/rest/auth/finish-mfa-verification",method:"POST",headers:n,query:{},body:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{sessionId:e.sessionId,otp:e.otp,publicKeyJson:e.publicKeyJson,domain:e.domain}}(e.body,!1)},t))}async authFrontendFinishMfaVerification(e,t){let n=await this.authFrontendFinishMfaVerificationRaw(e,t);return await n.value()}async authFrontendGetAuthStatusRaw(e){return new U(await this.request({path:"/rest/auth/get-auth-status",method:"GET",headers:{},query:{}},e))}async authFrontendGetAuthStatus(e){let t=await this.authFrontendGetAuthStatusRaw(e);return await t.value()}async authFrontendGetAuthUrlRaw(e,t){let n={};return null!=e.provider&&(n.provider=e.provider),null!=e.redirectUrl&&(n.redirectUrl=e.redirectUrl),null!=e.antiAbuseTokenTurnstileToken&&(n["antiAbuseToken.turnstileToken"]=e.antiAbuseTokenTurnstileToken),new U(await this.request({path:"/rest/get-auth-url",method:"GET",headers:{},query:n},t),e=>null==e?e:{authUrl:null==e.authUrl?void 0:e.authUrl,oauth2Cookie:null==e.oauth2Cookie?void 0:e.oauth2Cookie})}async authFrontendGetAuthUrl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=await this.authFrontendGetAuthUrlRaw(e,t);return await n.value()}async authFrontendGetUserRaw(e){return new U(await this.request({path:"/rest/auth/get-user",method:"GET",headers:{},query:{}},e),e=>O(e,!1))}async authFrontendGetUser(e){let t=await this.authFrontendGetUserRaw(e);return await t.value()}async authFrontendLinkAccountRaw(e,t){if(null==e.body)throw new M("body",'Required parameter "body" was null or undefined when calling authFrontendLinkAccount().');let n={};return n["Content-Type"]="application/json",new U(await this.request({path:"/rest/auth/link-account",method:"POST",headers:n,query:{},body:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{credentials:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{oauth:L(e.oauth,!1),idToken:j(e.idToken,!1)}}(e.credentials,!1)}}(e.body,!1)},t))}async authFrontendLinkAccount(e,t){let n=await this.authFrontendLinkAccountRaw(e,t);return await n.value()}async authFrontendListMfaDevicesRaw(e){return new U(await this.request({path:"/rest/auth/list-mfa-devices",method:"GET",headers:{},query:{}},e),e=>null==e?e:{devices:null==e.devices?void 0:e.devices.map(q)})}async authFrontendListMfaDevices(e){let t=await this.authFrontendListMfaDevicesRaw(e);return await t.value()}async authFrontendRefreshXSubscriptionStatusRaw(e,t){if(null==e.body)throw new M("body",'Required parameter "body" was null or undefined when calling authFrontendRefreshXSubscriptionStatus().');let n={};return n["Content-Type"]="application/json",new U(await this.request({path:"/rest/auth/refresh-x-subscription-status",method:"POST",headers:n,query:{},body:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{sessionId:e.sessionId}}(e.body,!1)},t))}async authFrontendRefreshXSubscriptionStatus(e,t){let n=await this.authFrontendRefreshXSubscriptionStatusRaw(e,t);return await n.value()}async authFrontendResendEmailValidationEmailRaw(e,t){if(null==e.body)throw new M("body",'Required parameter "body" was null or undefined when calling authFrontendResendEmailValidationEmail().');let n={};return n["Content-Type"]="application/json",new U(await this.request({path:"/rest/auth/resend-email-validation-email",method:"POST",headers:n,query:{},body:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{validationUrl:e.validationUrl}}(e.body,!1)},t))}async authFrontendResendEmailValidationEmail(e,t){let n=await this.authFrontendResendEmailValidationEmailRaw(e,t);return await n.value()}async authFrontendRestoreDeletedUserRaw(e,t){if(null==e.body)throw new M("body",'Required parameter "body" was null or undefined when calling authFrontendRestoreDeletedUser().');let n={};return n["Content-Type"]="application/json",new U(await this.request({path:"/rest/auth/restore-deleted-user",method:"POST",headers:n,query:{},body:e.body},t))}async authFrontendRestoreDeletedUser(e,t){let n=await this.authFrontendRestoreDeletedUserRaw(e,t);return await n.value()}async authFrontendSetBirthDateRaw(e,t){if(null==e.body)throw new M("body",'Required parameter "body" was null or undefined when calling authFrontendSetBirthDate().');let n={};return n["Content-Type"]="application/json",new U(await this.request({path:"/rest/auth/set-birth-date",method:"POST",headers:n,query:{},body:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{birthDate:e.birthDate}}(e.body,!1)},t))}async authFrontendSetBirthDate(e,t){let n=await this.authFrontendSetBirthDateRaw(e,t);return await n.value()}async authFrontendSetEmailAddressRaw(e,t){if(null==e.body)throw new M("body",'Required parameter "body" was null or undefined when calling authFrontendSetEmailAddress().');let n={};return n["Content-Type"]="application/json",new U(await this.request({path:"/rest/auth/set-email-address",method:"POST",headers:n,query:{},body:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{newEmail:e.newEmail,validationUrl:e.validationUrl}}(e.body,!1)},t))}async authFrontendSetEmailAddress(e,t){let n=await this.authFrontendSetEmailAddressRaw(e,t);return await n.value()}async authFrontendSetTosAcceptedVersionRaw(e,t){if(null==e.body)throw new M("body",'Required parameter "body" was null or undefined when calling authFrontendSetTosAcceptedVersion().');let n={};return n["Content-Type"]="application/json",new U(await this.request({path:"/rest/auth/set-tos-accepted",method:"POST",headers:n,query:{},body:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{tosVersion:e.tosVersion}}(e.body,!1)},t))}async authFrontendSetTosAcceptedVersion(e,t){let n=await this.authFrontendSetTosAcceptedVersionRaw(e,t);return await n.value()}async authFrontendSoftDeleteUserRaw(e,t){if(null==e.body)throw new M("body",'Required parameter "body" was null or undefined when calling authFrontendSoftDeleteUser().');let n={};return n["Content-Type"]="application/json",new U(await this.request({path:"/rest/auth/soft-delete-user",method:"POST",headers:n,query:{},body:e.body},t))}async authFrontendSoftDeleteUser(e,t){let n=await this.authFrontendSoftDeleteUserRaw(e,t);return await n.value()}async authFrontendStartMfaVerificationRaw(e,t){if(null==e.body)throw new M("body",'Required parameter "body" was null or undefined when calling authFrontendStartMfaVerification().');let n={};return n["Content-Type"]="application/json",new U(await this.request({path:"/rest/auth/start-mfa-verification",method:"POST",headers:n,query:{},body:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{sessionId:e.sessionId,multiFactorDeviceId:e.multiFactorDeviceId,domain:e.domain}}(e.body,!1)},t),e=>null==e?e:{toptChallenge:null==e.toptChallenge?void 0:e.toptChallenge,webAuthnChallenge:null==e.webAuthnChallenge?void 0:e.webAuthnChallenge})}async authFrontendStartMfaVerification(e,t){let n=await this.authFrontendStartMfaVerificationRaw(e,t);return await n.value()}async authFrontendUpdateProfileImageRaw(e,t){if(null==e.body)throw new M("body",'Required parameter "body" was null or undefined when calling authFrontendUpdateProfileImage().');let n={};return n["Content-Type"]="application/json",new U(await this.request({path:"/rest/auth/update-profile-image",method:"POST",headers:n,query:{},body:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{profileImage:e.profileImage}}(e.body,!1)},t),e=>null==e?e:{assetKey:null==e.assetKey?void 0:e.assetKey})}async authFrontendUpdateProfileImage(e,t){let n=await this.authFrontendUpdateProfileImageRaw(e,t);return await n.value()}}let B="http://localhost".replace(/\/+$/,"");class F{set config(e){this.configuration=e}get basePath(){return null!=this.configuration.basePath?this.configuration.basePath:B}get fetchApi(){return this.configuration.fetchApi}get middleware(){return this.configuration.middleware||[]}get queryParamsStringify(){return this.configuration.queryParamsStringify||function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.keys(t).map(s=>(function t(n,s){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=r+(r.length?"[".concat(n,"]"):n);if(s instanceof Array){let e=s.map(e=>encodeURIComponent(String(e))).join("&".concat(encodeURIComponent(i),"="));return"".concat(encodeURIComponent(i),"=").concat(e)}return s instanceof Set?t(n,Array.from(s),r):s instanceof Date?"".concat(encodeURIComponent(i),"=").concat(encodeURIComponent(s.toISOString())):s instanceof Object?e(s,i):"".concat(encodeURIComponent(i),"=").concat(encodeURIComponent(String(s)))})(s,t[s],n)).filter(e=>e.length>0).join("&")}}get username(){return this.configuration.username}get password(){return this.configuration.password}get apiKey(){let e=this.configuration.apiKey;if(e)return"function"==typeof e?e:()=>e}get accessToken(){let e=this.configuration.accessToken;if(e)return"function"==typeof e?e:async()=>e}get headers(){return this.configuration.headers}get credentials(){return this.configuration.credentials}constructor(e={}){this.configuration=e}}let G=new F;class H{withMiddleware(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let s=this.clone();return s.middleware=s.middleware.concat(...t),s}withPreMiddleware(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let s=t.map(e=>({pre:e}));return this.withMiddleware(...s)}withPostMiddleware(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let s=t.map(e=>({post:e}));return this.withMiddleware(...s)}isJsonMime(e){return!!e&&H.jsonRegex.test(e)}async request(e,t){let{url:n,init:s}=await this.createFetchParams(e,t),r=await this.fetchApi(n,s);if(r&&r.status>=200&&r.status<300)return r;throw new z(r,"Response returned an error code")}async createFetchParams(e,t){var n,s;let r,i=this.configuration.basePath+e.path;void 0!==e.query&&0!==Object.keys(e.query).length&&(i+="?"+this.configuration.queryParamsStringify(e.query));let o=Object.assign({},this.configuration.headers,e.headers);Object.keys(o).forEach(e=>void 0===o[e]?delete o[e]:{});let a={method:e.method,headers:o,body:e.body,credentials:this.configuration.credentials},l={...a,...await ("function"==typeof t?t:async()=>t)({init:a,context:e})};return(n=l.body,"undefined"!=typeof FormData&&n instanceof FormData||l.body instanceof URLSearchParams||(s=l.body,"undefined"!=typeof Blob&&s instanceof Blob))?r=l.body:r=this.isJsonMime(o["Content-Type"])?JSON.stringify(l.body):l.body,{url:i,init:{...l,body:r}}}clone(){let e=new this.constructor(this.configuration);return e.middleware=this.middleware.slice(),e}constructor(e=G){this.configuration=e,this.fetchApi=async(e,t)=>{let n,s={url:e,init:t};for(let e of this.middleware)e.pre&&(s=await e.pre({fetch:this.fetchApi,...s})||s);try{n=await (this.configuration.fetchApi||fetch)(s.url,s.init)}catch(e){for(let t of this.middleware)t.onError&&(n=await t.onError({fetch:this.fetchApi,url:s.url,init:s.init,error:e,response:n?n.clone():void 0})||n);if(void 0===n){if(e instanceof Error)throw new Z(e,"The request failed and the interceptors did not return an alternative response");throw e}}for(let e of this.middleware)e.post&&(n=await e.post({fetch:this.fetchApi,url:s.url,init:s.init,response:n.clone()})||n);return n},this.middleware=e.middleware}}H.jsonRegex=RegExp("^(:?application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(:?;.*)?$","i");class z extends Error{constructor(e,t){super(t),this.response=e,this.name="ResponseError"}}class Z extends Error{constructor(e,t){super(t),this.cause=e,this.name="FetchError"}}class W extends Error{constructor(e,t){super(t),this.field=e,this.name="RequiredError"}}class K{async value(){return this.transformer(await this.raw.json())}constructor(e,t=e=>e){this.raw=e,this.transformer=t}}function J(e){return null==e?e:{modelId:null==e.modelId?void 0:e.modelId,name:null==e.name?void 0:e.name,description:null==e.description?void 0:e.description,tags:null==e.tags?void 0:e.tags,badgeText:null==e.badgeText?void 0:e.badgeText}}class Q extends H{async modelsGetModelsRaw(e,t){if(null==e.body)throw new W("body",'Required parameter "body" was null or undefined when calling modelsGetModels().');let n={};return n["Content-Type"]="application/json",new K(await this.request({path:"/rest/models",method:"POST",headers:n,query:{},body:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{locale:e.locale}}(e.body,!1)},t),e=>null==e?e:{models:null==e.models?void 0:e.models.map(J),defaultFreeModel:null==e.defaultFreeModel?void 0:e.defaultFreeModel,defaultProModel:null==e.defaultProModel?void 0:e.defaultProModel,unavailableModels:null==e.unavailableModels?void 0:e.unavailableModels.map(J),defaultAnonModel:null==e.defaultAnonModel?void 0:e.defaultAnonModel})}async modelsGetModels(e,t){let n=await this.modelsGetModelsRaw(e,t);return await n.value()}}let X="http://localhost".replace(/\/+$/,"");class ${set config(e){this.configuration=e}get basePath(){return null!=this.configuration.basePath?this.configuration.basePath:X}get fetchApi(){return this.configuration.fetchApi}get middleware(){return this.configuration.middleware||[]}get queryParamsStringify(){return this.configuration.queryParamsStringify||function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.keys(t).map(s=>(function t(n,s){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=r+(r.length?"[".concat(n,"]"):n);if(s instanceof Array){let e=s.map(e=>encodeURIComponent(String(e))).join("&".concat(encodeURIComponent(i),"="));return"".concat(encodeURIComponent(i),"=").concat(e)}return s instanceof Set?t(n,Array.from(s),r):s instanceof Date?"".concat(encodeURIComponent(i),"=").concat(encodeURIComponent(s.toISOString())):s instanceof Object?e(s,i):"".concat(encodeURIComponent(i),"=").concat(encodeURIComponent(String(s)))})(s,t[s],n)).filter(e=>e.length>0).join("&")}}get username(){return this.configuration.username}get password(){return this.configuration.password}get apiKey(){let e=this.configuration.apiKey;if(e)return"function"==typeof e?e:()=>e}get accessToken(){let e=this.configuration.accessToken;if(e)return"function"==typeof e?e:async()=>e}get headers(){return this.configuration.headers}get credentials(){return this.configuration.credentials}constructor(e={}){this.configuration=e}}let Y=new $;class ee{withMiddleware(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let s=this.clone();return s.middleware=s.middleware.concat(...t),s}withPreMiddleware(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let s=t.map(e=>({pre:e}));return this.withMiddleware(...s)}withPostMiddleware(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let s=t.map(e=>({post:e}));return this.withMiddleware(...s)}isJsonMime(e){return!!e&&ee.jsonRegex.test(e)}async request(e,t){let{url:n,init:s}=await this.createFetchParams(e,t),r=await this.fetchApi(n,s);if(r&&r.status>=200&&r.status<300)return r;throw new et(r,"Response returned an error code")}async createFetchParams(e,t){var n,s;let r,i=this.configuration.basePath+e.path;void 0!==e.query&&0!==Object.keys(e.query).length&&(i+="?"+this.configuration.queryParamsStringify(e.query));let o=Object.assign({},this.configuration.headers,e.headers);Object.keys(o).forEach(e=>void 0===o[e]?delete o[e]:{});let a={method:e.method,headers:o,body:e.body,credentials:this.configuration.credentials},l={...a,...await ("function"==typeof t?t:async()=>t)({init:a,context:e})};return(n=l.body,"undefined"!=typeof FormData&&n instanceof FormData||l.body instanceof URLSearchParams||(s=l.body,"undefined"!=typeof Blob&&s instanceof Blob))?r=l.body:r=this.isJsonMime(o["Content-Type"])?JSON.stringify(l.body):l.body,{url:i,init:{...l,body:r}}}clone(){let e=new this.constructor(this.configuration);return e.middleware=this.middleware.slice(),e}constructor(e=Y){this.configuration=e,this.fetchApi=async(e,t)=>{let n,s={url:e,init:t};for(let e of this.middleware)e.pre&&(s=await e.pre({fetch:this.fetchApi,...s})||s);try{n=await (this.configuration.fetchApi||fetch)(s.url,s.init)}catch(e){for(let t of this.middleware)t.onError&&(n=await t.onError({fetch:this.fetchApi,url:s.url,init:s.init,error:e,response:n?n.clone():void 0})||n);if(void 0===n){if(e instanceof Error)throw new en(e,"The request failed and the interceptors did not return an alternative response");throw e}}for(let e of this.middleware)e.post&&(n=await e.post({fetch:this.fetchApi,url:s.url,init:s.init,response:n.clone()})||n);return n},this.middleware=e.middleware}}ee.jsonRegex=RegExp("^(:?application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(:?;.*)?$","i");class et extends Error{constructor(e,t){super(t),this.response=e,this.name="ResponseError"}}class en extends Error{constructor(e,t){super(t),this.cause=e,this.name="FetchError"}}class es extends Error{constructor(e,t){super(t),this.field=e,this.name="RequiredError"}}class er{async value(){return this.transformer(await this.raw.json())}constructor(e,t=e=>e){this.raw=e,this.transformer=t}}class ei extends ee{async rateLimitsGetRateLimitsRaw(e,t){if(null==e.body)throw new es("body",'Required parameter "body" was null or undefined when calling rateLimitsGetRateLimits().');let n={};return n["Content-Type"]="application/json",new er(await this.request({path:"/rest/rate-limits",method:"POST",headers:n,query:{},body:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{requestKind:e.requestKind,modelName:e.modelName}}(e.body,!1)},t),e=>null==e?e:{windowSizeSeconds:null==e.windowSizeSeconds?void 0:e.windowSizeSeconds,remainingQueries:null==e.remainingQueries?void 0:e.remainingQueries,waitTimeSeconds:null==e.waitTimeSeconds?void 0:e.waitTimeSeconds,totalQueries:null==e.totalQueries?void 0:e.totalQueries})}async rateLimitsGetRateLimits(e,t){let n=await this.rateLimitsGetRateLimitsRaw(e,t);return await n.value()}}let eo="http://localhost".replace(/\/+$/,"");class ea{set config(e){this.configuration=e}get basePath(){return null!=this.configuration.basePath?this.configuration.basePath:eo}get fetchApi(){return this.configuration.fetchApi}get middleware(){return this.configuration.middleware||[]}get queryParamsStringify(){return this.configuration.queryParamsStringify||function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.keys(t).map(s=>(function t(n,s){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=r+(r.length?"[".concat(n,"]"):n);if(s instanceof Array){let e=s.map(e=>encodeURIComponent(String(e))).join("&".concat(encodeURIComponent(i),"="));return"".concat(encodeURIComponent(i),"=").concat(e)}return s instanceof Set?t(n,Array.from(s),r):s instanceof Date?"".concat(encodeURIComponent(i),"=").concat(encodeURIComponent(s.toISOString())):s instanceof Object?e(s,i):"".concat(encodeURIComponent(i),"=").concat(encodeURIComponent(String(s)))})(s,t[s],n)).filter(e=>e.length>0).join("&")}}get username(){return this.configuration.username}get password(){return this.configuration.password}get apiKey(){let e=this.configuration.apiKey;if(e)return"function"==typeof e?e:()=>e}get accessToken(){let e=this.configuration.accessToken;if(e)return"function"==typeof e?e:async()=>e}get headers(){return this.configuration.headers}get credentials(){return this.configuration.credentials}constructor(e={}){this.configuration=e}}let el=new ea;class ed{withMiddleware(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let s=this.clone();return s.middleware=s.middleware.concat(...t),s}withPreMiddleware(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let s=t.map(e=>({pre:e}));return this.withMiddleware(...s)}withPostMiddleware(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let s=t.map(e=>({post:e}));return this.withMiddleware(...s)}isJsonMime(e){return!!e&&ed.jsonRegex.test(e)}async request(e,t){let{url:n,init:s}=await this.createFetchParams(e,t),r=await this.fetchApi(n,s);if(r&&r.status>=200&&r.status<300)return r;throw new ec(r,"Response returned an error code")}async createFetchParams(e,t){var n,s;let r,i=this.configuration.basePath+e.path;void 0!==e.query&&0!==Object.keys(e.query).length&&(i+="?"+this.configuration.queryParamsStringify(e.query));let o=Object.assign({},this.configuration.headers,e.headers);Object.keys(o).forEach(e=>void 0===o[e]?delete o[e]:{});let a={method:e.method,headers:o,body:e.body,credentials:this.configuration.credentials},l={...a,...await ("function"==typeof t?t:async()=>t)({init:a,context:e})};return(n=l.body,"undefined"!=typeof FormData&&n instanceof FormData||l.body instanceof URLSearchParams||(s=l.body,"undefined"!=typeof Blob&&s instanceof Blob))?r=l.body:r=this.isJsonMime(o["Content-Type"])?JSON.stringify(l.body):l.body,{url:i,init:{...l,body:r}}}clone(){let e=new this.constructor(this.configuration);return e.middleware=this.middleware.slice(),e}constructor(e=el){this.configuration=e,this.fetchApi=async(e,t)=>{let n,s={url:e,init:t};for(let e of this.middleware)e.pre&&(s=await e.pre({fetch:this.fetchApi,...s})||s);try{n=await (this.configuration.fetchApi||fetch)(s.url,s.init)}catch(e){for(let t of this.middleware)t.onError&&(n=await t.onError({fetch:this.fetchApi,url:s.url,init:s.init,error:e,response:n?n.clone():void 0})||n);if(void 0===n){if(e instanceof Error)throw new eu(e,"The request failed and the interceptors did not return an alternative response");throw e}}for(let e of this.middleware)e.post&&(n=await e.post({fetch:this.fetchApi,url:s.url,init:s.init,response:n.clone()})||n);return n},this.middleware=e.middleware}}ed.jsonRegex=RegExp("^(:?application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(:?;.*)?$","i");class ec extends Error{constructor(e,t){super(t),this.response=e,this.name="ResponseError"}}class eu extends Error{constructor(e,t){super(t),this.cause=e,this.name="FetchError"}}class eh extends Error{constructor(e,t){super(t),this.field=e,this.name="RequiredError"}}class ep{async value(){return this.transformer(await this.raw.json())}constructor(e,t=e=>e){this.raw=e,this.transformer=t}}function em(e){return null==e?e:{text:null==e.text?void 0:e.text,asset:null==e.asset?void 0:function(e,t){var n;return null==e?e:{assetId:null==e.assetId?void 0:e.assetId,mimeType:null==e.mimeType?void 0:e.mimeType,name:null==e.name?void 0:e.name,sizeBytes:null==e.sizeBytes?void 0:e.sizeBytes,createTime:null==e.createTime?void 0:e.createTime,lastUseTime:null==e.lastUseTime?void 0:e.lastUseTime,summary:null==e.summary?void 0:e.summary,previewImageKey:null==e.previewImageKey?void 0:e.previewImageKey,key:null==e.key?void 0:e.key,auxKeys:null==e.auxKeys?void 0:e.auxKeys,responseId:null==e.responseId?void 0:e.responseId,source:null==e.source?void 0:n=e.source}}(e.asset,0)}}function ef(e){return function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{text:e.text,asset:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{assetId:e.assetId,mimeType:e.mimeType,name:e.name,sizeBytes:e.sizeBytes,createTime:e.createTime,lastUseTime:e.lastUseTime,summary:e.summary,previewImageKey:e.previewImageKey,key:e.key,auxKeys:e.auxKeys,responseId:e.responseId,source:e.source}}(e.asset,!1)}}(e,!1)}function eg(e){return function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{text:e.text,assetId:e.assetId}}(e,!1)}function ey(e){return null==e?e:{systemPromptId:null==e.systemPromptId?void 0:e.systemPromptId,name:null==e.name?void 0:e.name,createTime:null==e.createTime?void 0:e.createTime,lastUseTime:null==e.lastUseTime?void 0:e.lastUseTime,content:null==e.content?void 0:e.content.map(em)}}class ev extends ed{async systemPromptRepositoryCreateSystemPromptRaw(e,t){if(null==e.body)throw new eh("body",'Required parameter "body" was null or undefined when calling systemPromptRepositoryCreateSystemPrompt().');let n={};return n["Content-Type"]="application/json",new ep(await this.request({path:"/rest/system-prompt/create",method:"POST",headers:n,query:{},body:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{name:e.name,content:null==e.content?void 0:e.content.map(eg)}}(e.body,!1)},t),e=>ey(e))}async systemPromptRepositoryCreateSystemPrompt(e,t){let n=await this.systemPromptRepositoryCreateSystemPromptRaw(e,t);return await n.value()}async systemPromptRepositoryDeleteSystemPromptRaw(e,t){if(null==e.systemPromptId)throw new eh("systemPromptId",'Required parameter "systemPromptId" was null or undefined when calling systemPromptRepositoryDeleteSystemPrompt().');return new ep(await this.request({path:"/rest/system-prompt/{systemPromptId}".replace("{systemPromptId}",encodeURIComponent(String(e.systemPromptId))),method:"DELETE",headers:{},query:{}},t))}async systemPromptRepositoryDeleteSystemPrompt(e,t){let n=await this.systemPromptRepositoryDeleteSystemPromptRaw(e,t);return await n.value()}async systemPromptRepositoryGetSystemPromptRaw(e,t){if(null==e.systemPromptId)throw new eh("systemPromptId",'Required parameter "systemPromptId" was null or undefined when calling systemPromptRepositoryGetSystemPrompt().');return new ep(await this.request({path:"/rest/system-prompt/{systemPromptId}".replace("{systemPromptId}",encodeURIComponent(String(e.systemPromptId))),method:"GET",headers:{},query:{}},t),e=>ey(e))}async systemPromptRepositoryGetSystemPrompt(e,t){let n=await this.systemPromptRepositoryGetSystemPromptRaw(e,t);return await n.value()}async systemPromptRepositoryListSystemPromptsRaw(e,t){if(null==e.body)throw new eh("body",'Required parameter "body" was null or undefined when calling systemPromptRepositoryListSystemPrompts().');let n={};return n["Content-Type"]="application/json",new ep(await this.request({path:"/rest/system-prompt/list",method:"POST",headers:n,query:{},body:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{query:e.query,pageSize:e.pageSize,pageToken:e.pageToken,orderBy:e.orderBy}}(e.body,!1)},t),e=>null==e?e:{assets:null==e.assets?void 0:e.assets.map(ey),nextPageToken:null==e.nextPageToken?void 0:e.nextPageToken})}async systemPromptRepositoryListSystemPrompts(e,t){let n=await this.systemPromptRepositoryListSystemPromptsRaw(e,t);return await n.value()}async systemPromptRepositoryUpdateSystemPromptRaw(e,t){if(null==e.systemPromptId)throw new eh("systemPromptId",'Required parameter "systemPromptId" was null or undefined when calling systemPromptRepositoryUpdateSystemPrompt().');if(null==e.body)throw new eh("body",'Required parameter "body" was null or undefined when calling systemPromptRepositoryUpdateSystemPrompt().');let n={};return n["Content-Type"]="application/json",new ep(await this.request({path:"/rest/system-prompt/{systemPromptId}".replace("{systemPromptId}",encodeURIComponent(String(e.systemPromptId))),method:"PUT",headers:n,query:{},body:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{name:e.name,content:null==e.content?void 0:e.content.map(ef)}}(e.body,!1)},t),e=>ey(e))}async systemPromptRepositoryUpdateSystemPrompt(e,t){let n=await this.systemPromptRepositoryUpdateSystemPromptRaw(e,t);return await n.value()}}let ew="undefined"==typeof location?new m.WjG(new m.VKt({credentials:"include",fetchApi:s.kG})):new m.WjG(new m.VKt({basePath:location.origin,credentials:"include",fetchApi:s.kG})),eI="undefined"==typeof location?new p(new i({credentials:"include",fetchApi:s.kG})):new p(new i({basePath:location.origin,credentials:"include",fetchApi:s.kG})),eb="undefined"==typeof location?new k(new g({credentials:"include",fetchApi:s.kG})):new k(new g({basePath:location.origin,credentials:"include",fetchApi:s.kG})),eS="undefined"==typeof location?new Q(new F({credentials:"include",fetchApi:s.kG})):new Q(new F({basePath:location.origin,credentials:"include",fetchApi:s.kG})),eR="undefined"==typeof location?new ei(new $({credentials:"include",fetchApi:s.kG})):new ei(new $({basePath:location.origin,credentials:"include",fetchApi:s.kG})),ex="undefined"==typeof location?new D(new E({credentials:"include",fetchApi:s.kG})):new D(new E({basePath:location.origin,credentials:"include",fetchApi:s.kG})),eC="undefined"==typeof location?new ev(new ea({credentials:"include",fetchApi:s.kG})):new ev(new ea({basePath:location.origin,credentials:"include",fetchApi:s.kG}))},42155:function(e,t,n){n.d(t,{WjG:function(){return V},VKt:function(){return r},VLC:function(){return a}});let s="http://localhost".replace(/\/+$/,"");class r{set config(e){this.configuration=e}get basePath(){return null!=this.configuration.basePath?this.configuration.basePath:s}get fetchApi(){return this.configuration.fetchApi}get middleware(){return this.configuration.middleware||[]}get queryParamsStringify(){return this.configuration.queryParamsStringify||function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.keys(t).map(s=>(function t(n,s){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=r+(r.length?"[".concat(n,"]"):n);if(s instanceof Array){let e=s.map(e=>encodeURIComponent(String(e))).join("&".concat(encodeURIComponent(i),"="));return"".concat(encodeURIComponent(i),"=").concat(e)}return s instanceof Set?t(n,Array.from(s),r):s instanceof Date?"".concat(encodeURIComponent(i),"=").concat(encodeURIComponent(s.toISOString())):s instanceof Object?e(s,i):"".concat(encodeURIComponent(i),"=").concat(encodeURIComponent(String(s)))})(s,t[s],n)).filter(e=>e.length>0).join("&")}}get username(){return this.configuration.username}get password(){return this.configuration.password}get apiKey(){let e=this.configuration.apiKey;if(e)return"function"==typeof e?e:()=>e}get accessToken(){let e=this.configuration.accessToken;if(e)return"function"==typeof e?e:async()=>e}get headers(){return this.configuration.headers}get credentials(){return this.configuration.credentials}constructor(e={}){this.configuration=e}}let i=new r;class o{withMiddleware(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let s=this.clone();return s.middleware=s.middleware.concat(...t),s}withPreMiddleware(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let s=t.map(e=>({pre:e}));return this.withMiddleware(...s)}withPostMiddleware(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let s=t.map(e=>({post:e}));return this.withMiddleware(...s)}isJsonMime(e){return!!e&&o.jsonRegex.test(e)}async request(e,t){let{url:n,init:s}=await this.createFetchParams(e,t),r=await this.fetchApi(n,s);if(r&&r.status>=200&&r.status<300)return r;throw new a(r,"Response returned an error code")}async createFetchParams(e,t){var n,s;let r,i=this.configuration.basePath+e.path;void 0!==e.query&&0!==Object.keys(e.query).length&&(i+="?"+this.configuration.queryParamsStringify(e.query));let o=Object.assign({},this.configuration.headers,e.headers);Object.keys(o).forEach(e=>void 0===o[e]?delete o[e]:{});let a={method:e.method,headers:o,body:e.body,credentials:this.configuration.credentials},l={...a,...await ("function"==typeof t?t:async()=>t)({init:a,context:e})};return(n=l.body,"undefined"!=typeof FormData&&n instanceof FormData||l.body instanceof URLSearchParams||(s=l.body,"undefined"!=typeof Blob&&s instanceof Blob))?r=l.body:r=this.isJsonMime(o["Content-Type"])?JSON.stringify(l.body):l.body,{url:i,init:{...l,body:r}}}clone(){let e=new this.constructor(this.configuration);return e.middleware=this.middleware.slice(),e}constructor(e=i){this.configuration=e,this.fetchApi=async(e,t)=>{let n,s={url:e,init:t};for(let e of this.middleware)e.pre&&(s=await e.pre({fetch:this.fetchApi,...s})||s);try{n=await (this.configuration.fetchApi||fetch)(s.url,s.init)}catch(e){for(let t of this.middleware)t.onError&&(n=await t.onError({fetch:this.fetchApi,url:s.url,init:s.init,error:e,response:n?n.clone():void 0})||n);if(void 0===n){if(e instanceof Error)throw new l(e,"The request failed and the interceptors did not return an alternative response");throw e}}for(let e of this.middleware)e.post&&(n=await e.post({fetch:this.fetchApi,url:s.url,init:s.init,response:n.clone()})||n);return n},this.middleware=e.middleware}}o.jsonRegex=RegExp("^(:?application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(:?;.*)?$","i");class a extends Error{constructor(e,t){super(t),this.response=e,this.name="ResponseError"}}class l extends Error{constructor(e,t){super(t),this.cause=e,this.name="FetchError"}}class d extends Error{constructor(e,t){super(t),this.field=e,this.name="RequiredError"}}class c{async value(){return this.transformer(await this.raw.json())}constructor(e,t=e=>e){this.raw=e,this.transformer=t}}function u(e){return null==e?e:{username:null==e.username?void 0:e.username,name:null==e.name?void 0:e.name,text:null==e.text?void 0:e.text,createTime:null==e.createTime?void 0:e.createTime,profileImageUrl:null==e.profileImageUrl?void 0:e.profileImageUrl,postId:null==e.postId?void 0:e.postId,citationId:null==e.citationId?void 0:e.citationId,parent:null==e.parent?void 0:u(e.parent),parentPostId:null==e.parentPostId?void 0:e.parentPostId,quotePostId:null==e.quotePostId?void 0:e.quotePostId,quote:null==e.quote?void 0:u(e.quote),viewCount:null==e.viewCount?void 0:e.viewCount,communityNote:null==e.communityNote?void 0:e.communityNote}}function h(e){return null==e?e:{url:null==e.url?void 0:e.url,title:null==e.title?void 0:e.title,preview:null==e.preview?void 0:e.preview,searchEngineText:null==e.searchEngineText?void 0:e.searchEngineText,description:null==e.description?void 0:e.description,siteName:null==e.siteName?void 0:e.siteName,metadataTitle:null==e.metadataTitle?void 0:e.metadataTitle,creator:null==e.creator?void 0:e.creator,image:null==e.image?void 0:e.image,favicon:null==e.favicon?void 0:e.favicon,citationId:null==e.citationId?void 0:e.citationId}}function p(e){return function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{url:e.url,title:e.title,preview:e.preview,searchEngineText:e.searchEngineText,description:e.description,siteName:e.siteName,metadataTitle:e.metadataTitle,creator:e.creator,image:e.image,favicon:e.favicon,citationId:e.citationId}}(e,!1)}function m(e){return null==e?e:{text:null==e.text?void 0:e.text,tags:null==e.tags?void 0:e.tags,webSearchResults:null==e.webSearchResults?void 0:e.webSearchResults.map(h),xpostIds:null==e.xpostIds?void 0:e.xpostIds,xposts:null==e.xposts?void 0:e.xposts.map(u)}}function f(e){return function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{text:e.text,tags:e.tags,webSearchResults:null==e.webSearchResults?void 0:e.webSearchResults.map(p),xpostIds:e.xpostIds,xposts:null==e.xposts?void 0:e.xposts.map(function e(t){return function(t){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==t)?t:{username:t.username,name:t.name,text:t.text,createTime:t.createTime,profileImageUrl:t.profileImageUrl,postId:t.postId,citationId:t.citationId,parent:e(t.parent),parentPostId:t.parentPostId,quotePostId:t.quotePostId,quote:e(t.quote),viewCount:t.viewCount,communityNote:t.communityNote}}(t,!1)})}}(e,!1)}function g(e,t){return null==e?e:{imageGen:null==e.imageGen?void 0:e.imageGen,webSearch:null==e.webSearch?void 0:e.webSearch,xSearch:null==e.xSearch?void 0:e.xSearch,xMediaSearch:null==e.xMediaSearch?void 0:e.xMediaSearch,trendsSearch:null==e.trendsSearch?void 0:e.trendsSearch,xPostAnalyze:null==e.xPostAnalyze?void 0:e.xPostAnalyze}}function y(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{imageGen:e.imageGen,webSearch:e.webSearch,xSearch:e.xSearch,xMediaSearch:e.xMediaSearch,trendsSearch:e.trendsSearch,xPostAnalyze:e.xPostAnalyze}}function v(e){return null==e?e:{fileMetadataId:null==e.fileMetadataId?void 0:e.fileMetadataId,fileMimeType:null==e.fileMimeType?void 0:e.fileMimeType,fileName:null==e.fileName?void 0:e.fileName,fileUri:null==e.fileUri?void 0:e.fileUri,parsedFileUri:null==e.parsedFileUri?void 0:e.parsedFileUri,createTime:null==e.createTime?void 0:e.createTime}}function w(e){return null==e?e:{responseId:null==e.responseId?void 0:e.responseId,message:null==e.message?void 0:e.message,sender:null==e.sender?void 0:e.sender,createTime:null==e.createTime?void 0:e.createTime,parentResponseId:null==e.parentResponseId?void 0:e.parentResponseId,manual:null==e.manual?void 0:e.manual,partial:null==e.partial?void 0:e.partial,shared:null==e.shared?void 0:e.shared,query:null==e.query?void 0:e.query,queryType:null==e.queryType?void 0:e.queryType,webSearchResults:null==e.webSearchResults?void 0:e.webSearchResults.map(h),xpostIds:null==e.xpostIds?void 0:e.xpostIds,xposts:null==e.xposts?void 0:e.xposts.map(u),generatedImageUrls:null==e.generatedImageUrls?void 0:e.generatedImageUrls,imageAttachments:null==e.imageAttachments?void 0:e.imageAttachments,fileAttachments:null==e.fileAttachments?void 0:e.fileAttachments,cardAttachmentsJson:null==e.cardAttachmentsJson?void 0:e.cardAttachmentsJson,fileUris:null==e.fileUris?void 0:e.fileUris,fileAttachmentsMetadata:null==e.fileAttachmentsMetadata?void 0:e.fileAttachmentsMetadata.map(v),isControl:null==e.isControl?void 0:e.isControl,thinkingTrace:null==e.thinkingTrace?void 0:e.thinkingTrace,steps:null==e.steps?void 0:e.steps.map(m),imageEditUri:null==e.imageEditUri?void 0:e.imageEditUri,error:null==e.error?void 0:e.error,mediaTypes:null==e.mediaTypes?void 0:e.mediaTypes}}function I(e){return null==e?e:{conversationId:null==e.conversationId?void 0:e.conversationId,title:null==e.title?void 0:e.title,starred:null==e.starred?void 0:e.starred,createTime:null==e.createTime?void 0:e.createTime,modifyTime:null==e.modifyTime?void 0:e.modifyTime,systemPromptName:null==e.systemPromptName?void 0:e.systemPromptName,temporary:null==e.temporary?void 0:e.temporary,mediaTypes:null==e.mediaTypes?void 0:e.mediaTypes}}function b(e,t){return null==e?e:{newTitle:null==e.newTitle?void 0:e.newTitle}}function S(e){return function(e,t){var n;return null==e?e:{responseId:null==e.responseId?void 0:e.responseId,status:null==e.status?void 0:n=e.status,createTime:null==e.createTime?void 0:e.createTime,parentResponseId:null==e.parentResponseId?void 0:e.parentResponseId}}(e,0)}function R(e){return null==e?e:{conversationId:null==e.conversationId?void 0:e.conversationId,imageUrl:null==e.imageUrl?void 0:e.imageUrl,imageQuery:null==e.imageQuery?void 0:e.imageQuery,assistantMessage:null==e.assistantMessage?void 0:e.assistantMessage,createTime:null==e.createTime?void 0:e.createTime,responseId:null==e.responseId?void 0:e.responseId}}function x(e){return null==e?e:{responseId:null==e.responseId?void 0:e.responseId,sender:null==e.sender?void 0:e.sender,parentResponseId:null==e.parentResponseId?void 0:e.parentResponseId}}function C(e){return function(e,t){var n;return null==e?e:{properties:null==e.properties?void 0:null==(n=e.properties)?n:{messageType:null==n.messageType?void 0:n.messageType,followUpType:null==n.followUpType?void 0:n.followUpType},label:null==e.label?void 0:e.label,toolOverrides:null==e.toolOverrides?void 0:g(e.toolOverrides,!1)}}(e,0)}function T(e){return null==e?e:{id:null==e.id?void 0:e.id,labelEn:null==e.labelEn?void 0:e.labelEn,icon:null==e.icon?void 0:e.icon}}function k(e,t){var n,s,r,i,o,a,l,d,c,p,m,f,y;return null==e?e:{userResponse:null==e.userResponse?void 0:w(e.userResponse),token:null==e.token?void 0:e.token,modelResponse:null==e.modelResponse?void 0:w(e.modelResponse),queryAction:null==e.queryAction?void 0:null==(n=e.queryAction)?n:{query:null==n.query?void 0:n.query,type:null==n.type?void 0:n.type},imageGenerationResponse:null==e.imageGenerationResponse?void 0:null==(s=e.imageGenerationResponse)?s:{generatedImageBytes:null==s.generatedImageBytes?void 0:s.generatedImageBytes,contentType:null==s.contentType?void 0:s.contentType},xSearchResults:null==e.xSearchResults?void 0:null==(r=e.xSearchResults)?r:{results:null==r.results?void 0:r.results.map(u)},cachedImageGenerationResponse:null==e.cachedImageGenerationResponse?void 0:null==(i=e.cachedImageGenerationResponse)?i:{imageUrl:null==i.imageUrl?void 0:i.imageUrl,moderated:null==i.moderated?void 0:i.moderated},webSearchResults:null==e.webSearchResults?void 0:null==(o=e.webSearchResults)?o:{results:null==o.results?void 0:o.results.map(h)},grokInXaiRequest:null==e.grokInXaiRequest?void 0:null==(a=e.grokInXaiRequest)?a:{requestJson:null==a.requestJson?void 0:a.requestJson},followUpSuggestions:null==e.followUpSuggestions?void 0:null==(l=e.followUpSuggestions)?l:{suggestions:null==l.suggestions?void 0:l.suggestions.map(C)},streamingImageGenerationResponse:null==e.streamingImageGenerationResponse?void 0:null==(d=e.streamingImageGenerationResponse)?d:{imageId:null==d.imageId?void 0:d.imageId,imageUrl:null==d.imageUrl?void 0:d.imageUrl,seq:null==d.seq?void 0:d.seq,progress:null==d.progress?void 0:d.progress,moderated:null==d.moderated?void 0:d.moderated},cardAttachment:null==e.cardAttachment?void 0:null==(c=e.cardAttachment)?c:{jsonData:null==c.jsonData?void 0:c.jsonData},finalMetadata:null==e.finalMetadata?void 0:null==(p=e.finalMetadata)?p:{followUpSuggestions:null==p.followUpSuggestions?void 0:p.followUpSuggestions.map(C),feedbackLabels:null==p.feedbackLabels?void 0:p.feedbackLabels.map(T),toolsUsed:null==p.toolsUsed?void 0:g(p.toolsUsed,!1),disclaimer:null==p.disclaimer?void 0:p.disclaimer},imageAttachmentInfo:null==e.imageAttachmentInfo?void 0:null==(m=e.imageAttachmentInfo)?m:{imageAttachmentCount:null==m.imageAttachmentCount?void 0:m.imageAttachmentCount},bannerMessage:null==e.bannerMessage?void 0:null==(f=e.bannerMessage)?f:{message:null==f.message?void 0:f.message},disclaimer:null==e.disclaimer?void 0:null==(y=e.disclaimer)?y:{message:null==y.message?void 0:y.message},sideBySideIndex:null==e.sideBySideIndex?void 0:e.sideBySideIndex,isThinking:null==e.isThinking?void 0:e.isThinking,isSoftStop:null==e.isSoftStop?void 0:e.isSoftStop,messageTag:null==e.messageTag?void 0:e.messageTag,messageStepId:null==e.messageStepId?void 0:e.messageStepId,responseId:null==e.responseId?void 0:e.responseId}}function P(e){return null==e?e:{...e,type:null==e["@type"]?void 0:e["@type"]}}function E(e,t){return null==e?e:{code:null==e.code?void 0:e.code,message:null==e.message?void 0:e.message,details:null==e.details?void 0:e.details.map(P)}}function _(e,t){return null==e?e:{result:null==e.result?void 0:k(e.result,!1),error:null==e.error?void 0:E(e.error,!1)}}class V extends o{async chatAddModelResponseRaw(e,t){if(null==e.conversationId)throw new d("conversationId",'Required parameter "conversationId" was null or undefined when calling chatAddModelResponse().');if(null==e.body)throw new d("body",'Required parameter "body" was null or undefined when calling chatAddModelResponse().');let n={};return n["Content-Type"]="application/json",new c(await this.request({path:"/rest/app-chat/conversations/{conversationId}/model-responses".replace("{conversationId}",encodeURIComponent(String(e.conversationId))),method:"POST",headers:n,query:{},body:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{message:e.message,partial:e.partial,parentResponseId:e.parentResponseId,webSearchResults:null==e.webSearchResults?void 0:e.webSearchResults.map(p),xpostIds:e.xpostIds,cardAttachmentsJson:e.cardAttachmentsJson,thinkingTrace:e.thinkingTrace,steps:null==e.steps?void 0:e.steps.map(f),bannerMessage:e.bannerMessage,disclaimer:e.disclaimer}}(e.body,!1)},t),e=>w(e))}async chatAddModelResponse(e,t){let n=await this.chatAddModelResponseRaw(e,t);return await n.value()}async chatAddResponseRaw(e,t){if(null==e.conversationId)throw new d("conversationId",'Required parameter "conversationId" was null or undefined when calling chatAddResponse().');if(null==e.body)throw new d("body",'Required parameter "body" was null or undefined when calling chatAddResponse().');let n={};return n["Content-Type"]="application/json",new c(await this.request({path:"/rest/app-chat/conversations/{conversationId}/responses".replace("{conversationId}",encodeURIComponent(String(e.conversationId))),method:"POST",headers:n,query:{},body:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{message:e.message,modelName:e.modelName,parentResponseId:e.parentResponseId,disableSearch:e.disableSearch,enableImageGeneration:e.enableImageGeneration,imageAttachments:e.imageAttachments,returnImageBytes:e.returnImageBytes,returnRawGrokInXaiRequest:e.returnRawGrokInXaiRequest,fileAttachments:e.fileAttachments,enableImageStreaming:e.enableImageStreaming,imageGenerationCount:e.imageGenerationCount,forceConcise:e.forceConcise,toolOverrides:y(e.toolOverrides,!1),enableSideBySide:e.enableSideBySide,isPreset:e.isPreset,sendFinalMetadata:e.sendFinalMetadata,customInstructions:e.customInstructions,customPersonality:e.customPersonality,deepsearchPreset:e.deepsearchPreset,imageEditUri:e.imageEditUri,isReasoning:e.isReasoning,systemPromptName:e.systemPromptName}}(e.body,!1)},t),e=>_(e,!1))}async chatAddResponse(e,t){let n=await this.chatAddResponseRaw(e,t);return await n.value()}async chatAddUserResponseRaw(e,t){if(null==e.conversationId)throw new d("conversationId",'Required parameter "conversationId" was null or undefined when calling chatAddUserResponse().');if(null==e.body)throw new d("body",'Required parameter "body" was null or undefined when calling chatAddUserResponse().');let n={};return n["Content-Type"]="application/json",new c(await this.request({path:"/rest/app-chat/conversations/{conversationId}/user-responses".replace("{conversationId}",encodeURIComponent(String(e.conversationId))),method:"POST",headers:n,query:{},body:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{message:e.message,parentResponseId:e.parentResponseId}}(e.body,!1)},t),e=>w(e))}async chatAddUserResponse(e,t){let n=await this.chatAddUserResponseRaw(e,t);return await n.value()}async chatCloneConversationRaw(e,t){if(null==e.shareLinkId)throw new d("shareLinkId",'Required parameter "shareLinkId" was null or undefined when calling chatCloneConversation().');if(null==e.body)throw new d("body",'Required parameter "body" was null or undefined when calling chatCloneConversation().');let n={};return n["Content-Type"]="application/json",new c(await this.request({path:"/rest/app-chat/share_links/{shareLinkId}/clone".replace("{shareLinkId}",encodeURIComponent(String(e.shareLinkId))),method:"POST",headers:n,query:{},body:e.body},t),e=>null==e?e:{conversation:null==e.conversation?void 0:I(e.conversation),responses:null==e.responses?void 0:e.responses.map(w)})}async chatCloneConversation(e,t){let n=await this.chatCloneConversationRaw(e,t);return await n.value()}async chatCreateConversationRaw(e,t){if(null==e.body)throw new d("body",'Required parameter "body" was null or undefined when calling chatCreateConversation().');let n={};return n["Content-Type"]="application/json",new c(await this.request({path:"/rest/app-chat/conversations",method:"POST",headers:n,query:{},body:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{systemPromptName:e.systemPromptName,temporary:e.temporary,addResponseRequest:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{conversationId:e.conversationId,message:e.message,modelName:e.modelName,parentResponseId:e.parentResponseId,disableSearch:e.disableSearch,enableImageGeneration:e.enableImageGeneration,imageAttachments:e.imageAttachments,returnImageBytes:e.returnImageBytes,returnRawGrokInXaiRequest:e.returnRawGrokInXaiRequest,fileAttachments:e.fileAttachments,enableImageStreaming:e.enableImageStreaming,imageGenerationCount:e.imageGenerationCount,forceConcise:e.forceConcise,toolOverrides:y(e.toolOverrides,!1),enableSideBySide:e.enableSideBySide,isPreset:e.isPreset,sendFinalMetadata:e.sendFinalMetadata,customInstructions:e.customInstructions,customPersonality:e.customPersonality,deepsearchPreset:e.deepsearchPreset,imageEditUri:e.imageEditUri,isReasoning:e.isReasoning,systemPromptName:e.systemPromptName}}(e.addResponseRequest,!1)}}(e.body,!1)},t),e=>I(e))}async chatCreateConversation(e,t){let n=await this.chatCreateConversationRaw(e,t);return await n.value()}async chatCreateConversationAndRespondRaw(e,t){if(null==e.body)throw new d("body",'Required parameter "body" was null or undefined when calling chatCreateConversationAndRespond().');let n={};return n["Content-Type"]="application/json",new c(await this.request({path:"/rest/app-chat/conversations/new",method:"POST",headers:n,query:{},body:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{systemPromptName:e.systemPromptName,temporary:e.temporary,modelName:e.modelName,message:e.message,fileAttachments:e.fileAttachments,imageAttachments:e.imageAttachments,disableSearch:e.disableSearch,enableImageGeneration:e.enableImageGeneration,returnImageBytes:e.returnImageBytes,returnRawGrokInXaiRequest:e.returnRawGrokInXaiRequest,enableImageStreaming:e.enableImageStreaming,imageGenerationCount:e.imageGenerationCount,forceConcise:e.forceConcise,toolOverrides:y(e.toolOverrides,!1),enableSideBySide:e.enableSideBySide,isPreset:e.isPreset,sendFinalMetadata:e.sendFinalMetadata,customInstructions:e.customInstructions,customPersonality:e.customPersonality,deepsearchPreset:e.deepsearchPreset,imageEditUri:e.imageEditUri,isReasoning:e.isReasoning}}(e.body,!1)},t),e=>(function(e,t){var n;return null==e?e:{result:null==e.result?void 0:null==(n=e.result)?n:{response:null==n.response?void 0:k(n.response,!1),conversation:null==n.conversation?void 0:I(n.conversation),title:null==n.title?void 0:b(n.title,!1)},error:null==e.error?void 0:E(e.error,!1)}})(e,0))}async chatCreateConversationAndRespond(e,t){let n=await this.chatCreateConversationAndRespondRaw(e,t);return await n.value()}async chatDeleteConversationRaw(e,t){if(null==e.conversationId)throw new d("conversationId",'Required parameter "conversationId" was null or undefined when calling chatDeleteConversation().');return new c(await this.request({path:"/rest/app-chat/conversations/{conversationId}".replace("{conversationId}",encodeURIComponent(String(e.conversationId))),method:"DELETE",headers:{},query:{}},t))}async chatDeleteConversation(e,t){let n=await this.chatDeleteConversationRaw(e,t);return await n.value()}async chatGenerateTitleRaw(e,t){if(null==e.conversationId)throw new d("conversationId",'Required parameter "conversationId" was null or undefined when calling chatGenerateTitle().');if(null==e.body)throw new d("body",'Required parameter "body" was null or undefined when calling chatGenerateTitle().');let n={};return n["Content-Type"]="application/json",new c(await this.request({path:"/rest/app-chat/conversations/{conversationId}/title".replace("{conversationId}",encodeURIComponent(String(e.conversationId))),method:"POST",headers:n,query:{},body:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{leafResponseId:e.leafResponseId}}(e.body,!1)},t),e=>b(e,!1))}async chatGenerateTitle(e,t){let n=await this.chatGenerateTitleRaw(e,t);return await n.value()}async chatGetConversationRaw(e,t){if(null==e.conversationId)throw new d("conversationId",'Required parameter "conversationId" was null or undefined when calling chatGetConversation().');return new c(await this.request({path:"/rest/app-chat/conversations/{conversationId}".replace("{conversationId}",encodeURIComponent(String(e.conversationId))),method:"GET",headers:{},query:{}},t),e=>I(e))}async chatGetConversation(e,t){let n=await this.chatGetConversationRaw(e,t);return await n.value()}async chatGetFileMetadataRaw(e,t){if(null==e.fileMetadataId)throw new d("fileMetadataId",'Required parameter "fileMetadataId" was null or undefined when calling chatGetFileMetadata().');return new c(await this.request({path:"/rest/app-chat/file-metadata/{fileMetadataId}".replace("{fileMetadataId}",encodeURIComponent(String(e.fileMetadataId))),method:"POST",headers:{},query:{}},t),e=>v(e))}async chatGetFileMetadata(e,t){let n=await this.chatGetFileMetadataRaw(e,t);return await n.value()}async chatGetShareLinkRaw(e,t){if(null==e.shareLinkId)throw new d("shareLinkId",'Required parameter "shareLinkId" was null or undefined when calling chatGetShareLink().');return new c(await this.request({path:"/rest/app-chat/share_links/{shareLinkId}".replace("{shareLinkId}",encodeURIComponent(String(e.shareLinkId))),method:"GET",headers:{},query:{}},t),e=>null==e?e:{responses:null==e.responses?void 0:e.responses.map(w),conversation:null==e.conversation?void 0:I(e.conversation)})}async chatGetShareLink(e,t){let n=await this.chatGetShareLinkRaw(e,t);return await n.value()}async chatGetSharedArtifactRaw(e,t){if(null==e.sharedArtifactId)throw new d("sharedArtifactId",'Required parameter "sharedArtifactId" was null or undefined when calling chatGetSharedArtifact().');return new c(await this.request({path:"/rest/app-chat/shared_artifacts/{sharedArtifactId}".replace("{sharedArtifactId}",encodeURIComponent(String(e.sharedArtifactId))),method:"GET",headers:{},query:{}},t),e=>null==e?e:{parsedArtifact:null==e.parsedArtifact?void 0:e.parsedArtifact,conversation:null==e.conversation?void 0:I(e.conversation),objectStoreUri:null==e.objectStoreUri?void 0:e.objectStoreUri})}async chatGetSharedArtifact(e,t){let n=await this.chatGetSharedArtifactRaw(e,t);return await n.value()}async chatListConversationsRaw(e,t){let n={};return null!=e.pageSize&&(n.pageSize=e.pageSize),null!=e.pageToken&&(n.pageToken=e.pageToken),null!=e.searchQuery&&(n.searchQuery=e.searchQuery),null!=e.useNewImplementation&&(n.useNewImplementation=e.useNewImplementation),new c(await this.request({path:"/rest/app-chat/conversations",method:"GET",headers:{},query:n},t),e=>null==e?e:{conversations:null==e.conversations?void 0:e.conversations.map(I),nextPageToken:null==e.nextPageToken?void 0:e.nextPageToken})}async chatListConversations(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=await this.chatListConversationsRaw(e,t);return await n.value()}async chatListImageGenerationsRaw(e){return new c(await this.request({path:"/rest/app-chat/image-generations",method:"GET",headers:{},query:{}},e),e=>null==e?e:{generations:null==e.generations?void 0:e.generations.map(R)})}async chatListImageGenerations(e){let t=await this.chatListImageGenerationsRaw(e);return await t.value()}async chatListResponseNodesRaw(e,t){if(null==e.conversationId)throw new d("conversationId",'Required parameter "conversationId" was null or undefined when calling chatListResponseNodes().');return new c(await this.request({path:"/rest/app-chat/conversations/{conversationId}/response-node".replace("{conversationId}",encodeURIComponent(String(e.conversationId))),method:"GET",headers:{},query:{}},t),e=>null==e?e:{responseNodes:null==e.responseNodes?void 0:e.responseNodes.map(x),inflightResponses:null==e.inflightResponses?void 0:e.inflightResponses.map(S)})}async chatListResponseNodes(e,t){let n=await this.chatListResponseNodesRaw(e,t);return await n.value()}async chatListResponsesRaw(e,t){if(null==e.conversationId)throw new d("conversationId",'Required parameter "conversationId" was null or undefined when calling chatListResponses().');return new c(await this.request({path:"/rest/app-chat/conversations/{conversationId}/responses".replace("{conversationId}",encodeURIComponent(String(e.conversationId))),method:"GET",headers:{},query:{}},t),e=>null==e?e:{responses:null==e.responses?void 0:e.responses.map(w),inflightResponses:null==e.inflightResponses?void 0:e.inflightResponses.map(S)})}async chatListResponses(e,t){let n=await this.chatListResponsesRaw(e,t);return await n.value()}async chatLoadResponsesRaw(e,t){if(null==e.conversationId)throw new d("conversationId",'Required parameter "conversationId" was null or undefined when calling chatLoadResponses().');if(null==e.body)throw new d("body",'Required parameter "body" was null or undefined when calling chatLoadResponses().');let n={};return n["Content-Type"]="application/json",new c(await this.request({path:"/rest/app-chat/conversations/{conversationId}/load-responses".replace("{conversationId}",encodeURIComponent(String(e.conversationId))),method:"POST",headers:n,query:{},body:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{responseIds:e.responseIds}}(e.body,!1)},t),e=>null==e?e:{responses:null==e.responses?void 0:e.responses.map(w)})}async chatLoadResponses(e,t){let n=await this.chatLoadResponsesRaw(e,t);return await n.value()}async chatReconnectResponseRaw(e,t){if(null==e.responseId)throw new d("responseId",'Required parameter "responseId" was null or undefined when calling chatReconnectResponse().');return new c(await this.request({path:"/rest/app-chat/conversations/reconnect-response/{responseId}".replace("{responseId}",encodeURIComponent(String(e.responseId))),method:"GET",headers:{},query:{}},t),e=>_(e,!1))}async chatReconnectResponse(e,t){let n=await this.chatReconnectResponseRaw(e,t);return await n.value()}async chatReconnectResponseV2Raw(e,t){if(null==e.responseId)throw new d("responseId",'Required parameter "responseId" was null or undefined when calling chatReconnectResponseV2().');return new c(await this.request({path:"/rest/app-chat/conversations/reconnect-response-v2/{responseId}".replace("{responseId}",encodeURIComponent(String(e.responseId))),method:"GET",headers:{},query:{}},t),e=>(function(e,t){var n;return null==e?e:{result:null==e.result?void 0:null==(n=e.result)?n:{response:null==n.response?void 0:k(n.response,!1),title:null==n.title?void 0:b(n.title,!1)},error:null==e.error?void 0:E(e.error,!1)}})(e,0))}async chatReconnectResponseV2(e,t){let n=await this.chatReconnectResponseV2Raw(e,t);return await n.value()}async chatShareArtifactRaw(e,t){if(null==e.conversationId)throw new d("conversationId",'Required parameter "conversationId" was null or undefined when calling chatShareArtifact().');if(null==e.body)throw new d("body",'Required parameter "body" was null or undefined when calling chatShareArtifact().');let n={};return n["Content-Type"]="application/json",new c(await this.request({path:"/rest/app-chat/conversations/{conversationId}/share_artifact".replace("{conversationId}",encodeURIComponent(String(e.conversationId))),method:"POST",headers:n,query:{},body:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{responseId:e.responseId}}(e.body,!1)},t),e=>null==e?e:{sharedArtifactId:null==e.sharedArtifactId?void 0:e.sharedArtifactId})}async chatShareArtifact(e,t){let n=await this.chatShareArtifactRaw(e,t);return await n.value()}async chatShareConversationRaw(e,t){if(null==e.conversationId)throw new d("conversationId",'Required parameter "conversationId" was null or undefined when calling chatShareConversation().');if(null==e.body)throw new d("body",'Required parameter "body" was null or undefined when calling chatShareConversation().');let n={};return n["Content-Type"]="application/json",new c(await this.request({path:"/rest/app-chat/conversations/{conversationId}/share".replace("{conversationId}",encodeURIComponent(String(e.conversationId))),method:"POST",headers:n,query:{},body:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{responseId:e.responseId}}(e.body,!1)},t),e=>null==e?e:{shareLinkId:null==e.shareLinkId?void 0:e.shareLinkId})}async chatShareConversation(e,t){let n=await this.chatShareConversationRaw(e,t);return await n.value()}async chatShareVoiceChatRaw(e,t){if(null==e.body)throw new d("body",'Required parameter "body" was null or undefined when calling chatShareVoiceChat().');let n={};return n["Content-Type"]="application/json",new c(await this.request({path:"/rest/app-chat/voice/share",method:"POST",headers:n,query:{},body:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{videoBytes:e.videoBytes,text:e.text}}(e.body,!1)},t))}async chatShareVoiceChat(e,t){let n=await this.chatShareVoiceChatRaw(e,t);return await n.value()}async chatSoftDeleteAllConversationsRaw(e){return new c(await this.request({path:"/rest/app-chat/conversations",method:"DELETE",headers:{},query:{}},e))}async chatSoftDeleteAllConversations(e){let t=await this.chatSoftDeleteAllConversationsRaw(e);return await t.value()}async chatSoftDeleteConversationRaw(e,t){if(null==e.conversationId)throw new d("conversationId",'Required parameter "conversationId" was null or undefined when calling chatSoftDeleteConversation().');return new c(await this.request({path:"/rest/app-chat/conversations/soft/{conversationId}".replace("{conversationId}",encodeURIComponent(String(e.conversationId))),method:"DELETE",headers:{},query:{}},t))}async chatSoftDeleteConversation(e,t){let n=await this.chatSoftDeleteConversationRaw(e,t);return await n.value()}async chatStopInflightResponseRaw(e,t){if(null==e.responseId)throw new d("responseId",'Required parameter "responseId" was null or undefined when calling chatStopInflightResponse().');return new c(await this.request({path:"/rest/app-chat/conversations/inflight-response/{responseId}".replace("{responseId}",encodeURIComponent(String(e.responseId))),method:"DELETE",headers:{},query:{}},t))}async chatStopInflightResponse(e,t){let n=await this.chatStopInflightResponseRaw(e,t);return await n.value()}async chatUpdateConversationRaw(e,t){if(null==e.conversationId)throw new d("conversationId",'Required parameter "conversationId" was null or undefined when calling chatUpdateConversation().');if(null==e.body)throw new d("body",'Required parameter "body" was null or undefined when calling chatUpdateConversation().');let n={};return n["Content-Type"]="application/json",new c(await this.request({path:"/rest/app-chat/conversations/{conversationId}".replace("{conversationId}",encodeURIComponent(String(e.conversationId))),method:"PUT",headers:n,query:{},body:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{title:e.title,starred:e.starred}}(e.body,!1)},t),e=>I(e))}async chatUpdateConversation(e,t){let n=await this.chatUpdateConversationRaw(e,t);return await n.value()}async chatUploadFileRaw(e,t){if(null==e.body)throw new d("body",'Required parameter "body" was null or undefined when calling chatUploadFile().');let n={};return n["Content-Type"]="application/json",new c(await this.request({path:"/rest/app-chat/upload-file",method:"POST",headers:n,query:{},body:function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==e)?e:{fileName:e.fileName,fileMimeType:e.fileMimeType,content:e.content,makePublic:e.makePublic}}(e.body,!1)},t),e=>v(e))}async chatUploadFile(e,t){let n=await this.chatUploadFileRaw(e,t);return await n.value()}}},43059:function(e,t,n){n.d(t,{a:function(){return v}});var s=n(67629);async function r(e,t){let n=await (0,s.kG)("/api/rpc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rpc:e,req:t})});if(!n.ok)throw Error((await n.json()).error||"".concat(e," failed."));return n.json()}let i=e=>r("createAsset",e),o=e=>r("deleteAsset",e),a=e=>r("getAssetMetadata",e),l=e=>r("listAssetMetadata",e);var d=n(38976),c=n(20530),u=n(10793),h=n.n(u);let p={},m={},f={},g={};class y{constructor(e,t){this.set=e,this.get=t,this.byId=p,this.promiseById=m,this.listByReq=f,this.promiseListByReq=g,this.upsertAsset=(0,d.H)(this.set,"byId","assetId"),this.appendAssets=(0,d.R3)(this.set,"byId","assetId"),this.removeAsset=(0,d.Od)(this.set,"byId"),this.idsertPromise=(0,d.Qd)(this.set,"promiseById"),this.removePromise=(0,d.Od)(this.set,"promiseById"),this.idsertList=(0,d.Qd)(this.set,"listByReq"),this.idsertPromiseList=(0,d.Qd)(this.set,"promiseListByReq"),this.fetchCreateAsset=e=>{let t=this.get(),n=(0,c.Yf)(i)(e);return n.then(e=>{t.idsertPromise(n,e.assetId),t.upsertAsset(e)}),n},this.fetchDeleteAsset=e=>{let t=this.get(),n=(0,c.Yf)(o)(e);return t.removePromise(e.assetId),t.removeAsset(e.assetId),n},this.fetchGetAsset=e=>{let t=this.get();if(e.assetId in t.byId)return Promise.resolve(t.byId[e.assetId]);if(e.assetId in t.promiseById)return t.promiseById[e.assetId];let n=(0,c.Yf)(a)(e);return t.idsertPromise(n,e.assetId),n.then(t.upsertAsset),n},this.fetchListAssets=e=>{let t=this.get(),n=h()(e).omit(e,["pageToken","pageSize"]).entries().sortBy().value().toString(),s=t.listByReq[n];if(s&&s.nextPageToken!==e.pageToken)return Promise.resolve(s);let r=h()(e).omit(e,["pageSize"]).entries().sortBy().value().toString(),i=t.promiseListByReq[r];if(i)return i;let o=(0,c.Yf)(l)(e).then(e=>{t.appendAssets(e.assets);let n={};return e.assets.map(e=>{n[e.assetId]=Promise.resolve(e)}),t.set(e=>({promiseById:{...e.promiseById,...n}})),{assets:((null==s?void 0:s.assets)||[]).concat(e.assets),nextPageToken:e.nextPageToken}});return t.idsertPromiseList(o,r),o.then(e=>t.idsertList(e,n)),o}}}let v=(0,d.MT)(y)},55607:function(e,t,n){n.d(t,{P:function(){return S},t:function(){return b}});var s=n(31448),r=n(79368),i=n(38976),o=n(61301),a=n(10793),l=n.n(a),d=n(71235),c=n(97806),u=n(13267),h=n(7058);let p={},m={},f=[],g=void 0,y=[],v={},w=void 0;class I{constructor(e,t){this.set=e,this.get=t,this.promiseById=p,this.byId=m,this.list=f,this.currentQuery=g,this.currentQueryResults=y,this.abortControllerById=v,this.nextPageToken=w,this.hasMoreResults=!0,this.isFetching=!1,this.upsertConversation=(0,i.H)(this.set,"byId","conversationId"),this.appendConversations=(0,i.R3)(this.set,"byId","conversationId"),this.removeConversation=(0,i.Od)(this.set,"byId"),this.setById=(0,i.f0)(this.set,"byId"),this.idsertConversationPromise=(0,i.Qd)(this.set,"promiseById"),this.removeConversationPromise=(0,i.Od)(this.set,"promiseById"),this.setPromiseById=(0,i.f0)(this.set,"promiseById"),this.setCurrentQuery=e=>{this.get().currentQuery!==e&&this.set({currentQuery:e,currentQueryResults:[]})},this.updateCurrentQueryResults=e=>{this.set(t=>({currentQueryResults:[...t.currentQueryResults,...e]}))},this.resetCurrentQueryResults=()=>{this.set({currentQueryResults:[]})},this.idsertAbortControllerById=(0,i.Qd)(this.set,"abortControllerById"),this.removeAbortControllerById=(0,i.Od)(this.set,"abortControllerById"),this.upsertAndCacheConversation=e=>{this.upsertConversation(e),this.idsertConversationPromise(Promise.resolve(e),e.conversationId)},this.setNextPageToken=e=>{this.set({nextPageToken:e})},this.setHasMoreResults=e=>{this.set({hasMoreResults:e})},this.setIsFetching=e=>{this.set({isFetching:e})},this.resetPagination=()=>{this.set({nextPageToken:void 0,hasMoreResults:!0})},this.fetchCreateConversation=e=>{var t;let n=this.get(),r=h.CI.getState(),i=o.xU.chatCreateConversation({body:e}).then(e=>({...e,personaId:(0,s.BV)(e.systemPromptName),isNew:!0,state:"closed"})),a=null===(t=e.addResponseRequest)||void 0===t?void 0:t.conversationId;return a&&(n.idsertConversationPromise(i,a),r.promisesByConversationId[a]=Promise.resolve([])),i.then(e=>{n.upsertConversation(e),n.idsertConversationPromise(i,e.conversationId),r.promisesByConversationId[e.conversationId]=Promise.resolve([])}).catch(console.error),i},this.fetchUpdateConversation=(e,t)=>{let n=this.get(),s=o.xU.chatUpdateConversation({conversationId:e,body:t}).then(e=>({...n.byId[e.conversationId]||{isNew:!1,state:"closed"},...e})).then(d.Z(n.upsertConversation));return n.idsertConversationPromise(s,e),s.catch(console.error),s},this.fetchDeleteConversation=e=>{let t=this.get(),n=o.xU.chatDeleteConversation({conversationId:e});return t.removeConversation(e),t.removeConversationPromise(e),n},this.fetchConversationsPage=e=>{let t=this.get();return t.setIsFetching(!0),o.xU.chatListConversations({...e,useNewImplementation:!0,pageSize:"100"}).then(e=>{let{conversations:n,nextPageToken:r}=e;return r?(t.setNextPageToken(r),t.setHasMoreResults(!0)):t.setHasMoreResults(!1),{conversations:(null==n?void 0:n.map(e=>({...e.conversationId&&t.byId[e.conversationId]||{isNew:!1,state:"closed"},personaId:(0,s.BV)(e.systemPromptName),...e})))||[],nextPageToken:r}}).then(e=>{let{conversations:n,nextPageToken:s}=e;return t.set(e=>({promiseById:{...e.promiseById,...l().mapValues(l().keyBy(n,"conversationId"),e=>Promise.resolve(e))}})),t.appendConversations(n),t.updateCurrentQueryResults(n),{conversations:n,nextPageToken:s}}).catch(e=>((0,r.xo)(e),{conversations:[]})).finally(()=>{t.setIsFetching(!1)})},this.fetchFirstPage=e=>(e.searchQuery!==this.get().currentQuery&&(this.setCurrentQuery(e.searchQuery),this.resetCurrentQueryResults()),this.resetPagination(),this.fetchConversationsPage({...e,pageToken:void 0})),this.fetchNextPage=e=>{let t=this.get();return t.hasMoreResults&&!t.isFetching?this.fetchConversationsPage({...e,pageToken:t.nextPageToken}):Promise.resolve({conversations:[]})},this.fetchGetConversation=e=>{let t=this.get();if(e in t.promiseById)return t.promiseById[e];let n=o.xU.chatGetConversation({conversationId:e}).then(e=>({...e,personaId:(0,s.BV)(e.systemPromptName),isNew:!1,state:"closed"}));return t.set(c.Z(u.Z(["promiseById",e]),n)),n.then(t.upsertConversation).catch(console.error),n},this.fetchSoftDeleteAllConversations=()=>(this.setById({}),this.setPromiseById({}),o.xU.chatSoftDeleteAllConversations())}}let b=(0,i.MT)(I);function S(e){let t=new Date().toISOString();return{title:"",createTime:t,modifyTime:t,starred:!1,temporary:!1,isNew:!0,state:"optimistic",mediaTypes:[],...e}}(0,i.N7)(b,"byId","list",Object.values)},80617:function(e,t,n){n.d(t,{O:function(){return p}});var s=n(79368),r=n(6754),i=n(38976),o=n(61301),a=n(52916).lW;let l={},d={},c={},u={};class h{constructor(e,t){this.set=e,this.get=t,this.listByConversationId=l,this.fileMetaPromiseById=d,this.fileMetaById=c,this.attachListByConversationId=u,this.lisertByConversationId=(0,i.Nh)(this.set,"listByConversationId"),this.removeByConversationId=(0,i.Od)(this.set,"listByConversationId"),this.delistByConversationId=(0,i.Kn)(this.set,"listByConversationId","file"),this.upsertFileMetadata=(0,i.H)(this.set,"fileMetaById","fileMetadataId"),this.idsertFileMetadataPromise=(0,i.Qd)(this.set,"fileMetaPromiseById"),this.lisertAttachByConversationId=(0,i.Nh)(this.set,"attachListByConversationId"),this.removeAttachByConversationId=(0,i.Od)(this.set,"attachListByConversationId"),this.delistAttachByConversationId=(0,i.Kn)(this.set,"attachListByConversationId","assetId"),this.fetchUploadFile=(e,t)=>{let n=this.get(),s=e.arrayBuffer().then(t=>o.xU.chatUploadFile({body:{fileName:e.name,fileMimeType:e.type,content:a.from(t).toString("base64")}}).then(e=>e).catch(e=>{if(e.message.includes("OUT_OF_RANGE"))throw Error("File was too large.");throw e})),i={file:e,metadataPromise:s};return n.lisertByConversationId(i,t),s.then(s=>{n.delistByConversationId(t,e)&&n.lisertByConversationId({...i,metadata:s},t)}).catch(s=>{n.delistByConversationId(t,e)&&(n.lisertByConversationId({...i,metadata:s},t),(0,r.H)("fetchUploadFile",s))}),i},this.fetchFileMetadata=e=>{let t=this.get();if(e in t.fileMetaById)return Promise.resolve(t.fileMetaById[e]);if(e in t.fileMetaPromiseById)return t.fileMetaPromiseById[e];let n=o.xU.chatGetFileMetadata({fileMetadataId:e}).then(e=>e);return t.idsertFileMetadataPromise(n,e),n.then(t.upsertFileMetadata).catch(s.xo),n}}}let p=(0,i.MT)(h)},43047:function(e,t,n){n.d(t,{p:function(){return i}});var s=n(38976);class r{constructor(e,t){this.set=e,this.get=t,this.models=[],this.unavailableModels=[],this.defaultAnonModelId="",this.defaultFreeModelId="",this.defaultProModelId="",this.modelById={},this.isPending=!1}}let i=(0,s.MT)(r)},93149:function(e,t,n){n.d(t,{DL:function(){return c},X5:function(){return d},Zv:function(){return m},xn:function(){return f}});var s=n(38976),r=n(10793),i=n.n(r),o=n(64868),a=n(61301);let l="custom_personality_id",d={personalityId:l,name:"Custom",prompt:"",description:"Responds to you as you please."};function c(e){return!!e&&(e===l||36===e.length)}function u(e){return{name:e.name,content:[{text:e.prompt}]}}function h(e){var t,n;return{personalityId:e.systemPromptId||"",name:e.name||d.name,prompt:(null===(n=e.content)||void 0===n?void 0:null===(t=n[0])||void 0===t?void 0:t.text)||"",description:d.description}}class p{constructor(e,t){this.set=e,this.get=t,this.promiseById={},this.byId={},this.list=[],this.draftPromptById={},this.upsertPersonality=(0,s.H)(this.set,"byId","personalityId"),this.appendPersonalities=(0,s.R3)(this.set,"byId","personalityId"),this.removePersonality=(0,s.Od)(this.set,"byId"),this.idsertPersonalityPromise=(0,s.Qd)(this.set,"promiseById"),this.removePersonalityPromise=(0,s.Od)(this.set,"promiseById"),this.upsertDraftPrompt=(0,s.Qd)(this.set,"draftPromptById"),this.fetchCreatePersonality=e=>{let t=this.get(),n=a.XR.systemPromptRepositoryCreateSystemPrompt({body:u(e)}).then(e=>{let t=h(e);return t.description=d.description,t}).then(e=>(t.upsertPersonality(e),t.idsertPersonalityPromise(n,e.personalityId),e));return n},this.fetchUpdatePersonality=e=>{let t=this.get(),n=a.XR.systemPromptRepositoryUpdateSystemPrompt({systemPromptId:e.personalityId,body:u(e)}).then(e=>h(e)).then(e=>(t.upsertPersonality(e),e));return t.idsertPersonalityPromise(n,e.personalityId),n},this.fetchDeletePersonality=e=>(this.get().removePersonality(e.personalityId),a.XR.systemPromptRepositoryDeleteSystemPrompt({systemPromptId:e.personalityId})),this.fetchListPersonalities=()=>{let e=this.get();return a.XR.systemPromptRepositoryListSystemPrompts({body:{pageSize:100}}).then(e=>{var t;return(null===(t=e.assets)||void 0===t?void 0:t.map(h))||[]}).then(t=>(e.appendPersonalities(t),e.set(e=>({promiseById:{...e.promiseById,...i().mapValues(i().keyBy(t,"personalityId"),e=>Promise.resolve(e))}})),t))},this.fetchGetPersonality=e=>{let t=this.get(),n=e.personalityId;if(n in t.promiseById)return t.promiseById[n];let s=a.XR.systemPromptRepositoryGetSystemPrompt({systemPromptId:n}).then(e=>h(e)).then(e=>(t.upsertPersonality(e),t.idsertPersonalityPromise(s,e.personalityId),e));return s}}}let m=(0,s.MT)(p);(0,s.N7)(m,"byId","list",Object.values);let f=o.z.object({personalityId:o.z.string(),name:o.z.string(),prompt:o.z.string(),description:o.z.string()});o.z.array(f)},7058:function(e,t,n){n.d(t,{_w:function(){return P},V1:function(){return A},CI:function(){return k}});var s=n(48764),r=n(24915),i=n(32330),o=n(6754),a=n(38976),l=n(61301),d=n(67629);async function*c(e){if(null===e.body)throw Error("Cannot process response chunks of a response without body.");let t=e.body.getReader(),n=new TextDecoder,s="";for(;;){let{done:e,value:r}=await t.read();if(e)break;let[i,o]=u(s+=n.decode(r,{stream:!0}));for(let e of i)yield e;s=o}let[r,i]=u(s);for(let e of r)yield e;i.length>0&&(yield i)}function u(e){let t=e.split("\n"),n=t.pop();return[t,n]}async function*h(e){for await(let t of c(e)){let n=JSON.parse(t);(0,d.X6)(n,e),yield n}}var p=n(46865),m=n.n(p),f=n(10793),g=n.n(f),y=n(76814),v=n(55607),w=n(43047);let I={},b={},S={},R={},x={};class C{constructor(e,t){var n=this;this.set=e,this.get=t,this.promisesByConversationId=I,this.byId=b,this.byConversationId=S,this.imageIdByUrl=R,this.inflightPromisesByConversationId=x,this.upsertResponse=(0,a.H)(this.set,"byId","responseId"),this.appendResponses=(0,a.R3)(this.set,"byId","responseId"),this.removeResponse=(0,a.Od)(this.set,"byId"),this.idsertPromisesByConversationId=(0,a.Qd)(this.set,"promisesByConversationId"),this.setOneImageIdByUrl=(0,a.Qd)(this.set,"imageIdByUrl"),this.idsertInflightPromisesByConversationId=(0,a.Qd)(this.set,"inflightPromisesByConversationId"),this.fetchListResponses=e=>{let t=this.get();if(e in t.promisesByConversationId)return t.promisesByConversationId[e];let n=l.xU.chatListResponses({conversationId:e}).then(t=>{let{responses:n=[]}=t;return n.map(t=>({...t,conversationId:e}))});return t.idsertPromisesByConversationId(n,e),n.then(t.appendResponses).catch(console.error),n},this.fetchListInflightResponses=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=n.get();if(!t&&e in s.inflightPromisesByConversationId)return s.inflightPromisesByConversationId[e];let r=l.xU.chatListResponses({conversationId:e}).then(e=>{let{inflightResponses:t=[]}=e;return t});return s.idsertInflightPromisesByConversationId(r,e),r.then(s.appendResponses).catch(console.error),r},this.processResponseChunk=e=>{let{currentStreamResponse:t,responseChunk:n,onCitations:s,onHasImage:r,onDisclaimer:i}=e,o=this.get(),{responseId:a,token:l,modelResponse:d,webSearchResults:c,xSearchResults:u,queryAction:h,cachedImageGenerationResponse:p,followUpSuggestions:m,cardAttachment:f,streamingImageGenerationResponse:y,finalMetadata:v,isThinking:w,messageTag:I,messageStepId:b,bannerMessage:S,disclaimer:R}=n;if(a&&t.inflightResponseId!==a&&(t.inflightResponseId=a),h&&(("aurora"===h.type||"flux"===h.type)&&(t.hasImages=!0,r()),"x"===h.type&&(t.hasSearches=!0)),null==c?void 0:c.results){if(void 0!==b){let e=t.steps[b];e?e.webSearchResults=c.results||[]:t.steps.push({text:[],tags:[],webSearchResults:(null==c?void 0:c.results)||[],xpostIds:[],xposts:[]})}else t.steps.length>0||(t.webSearchResults=c.results||[],s())}else if(null==u?void 0:u.results){if(void 0!==b){let e=t.steps[b];e?(e.xposts=u.results||[],e.xpostIds=g().compact(e.xposts.map(e=>e.postId))):t.steps.push({text:[],tags:[],webSearchResults:[],xpostIds:g().compact(u.results.map(e=>e.postId)),xposts:u.results||[]})}else t.steps.length>0||(t.xposts=u.results||[],t.xpostIds=g().compact(t.xposts.map(e=>e.postId)),s())}if(p&&p.imageUrl&&(t.generatedImageUrls=t.generatedImageUrls.concat([p.imageUrl])),f&&f.jsonData&&(t.cardAttachmentsJson=t.cardAttachmentsJson.concat([f.jsonData])),w&&!t.thinkingStartTime&&(t.thinkingStartTime=new Date(t.createTime).getTime()),l){if(I&&"UNSET"!==I.toUpperCase()){if(t.searchingStartTime||(t.searchingStartTime=new Date(t.createTime).getTime()),"FINAL"===I.toUpperCase())t.searchingStartTime&&!t.searchingEndTime&&(t.searchingEndTime=Date.now()),t.message+=l;else if(b){let e=t.steps[b];if(e){if(e.tags.includes(I)){let t=e.tags.indexOf(I);t>=0&&(e.text[t]+=l)}else e.text.push(l),e.tags.push(I)}else t.steps.push({text:[l],tags:[I],webSearchResults:[],xpostIds:[],xposts:[]})}}else w?t.thinkingTrace+=l:t.message+=l}if(t.thinkingStartTime&&!t.thinkingEndTime&&!w&&l&&(t.thinkingEndTime=Date.now()),m&&m.suggestions&&(t.suggestions=m.suggestions),v&&(v.followUpSuggestions&&(t.suggestions=v.followUpSuggestions),v.disclaimer&&i(v.disclaimer)),y){let{imageId:e,imageUrl:n}=y;if(e&&n){var x,C;let s=null!==(x=t.streamingImageById)&&void 0!==x?x:{};y.progress&&(t.streamingImageById={...s,[e]:{...null!==(C=s[e])&&void 0!==C?C:{},[y.progress]:y}}),o.setOneImageIdByUrl(e,n)}}return S&&S.message&&i(S.message),R&&R.message&&i(R.message),d&&(t={...t,...d,state:"closed"}),t},this.processSideBySide=e=>{let{responseChunk:t,toggledExperiment:n,conversationId:s,parentResponseId:r,userResponseId:i,modelName:o}=e,{sideBySideIndex:a}=t;if(null!=a&&!n)return _({conversationId:s,responseId:"streaming_in_progress_".concat(a,"_").concat(m()()),parentResponseId:i||r,sender:o})},this.processSoftStop=e=>{let{currentStreamResponse:t,startTimeMs:n}=e;return t.thinkingStartTime&&!t.thinkingEndTime&&(t.thinkingEndTime=Date.now()),t.generationTimeMs=Date.now()-n,t.state="closed",t},this.streamResponse=e=>{let t,{message:n,parentResponseId:a,conversationId:d,modelName:c,fileAttachmentIds:u,toolOverrides:p,isPreset:f,customInstructions:g,customPersonality:y,deepsearchPreset:I,systemPromptName:b,isReasoning:S,imageEditUri:R,enableRetries:x,onOptimisticUserResponse:C,onOptimisticModelResponse:k,onStart:A,onUserResponse:N,onStartExperiment:M,onCitations:U,onDisclaimer:j,onHasImage:L,onClose:O,onWke:q,onError:D}=e,B=v.t.getState(),F=this.get(),G=(0,r.T)(),H=new AbortController;B.idsertAbortControllerById(H,d);let z=w.p.getState().modelById[c];if(z){var Z,W;(null===(Z=z.tags)||void 0===Z?void 0:Z.includes("think"))||!S||(S=void 0),(null===(W=z.tags)||void 0===W?void 0:W.includes("deepsearch"))||!I||(I=void 0)}let K=[],J=!n;J||(t=E({conversationId:d,responseId:"optimistic_query_".concat(m()()),parentResponseId:a,message:n,fileAttachments:u,state:"optimistic"}),F.upsertResponse(t),C(t));let Q=_({conversationId:d,responseId:"streaming_in_progress_".concat(m()()),parentResponseId:a,sender:c,state:"optimistic"},I,S);K.push(Q),F.upsertResponse(Q),k(Q);let X={message:"",modelName:"",parentResponseId:"",systemPromptName:void 0,disableSearch:!1,imageAttachments:[],returnImageBytes:!1,returnRawGrokInXaiRequest:!1,fileAttachments:[],enableImageGeneration:!0,forceConcise:!1,enableImageStreaming:!0,enableSideBySide:!0,isPreset:!1,sendFinalMetadata:!0,imageGenerationCount:P,deepsearchPreset:"",isReasoning:!1,parentResponseId:a,message:n,modelName:c,fileAttachments:u,toolOverrides:p,enableSideBySide:!G,isPreset:f,systemPromptName:b,customInstructions:g,customPersonality:y,deepsearchPreset:I,isReasoning:S,imageEditUri:R},$=!1,Y=!1,ee=Date.now(),[et,en]=V(),{log:es,stop:er,resetTime:ei}=(0,o.YM)("streamResponse",{type:"milliseconds_per_token_summary",subscriptionTier:(null===i.kI||void 0===i.kI?void 0:i.kI.bestSubscription)||"unknown",modelId:c,modelMode:S?"think":I?"deepsearch":"none",millisecondsPerTokenList:[]}),eo=(0,o.i2)("streamCreateAndRespond",{type:"time_to_first_token_summary",modelId:c,subscriptionTier:(null===i.kI||void 0===i.kI?void 0:i.kI.bestSubscription)||"unknown",modelMode:S?"think":I?"deepsearch":"none",timeToFirstToken:0});return l.xU.chatAddResponseRaw({conversationId:d,body:X}).then(async e=>{var r,l;let u=this.get();for await(let n of(t&&en(t={...t,state:"streaming"}),(K=K.map(e=>({...e,state:"streaming"}))).forEach(en),A(K),(0,o.HR)("streamResponse",{type:"send_query_stream_start",subscriptionTier:(null===i.kI||void 0===i.kI?void 0:i.kI.bestSubscription)||"unknown",modelId:c,modelMode:S?"think":I?"deepsearch":"none"}),ei(),h(e.raw))){if(eo(),es(),n.error){let e=Error(n.error.message);throw q(e),e}if(!n.result)continue;let{userResponse:e,sideBySideIndex:r,isSoftStop:i,modelResponse:l}=n.result;if(null==e?void 0:e.error)throw(0,o.H)("response-store:useResponseStore:streamResponse:userResponseChunk",e.error),Error(e.error);if(null==l?void 0:l.error)throw(0,o.H)("response-store:useResponseStore:streamResponse:modelResponseChunk",l.error),Error(l.error);let u=this.processSideBySide({responseChunk:n.result,toggledExperiment:$,conversationId:d,parentResponseId:a,userResponseId:null==t?void 0:t.responseId,modelName:c});u&&($=!0,K.push(u),en(u),M(K.map(e=>e.responseId))),e&&(en(t={...e,conversationId:d,state:"closed"}),N(t),Y=!0,K=K.map(e=>({...e,parentResponseId:null==t?void 0:t.responseId})));let h=null!=r?r:0,p=K[h];if(!p)return;et(p=this.processResponseChunk({currentStreamResponse:p,responseChunk:n.result,onCitations:()=>U(p),onHasImage:L,onDisclaimer:j})),K[h]=p,i&&(p=this.processSoftStop({currentStreamResponse:p,startTimeMs:ee}),null===s.IW||void 0===s.IW||s.IW.logEvent("generation_time_ms",p.generationTimeMs,{conversationId:d,responseId:p.responseId}),en(p))}null===s.IW||void 0===s.IW||s.IW.logEvent("finished_query",null===(r=K[0])||void 0===r?void 0:r.responseId,{conversationId:d,toggledExperiment:$.toString(),secondResponse:(null===(l=K[1])||void 0===l?void 0:l.responseId)||"",isReasoning:S?S.toString():"",deepsearchPreset:I||""}),Y||J||(Y=!0,u.addUserResponse(d,n).then(e=>{en(t=e),N(t),(K=K.map(e=>({...e,parentResponseId:null==t?void 0:t.responseId}))).forEach(en)}).catch(()=>{t&&en(t={...t,state:"error"})})),K.forEach(en),O(K,K.map(e=>e.responseId)),(0,o.HR)("streamResponse",{type:"send_query_stream_success",subscriptionTier:(null===i.kI||void 0===i.kI?void 0:i.kI.bestSubscription)||"unknown",modelId:c,modelMode:S?"think":I?"deepsearch":"none"})}).catch(e=>{(0,o.H)("response-store:useResponseStore:streamCreateAndRespond",e),(0,o.HR)("streamResponse",{type:"send_query_stream_error",subscriptionTier:(null===i.kI||void 0===i.kI?void 0:i.kI.bestSubscription)||"unknown",modelId:c,modelMode:S?"think":I?"deepsearch":"none"});let t=D(e);if(x&&t)T(c,d,K,A,U,j,L,O,q).catch(e=>{throw(0,o.H)("response-store:useResponseStore:streamCreateAndRespond:handleStreamError",e),e});else throw(K=K.map(e=>({...e,state:"error",thinkingEndTime:e.thinkingStartTime&&!e.thinkingEndTime?Date.now():e.thinkingEndTime,searchingEndTime:e.searchingStartTime&&!e.searchingEndTime?Date.now():e.searchingEndTime}))).forEach(en),e}).finally(()=>{er()})},this.reconnectToResponse=e=>{let{inflightResponse:t,conversationId:n,modelName:r,parentResponseId:a,enableRetries:d,onStart:c,onCitations:u,onDisclaimer:p,onHasImage:f,onClose:g,onWke:y,onError:w}=e,I=this.get(),b=v.t.getState(),S=new AbortController;if(!t.responseId)throw Error("Inflight response missing responseId");let R=[],x={type:"milliseconds_per_token_summary",subscriptionTier:(null===i.kI||void 0===i.kI?void 0:i.kI.bestSubscription)||"unknown",modelId:r,modelMode:"unknown",millisecondsPerTokenList:[]},{log:C,stop:k,resetTime:P}=(0,o.YM)("reconnectToResponse",x);return l.xU.chatReconnectResponseV2Raw({responseId:t.responseId}).then(async e=>{var l,m,v,x,k,E,A,N,M,U,j,L,O,q,D,B,F,G,H,z,Z;(0,o.HR)("reconnectToResponse",{type:"send_query_stream_reconnect_start",subscriptionTier:(null===i.kI||void 0===i.kI?void 0:i.kI.bestSubscription)||"unknown",modelId:r}),P();let W=h(e.raw);C();let K=await W.next();if(!(null===(l=K.value)||void 0===l?void 0:l.result)||!(null===(x=K.value)||void 0===x?void 0:null===(v=x.result)||void 0===v?void 0:null===(m=v.response)||void 0===m?void 0:m.modelResponse))throw Error("No initial state received from reconnect");let{title:J,response:Q}=K.value.result;if(J){let e=b.byId[n];b.upsertAndCacheConversation({...e,title:J.newTitle})}let X=_({...Q.modelResponse,responseId:t.responseId,inflightResponseId:t.responseId,conversationId:n,parentResponseId:a,sender:r,state:"streaming",...t.createTime&&{createTime:t.createTime}});if(((null===(k=Q.queryAction)||void 0===k?void 0:k.type)==="aurora"||(null===(E=Q.queryAction)||void 0===E?void 0:E.type)==="flux")&&(X.hasImages=!0,f()),(null===(A=Q.queryAction)||void 0===A?void 0:A.type)==="x"&&(X.hasSearches=!0),(null===(N=Q.followUpSuggestions)||void 0===N?void 0:N.suggestions)&&(X.suggestions=Q.followUpSuggestions.suggestions),Q.finalMetadata&&(Q.finalMetadata.followUpSuggestions&&(X.suggestions=Q.finalMetadata.followUpSuggestions),Q.finalMetadata.disclaimer&&p(Q.finalMetadata.disclaimer)),Q.cachedImageGenerationResponse&&Q.cachedImageGenerationResponse.imageUrl&&(X.generatedImageUrls=X.generatedImageUrls.concat([Q.cachedImageGenerationResponse.imageUrl])),Q.cardAttachment&&Q.cardAttachment.jsonData&&(X.cardAttachmentsJson=X.cardAttachmentsJson.concat([Q.cardAttachment.jsonData])),(null===(U=Q.modelResponse)||void 0===U?void 0:null===(M=U.steps)||void 0===M?void 0:M.length)&&(X.searchingStartTime=new Date(X.createTime).getTime(),(null===(q=Q.modelResponse)||void 0===q?void 0:q.message)&&(X.searchingEndTime=Date.now())),(null===(j=Q.modelResponse)||void 0===j?void 0:j.thinkingTrace)&&(X.thinkingStartTime=new Date(X.createTime).getTime(),Q.isThinking||X.thinkingEndTime||(X.thinkingEndTime=Date.now())),Q.bannerMessage&&Q.bannerMessage.message&&p(Q.bannerMessage.message),Q.disclaimer&&Q.disclaimer.message&&p(Q.disclaimer.message),R=[X],b.idsertAbortControllerById(S,n),I.upsertResponse(X),c(R),Q.streamingImageGenerationResponse){let{imageId:e,imageUrl:t}=Q.streamingImageGenerationResponse;if(e&&t){let n=null!==(D=X.streamingImageById)&&void 0!==D?D:{};Q.streamingImageGenerationResponse.progress&&(X.streamingImageById={...n,[e]:{...null!==(B=n[e])&&void 0!==B?B:{},[Q.streamingImageGenerationResponse.progress]:Q.streamingImageGenerationResponse}}),I.setOneImageIdByUrl(e,t)}}((null===(L=X.webSearchResults)||void 0===L?void 0:L.length)||(null===(O=X.xposts)||void 0===O?void 0:O.length))&&u(X);let[$,Y]=V(),ee=new Date(X.createTime).getTime();try{for await(let e of W){if(C(),e.error){let t=Error(e.error.message);throw y(t),t}if(!e.result)continue;let{title:t,response:r}=e.result;if(null==t?void 0:t.newTitle){let e=b.byId[n];b.upsertAndCacheConversation({...e,title:t.newTitle})}if(r){if(null===(Z=r.modelResponse)||void 0===Z?void 0:Z.error)throw(0,o.H)("response-store:reconnectToResponse:modelResponse",r.modelResponse.error),Error(r.modelResponse.error);if(X={...this.processResponseChunk({currentStreamResponse:X,responseChunk:r,onCitations:()=>u(X),onHasImage:f,onDisclaimer:p}),parentResponseId:a},$(X),R[0]=X,r.isSoftStop){let e=Date.now()-ee;X={...X,generationTimeMs:e,state:"closed",parentResponseId:a},null===s.IW||void 0===s.IW||s.IW.logEvent("generation_time_ms",e,{conversationId:n,responseId:X.responseId}),R[0]=X,Y(X)}}}("streaming"===X.state||"reconnecting"===X.state)&&(X={...X,state:"closed"},R[0]=X,Y(X)),g(R,R.map(e=>e.responseId)),null===s.IW||void 0===s.IW||s.IW.logEvent("finished_query",null===(F=R[0])||void 0===F?void 0:F.responseId,{conversationId:n,secondResponse:(null===(G=R[1])||void 0===G?void 0:G.responseId)||"",isReasoning:(!!(null===(H=R[0])||void 0===H?void 0:H.thinkingTrace)).toString(),deepsearchPreset:(!!(null===(z=R[0])||void 0===z?void 0:z.steps.length)).toString()}),(0,o.HR)("reconnectToResponse",{type:"send_query_stream_reconnect_success",subscriptionTier:(null===i.kI||void 0===i.kI?void 0:i.kI.bestSubscription)||"unknown",modelId:r})}catch(t){(0,o.H)("response-store:useResponseStore:reconnectToResponse",t),(0,o.HR)("reconnectToResponse",{type:"send_query_stream_reconnect_error",subscriptionTier:(null===i.kI||void 0===i.kI?void 0:i.kI.bestSubscription)||"unknown",modelId:r});let e=w(t);if(d&&e)R[0]=X,T(r,n,R,c,u,p,f,g,y).catch(e=>{throw(0,o.H)("response-store:useResponseStore:reconnectToResponse:handleStreamError",e),e});else throw X={...X,state:"error",thinkingEndTime:X.thinkingStartTime&&!X.thinkingEndTime?Date.now():X.thinkingEndTime,searchingEndTime:X.searchingStartTime&&!X.searchingEndTime?Date.now():X.searchingEndTime},R[0]=X,Y(X),t}}).catch(e=>{if(0===R.length){let e=_({conversationId:n,responseId:"streaming_in_progress_".concat(m()()),parentResponseId:a,sender:r,state:"error"});R=[e],I.upsertResponse(e)}throw e}).finally(()=>{b.removeAbortControllerById(n),k()})},this.streamCreateAndRespond=e=>{let{temporary:t,message:n,modelName:a,fileAttachmentIds:d,systemPromptName:c,personaId:u,toolOverrides:p,isPreset:f,customInstructions:g,customPersonality:y,deepsearchPreset:I,isReasoning:b,enableRetries:S,onOptimisticConversation:R,onOptimisticResponse:x,onStart:C,onConversation:k,onUserResponse:A,onStartExperiment:N,onCitations:M,onDisclaimer:U,onHasImage:j,onClose:L,onWke:O,onError:q}=e,D=this.get(),B=v.t.getState(),F=(0,r.T)(),G=w.p.getState().modelById[a];if(G){var H,z;(null===(H=G.tags)||void 0===H?void 0:H.includes("think"))||!b||(b=void 0),(null===(z=G.tags)||void 0===z?void 0:z.includes("deepsearch"))||!I||(I=void 0)}let Z="optimistic_conversation_".concat(m()()),W=(0,v.P)({conversationId:Z,personaId:u,temporary:t});B.upsertAndCacheConversation(W),R(W);let K="optimistic_response_".concat(m()()),J=E({conversationId:W.conversationId,responseId:K,message:n,fileAttachments:d});D.upsertResponse(J),x(J);let Q="streaming_in_progress_".concat(m()()),X=_({conversationId:W.conversationId,responseId:Q,parentResponseId:J.responseId,sender:a},I,b),$=[X];D.upsertResponse(X);let Y={systemPromptName:"",temporary:!1,message:"",modelName:"",fileAttachments:[],imageAttachments:[],disableSearch:!1,enableImageGeneration:!0,returnImageBytes:!1,returnRawGrokInXaiRequest:!1,enableImageStreaming:!0,imageGenerationCount:P,forceConcise:!1,enableSideBySide:!0,isPreset:!1,sendFinalMetadata:!0,temporary:t,message:n,modelName:a,fileAttachments:d,systemPromptName:null!=c?c:u,toolOverrides:p,enableSideBySide:!F,isPreset:f,customInstructions:g,customPersonality:y,deepsearchPreset:I,isReasoning:b},ee=new AbortController;B.idsertAbortControllerById(ee,Z);let et=!1,en=!1,es=Date.now(),[er,ei]=V(),{log:eo,stop:ea,resetTime:el}=(0,o.YM)("streamCreateAndRespond",{type:"milliseconds_per_token_summary",subscriptionTier:(null===i.kI||void 0===i.kI?void 0:i.kI.bestSubscription)||"unknown",modelId:a,modelMode:b?"think":I?"deepsearch":"none",millisecondsPerTokenList:[]}),ed=(0,o.i2)("streamCreateAndRespond",{type:"time_to_first_token_summary",modelId:a,subscriptionTier:(null===i.kI||void 0===i.kI?void 0:i.kI.bestSubscription)||"unknown",modelMode:b?"think":I?"deepsearch":"none",timeToFirstToken:0});return l.xU.chatCreateConversationAndRespondRaw({body:Y}).then(async e=>{var t,r;let l=this.get();for await(let t of(J={...J,state:"streaming"},$=$.map(e=>({...e,state:"streaming"})),ei(J),$.forEach(ei),C($),(0,o.HR)("streamCreateAndRespond",{type:"send_query_stream_start",subscriptionTier:(null===i.kI||void 0===i.kI?void 0:i.kI.bestSubscription)||"unknown",modelId:a,modelMode:b?"think":I?"deepsearch":"none"}),el(),h(e.raw))){if(ed(),eo(),t.error){let e=Error(t.error.message);throw O(e),e}if(!t.result)continue;let{response:e,conversation:n,title:r}=t.result;if(n&&(B.removeConversation(W.conversationId),W={...W,isNew:!0,fromPreset:f,state:"closed",systemPromptName:"",...n},B.upsertAndCacheConversation(W),B.idsertAbortControllerById(ee,W.conversationId),J={...J,conversationId:W.conversationId},$=$.map(e=>({...e,conversationId:W.conversationId})),k(W)),(null==r?void 0:r.newTitle)&&(W={...W,title:r.newTitle},B.upsertAndCacheConversation(W)),e){let{userResponse:t,sideBySideIndex:n,isSoftStop:r,modelResponse:i}=e;if(null==t?void 0:t.error)throw(0,o.H)("response-store:useResponseStore:streamResponse:userResponseChunk",t.error),Error(t.error);if(null==i?void 0:i.error)throw(0,o.H)("response-store:useResponseStore:streamResponse:modelResponseChunk",i.error),Error(i.error);let l=this.processSideBySide({responseChunk:e,toggledExperiment:et,conversationId:W.conversationId,parentResponseId:J.responseId,modelName:a});l&&(et=!0,$.push(l),ei(l),N($.map(e=>e.responseId))),t&&(ei(J={...J,...t,conversationId:W.conversationId,state:"closed"}),A(J),en=!0,$=$.map(e=>({...e,parentResponseId:null==J?void 0:J.responseId})));let d=null!=n?n:0,c=$[d];if(!c)continue;er(c=this.processResponseChunk({currentStreamResponse:c,responseChunk:e,onCitations:()=>M(c),onHasImage:j,onDisclaimer:U})),$[d]=c,r&&(c=this.processSoftStop({currentStreamResponse:c,startTimeMs:es}),null===s.IW||void 0===s.IW||s.IW.logEvent("generation_time_ms",c.generationTimeMs,{conversationId:W.conversationId,responseId:c.responseId}),ei(c))}}null===s.IW||void 0===s.IW||s.IW.logEvent("finished_query",null===(t=$[0])||void 0===t?void 0:t.responseId,{conversationId:W.conversationId,toggledExperiment:et.toString(),secondResponse:(null===(r=$[1])||void 0===r?void 0:r.responseId)||"",isReasoning:b?b.toString():"",deepsearchPreset:I||""}),en||(en=!0,l.addUserResponse(W.conversationId,n).then(e=>{ei(J=e),A(J),($=$.map(e=>({...e,parentResponseId:J.responseId}))).forEach(ei)}).catch(()=>{J&&ei(J={...J,state:"error"})})),$.forEach(ei),L($),(0,o.HR)("streamCreateAndRespond",{type:"send_query_stream_success",subscriptionTier:(null===i.kI||void 0===i.kI?void 0:i.kI.bestSubscription)||"unknown",modelId:a,modelMode:b?"think":I?"deepsearch":"none"})}).catch(e=>{(0,o.H)("response-store:useResponseStore:streamCreateAndRespond",e),(0,o.HR)("streamCreateAndRespond",{type:"send_query_stream_error",subscriptionTier:(null===i.kI||void 0===i.kI?void 0:i.kI.bestSubscription)||"unknown",modelId:a,modelMode:b?"think":I?"deepsearch":"none"});let t=q(e);if(S&&t)T(a,W.conversationId,$,C,M,U,j,L,O).catch(e=>{throw(0,o.H)("response-store:useResponseStore:streamCreateAndRespond:handleStreamError",e),e});else throw($=$.map(e=>({...e,state:"error",thinkingEndTime:e.thinkingStartTime&&!e.thinkingEndTime?Date.now():e.thinkingEndTime,searchingEndTime:e.searchingStartTime&&!e.searchingEndTime?Date.now():e.searchingEndTime}))).forEach(ei),e}).finally(()=>{ea()})},this.abortStream=(e,t)=>{let n=this.get(),s=v.t.getState(),r=n.byId[t];if(!r.state||!["streaming","error","reconnecting"].includes(r.state))return Promise.resolve(t);let i=s.abortControllerById[e];return(i&&(i.abort(),s.removeAbortControllerById(e)),r.inflightResponseId)?l.xU.chatStopInflightResponse({responseId:r.inflightResponseId}).then(()=>{let t={...r,responseId:r.inflightResponseId,conversationId:e,state:"closed",partial:!0,thinkingEndTime:r.thinkingStartTime&&!r.thinkingEndTime?Date.now():r.thinkingEndTime,searchingEndTime:r.searchingStartTime&&!r.searchingEndTime?Date.now():r.searchingEndTime};return n.upsertResponse(t),t.responseId}).catch(e=>{let t={...r,state:"error",thinkingEndTime:r.thinkingStartTime&&!r.thinkingEndTime?Date.now():r.thinkingEndTime,searchingEndTime:r.searchingStartTime&&!r.searchingEndTime?Date.now():r.searchingEndTime};throw n.upsertResponse(t),e}):l.xU.chatAddModelResponse({conversationId:e,body:{...r,partial:!0}}).then(t=>{let s={...t,conversationId:e,state:"closed"};return n.upsertResponse(s),s.responseId}).catch(e=>{let t={...r,state:"error",thinkingEndTime:r.thinkingStartTime&&!r.thinkingEndTime?Date.now():r.thinkingEndTime,searchingEndTime:r.searchingStartTime&&!r.searchingEndTime?Date.now():r.searchingEndTime};throw n.upsertResponse(t),e})},this.addUserResponse=(e,t,n)=>l.xU.chatAddUserResponse({conversationId:e,body:{message:t,parentResponseId:n}}).then(t=>{let n=this.get(),s={...t,conversationId:e};return n.upsertResponse(s),s})}}async function T(e,t,n,r,a,d,c,u,p){let m=k.getState(),f=v.t.getState(),g=n.map(e=>({...e,state:"reconnecting"}));g.forEach(m.upsertResponse);let y=e=>new Promise(t=>setTimeout(t,e));if(t.startsWith("optimistic_conversation_")){(g=g.map(e=>({...e,state:"error"}))).forEach(m.upsertResponse);return}let w={type:"milliseconds_per_token_summary",subscriptionTier:(null===i.kI||void 0===i.kI?void 0:i.kI.bestSubscription)||"unknown",modelId:e,modelMode:"unknown",millisecondsPerTokenList:[]},{log:I,stop:b,resetTime:S}=(0,o.YM)("handleStreamError",w);for(let n=1;n<=10;n++){try{let n=await m.fetchListInflightResponses(t,!0);n.length>0&&n[0].responseId&&g[0].parentResponseId?await l.xU.chatReconnectResponseV2Raw({responseId:n[0].responseId}).then(async l=>{var y,v,w,b,R,x,C,T,k,P,E,A,N,M,U,j,L;(0,o.HR)("handleStreamError",{type:"send_query_stream_reconnect_start",subscriptionTier:(null===i.kI||void 0===i.kI?void 0:i.kI.bestSubscription)||"unknown",modelId:e}),S();let O=h(l.raw);I();let q=await O.next();if(!(null===(y=q.value)||void 0===y?void 0:y.result)||!(null===(b=q.value)||void 0===b?void 0:null===(w=b.result)||void 0===w?void 0:null===(v=w.response)||void 0===v?void 0:v.modelResponse))throw Error("No initial state received from reconnect");let{title:D,response:B}=q.value.result;if(D){let e=f.byId[t];f.upsertAndCacheConversation({...e,title:D.newTitle})}let F=_({...B.modelResponse,conversationId:t,responseId:g[0].responseId,parentResponseId:g[0].parentResponseId,sender:g[0].sender,state:"streaming",...n[0].createTime&&{createTime:n[0].createTime}});if(((null===(R=B.queryAction)||void 0===R?void 0:R.type)==="aurora"||(null===(x=B.queryAction)||void 0===x?void 0:x.type)==="flux")&&(F.hasImages=!0,c()),(null===(C=B.queryAction)||void 0===C?void 0:C.type)==="x"&&(F.hasSearches=!0),(null===(T=B.followUpSuggestions)||void 0===T?void 0:T.suggestions)&&(F.suggestions=B.followUpSuggestions.suggestions),B.finalMetadata&&(B.finalMetadata.followUpSuggestions&&(F.suggestions=B.finalMetadata.followUpSuggestions),B.finalMetadata.disclaimer&&d(B.finalMetadata.disclaimer)),B.cachedImageGenerationResponse&&B.cachedImageGenerationResponse.imageUrl&&(F.generatedImageUrls=F.generatedImageUrls.concat([B.cachedImageGenerationResponse.imageUrl])),B.cardAttachment&&B.cardAttachment.jsonData&&(F.cardAttachmentsJson=F.cardAttachmentsJson.concat([B.cardAttachment.jsonData])),(null===(P=B.modelResponse)||void 0===P?void 0:null===(k=P.steps)||void 0===k?void 0:k.length)&&(F.searchingStartTime=new Date(F.createTime).getTime(),(null===(M=B.modelResponse)||void 0===M?void 0:M.message)&&(F.searchingEndTime=Date.now())),B.bannerMessage&&B.bannerMessage.message&&d(B.bannerMessage.message),B.disclaimer&&B.disclaimer.message&&d(B.disclaimer.message),(null===(E=B.modelResponse)||void 0===E?void 0:E.thinkingTrace)&&(F.thinkingStartTime=new Date(F.createTime).getTime(),B.isThinking||F.thinkingEndTime||(F.thinkingEndTime=Date.now())),g=[F],m.upsertResponse(F),r(g),B.streamingImageGenerationResponse){let{imageId:e,imageUrl:t}=B.streamingImageGenerationResponse;if(e&&t){let n=null!==(U=F.streamingImageById)&&void 0!==U?U:{};B.streamingImageGenerationResponse.progress&&(F.streamingImageById={...n,[e]:{...null!==(j=n[e])&&void 0!==j?j:{},[B.streamingImageGenerationResponse.progress]:B.streamingImageGenerationResponse}}),m.setOneImageIdByUrl(e,t)}}((null===(A=F.webSearchResults)||void 0===A?void 0:A.length)||(null===(N=F.xposts)||void 0===N?void 0:N.length))&&a(F);let[G,H]=V(),z=new Date(F.createTime).getTime();for await(let e of O){if(I(),e.error){let t=Error(e.error.message);throw p(t),t}if(!e.result)continue;let{title:n,response:r}=e.result;if(null==n?void 0:n.newTitle){let e=f.byId[t];f.upsertAndCacheConversation({...e,title:n.newTitle})}if(r){if(null===(L=r.modelResponse)||void 0===L?void 0:L.error)throw(0,o.H)("response-store:reconnectToResponse:modelResponse",r.modelResponse.error),Error(r.modelResponse.error);if(F={...this.processResponseChunk({currentStreamResponse:F,responseChunk:r,onCitations:()=>a(F),onHasImage:c}),parentResponseId:g[0].parentResponseId},G(F),g[0]=F,r.isSoftStop){let e=Date.now()-z;F={...F,generationTimeMs:e,state:"closed",parentResponseId:g[0].parentResponseId},null===s.IW||void 0===s.IW||s.IW.logEvent("generation_time_ms",e,{conversationId:t,responseId:F.responseId}),g[0]=F,H(F)}}}("streaming"===F.state||"reconnecting"===F.state)&&(F={...F,state:"closed",thinkingEndTime:F.thinkingStartTime&&!F.thinkingEndTime?Date.now():F.thinkingEndTime,searchingEndTime:F.searchingStartTime&&!F.searchingEndTime?Date.now():F.searchingEndTime},g[0]=F,H(F)),u(g,g.map(e=>e.responseId)),(0,o.HR)("handleStreamError",{type:"send_query_stream_reconnect_success",subscriptionTier:(null===i.kI||void 0===i.kI?void 0:i.kI.bestSubscription)||"unknown",modelId:e})}):(g=g.map(e=>({...e,state:"error",thinkingEndTime:e.thinkingStartTime&&!e.thinkingEndTime?Date.now():e.thinkingEndTime,searchingEndTime:e.searchingStartTime&&!e.searchingEndTime?Date.now():e.searchingEndTime}))).forEach(m.upsertResponse)}catch(t){if(b(),(0,o.HR)("handleStreamError",{type:"send_query_stream_reconnect_error",subscriptionTier:(null===i.kI||void 0===i.kI?void 0:i.kI.bestSubscription)||"unknown",modelId:e}),10===n)throw(g=g.map(e=>({...e,state:"error"}))).forEach(m.upsertResponse),t;await y(2e3),(g=g.map(e=>({...e,state:"reconnecting"}))).forEach(m.upsertResponse)}b()}}let k=(0,a.MT)(C);(0,a.N7)(k,"byId","byConversationId",(e,t)=>{let n=Object.values(e),s=k.getState().byConversationId,r=new Set(g()(n).filter(e=>e!==t[e.responseId]||!!e.state&&"closed"!==e.state).map(e=>e.conversationId).value()),i=n.filter(e=>r.has(e.conversationId)),o=y.Z(e=>e.conversationId,i);return{...s,...g().pick(o,[...r.values()])}}),(0,a.N7)(k,"byConversationId","promisesByConversationId",(e,t)=>{let n=Object.keys(e),s=k.getState().promisesByConversationId,r=n.filter(n=>e[n]!==t[n]),i=g()(e).pick(r).mapValues(e=>Promise.resolve(e)).value();return{...s,...i}});let P=2;function E(e){return{sender:"human",createTime:new Date().toISOString(),manual:!1,partial:!0,shared:!1,isControl:!1,query:"",queryType:"",thinkingTrace:"",webSearchResults:[],xpostIds:[],xposts:[],generatedImageUrls:[],imageAttachments:[],fileAttachments:[],cardAttachmentsJson:[],fileUris:[],fileAttachmentsMetadata:[],state:"optimistic",parentResponseId:"",steps:[],imageEditUri:"",error:"",mediaTypes:[],...e}}function _(e,t,n){let s="default"===t?Date.now():void 0,r=n?Date.now():void 0;return{message:"",createTime:new Date().toISOString(),manual:!1,partial:!0,shared:!1,isControl:!1,query:"",queryType:"",thinkingTrace:"",webSearchResults:[],xpostIds:[],xposts:[],generatedImageUrls:[],imageAttachments:[],fileAttachments:[],cardAttachmentsJson:[],fileUris:[],fileAttachmentsMetadata:[],state:"streaming",steps:[],imageEditUri:"",error:"",mediaTypes:[],...e,thinkingStartTime:r,searchingStartTime:s}}function V(){let e,t={};return[n=>{if(!e){k.getState().upsertResponse(n),e=setTimeout(()=>{let n=Object.values(t);t={},n.length&&k.getState().appendResponses(n),e=void 0},30);return}t[n.responseId]=n},n=>{n&&(t[n.responseId]=n),clearTimeout(e);let s=Object.values(t);t={},s.length&&k.getState().appendResponses(s),e=void 0}]}function A(e){return e.thinkingStartTime||e.searchingStartTime}},68159:function(e,t,n){n.d(t,{F:function(){return d}});var s=n(38976),r=n(61301),i=n(64868);i.z.object({autoOpenSearchResults:i.z.boolean(),displayUserMessageMarkdown:i.z.boolean(),showFollowUpSuggestions:i.z.boolean(),animateQueryPlaceholder:i.z.boolean(),autoWrapLongLinesCode:i.z.boolean(),browserNotificationsEnabled:i.z.boolean(),selectedSystemPromptId:i.z.string().optional()});let o={autoOpenSearchResults:!1,displayUserMessageMarkdown:!1,showFollowUpSuggestions:!0,animateQueryPlaceholder:!0,autoWrapLongLinesCode:!1,browserNotificationsEnabled:!1,selectedSystemPromptId:void 0},a={isIncognito:!1,userSettingsPromise:void 0,userSettings:{excludeFromTraining:!1,allowXPersonalization:!0,preferences:o},selectedLanguage:void 0,showAgeVerification:!1,ageVerificationCallback:void 0};class l{constructor(e,t){this.set=e,this.get=t,this.isIncognito=a.isIncognito,this.userSettingsPromise=a.userSettingsPromise,this.userSettings=a.userSettings,this.selectedLanguage=a.selectedLanguage,this.showAgeVerification=a.showAgeVerification,this.ageVerificationCallback=a.ageVerificationCallback,this.setIsIncognito=(0,s.f0)(this.set,"isIncognito"),this.setUserSettingsPromise=(0,s.f0)(this.set,"userSettingsPromise"),this.setUserSettings=(0,s.f0)(this.set,"userSettings"),this.setSelectedLanguage=(0,s.f0)(this.set,"selectedLanguage"),this.setShowAgeVerification=(0,s.f0)(this.set,"showAgeVerification"),this.setAgeVerificationCallback=(0,s.f0)(this.set,"setAgeVerificationCallback"),this.fetchGetUserSettings=()=>{let e=this.get();if(e.userSettingsPromise)return e.userSettingsPromise;let t=r.pJ.settingsGetUserSettings().then(e=>{let t=this.get();return{...t.userSettings,...e,preferences:c(t.userSettings.preferences,e.preferences)}});return e.setUserSettingsPromise(t),t.then(e.setUserSettings).catch(console.error),t},this.fetchSetUserSettings=e=>{let t=this.get();t.setUserSettings({...t.userSettings,...e});let n=r.pJ.settingsSetUserSettings({body:e}).then(e=>{let t=this.get(),n=c(t.userSettings.preferences,e.preferences);return{...t.userSettings,...e,preferences:n}});return t.setUserSettingsPromise(n),n.then(t.setUserSettings).catch(e=>{console.error(e)}),n},this.fetchSetPreference=(e,t)=>{let n=this.get();return n.fetchSetUserSettings({...n.userSettings,preferences:{...n.userSettings.preferences,[e]:t}})}}}let d=(0,s.MT)(l);function c(e,t){return i.z.object({autoOpenSearchResults:i.z.boolean().catch(e.autoOpenSearchResults),displayUserMessageMarkdown:i.z.boolean().catch(e.displayUserMessageMarkdown),showFollowUpSuggestions:i.z.boolean().catch(e.autoOpenSearchResults),animateQueryPlaceholder:i.z.boolean().catch(e.animateQueryPlaceholder),autoWrapLongLinesCode:i.z.boolean().catch(e.autoWrapLongLinesCode),browserNotificationsEnabled:i.z.boolean().catch(e.browserNotificationsEnabled),selectedSystemPromptId:i.z.string().optional().catch(e.selectedSystemPromptId)}).catch(e).parse(t)}(0,s.tM)(d,"userSettings","user-settings",a.userSettings,function(e){return e&&"object"==typeof e?{excludeFromTraining:a.userSettings.excludeFromTraining,allowXPersonalization:a.userSettings.allowXPersonalization,preferences:{...c(o,e.userSettings),autoOpenSearchResults:!1}}:a.userSettings})},3351:function(e,t,n){n.d(t,{_:function(){return i},a:function(){return o}});var s=n(38976);class r{constructor(e,t){this.set=e,this.get=t,this.isUpselling=!1,this.setIsUpselling=(0,s.f0)(this.set,"isUpselling")}}let i=(0,s.MT)(r);function o(e,t){let n=new URL(window.location.href);null==t?n.searchParams.delete(e):n.searchParams.set(e,t),window.history.replaceState({},"",n.toString())}!function(e){let t=new URLSearchParams(window.location.search);t.has("show_subscribe")&&e.getState().setIsUpselling("1"===t.get("show_subscribe")),e.subscribe((e,t)=>{e.isUpselling!==t.isUpselling&&o("show_subscribe",e.isUpselling?"1":void 0)})}(i)},26147:function(e,t,n){n.d(t,{G:function(){return i}});var s=n(38976);class r{constructor(e,t){this.set=e,this.get=t,this.isUpsellingX=!1,this.setIsUpsellingX=(0,s.f0)(this.set,"isUpsellingX")}}let i=(0,s.MT)(r);!function(e){let t=new URLSearchParams(window.location.search);t.has("show_subscribe")&&e.getState().setIsUpsellingX("1"===t.get("show_subscribe")),e.subscribe((e,t)=>{e.isUpsellingX!==t.isUpsellingX&&function(e,t){let n=new URL(window.location.href);null==t?n.searchParams.delete(e):n.searchParams.set(e,t),window.history.replaceState({},"",n.toString())}("show_subscribe",e.isUpsellingX?"1":void 0)})}(i)},84518:function(e,t,n){n.d(t,{sR:function(){return u},aN:function(){return c}});var s=n(91124),r=n(33237),i=n(2014);function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,i.m6)((0,r.W)(t))}var a=n(79468),l=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",...e,children:(0,s.jsx)("path",{d:"m10.828 12 4.95 4.95-1.414 1.415L8 12l6.364-6.364 1.414 1.414z"})}),d=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",...e,children:(0,s.jsx)("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10m0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16m-1-5h2v2h-2zm0-8h2v6h-2z"})});let c=e=>{let{"aria-label":t,className:n,color:r,size:i="medium"}=e,a="number"==typeof i?{height:i,width:i}:void 0;return(0,s.jsx)("span",{className:o("inline-flex items-center justify-center p-0 m-0",{"w-4 h-4":"x-small"===i,"w-5 h-5":"small"===i,"w-6 h-6":"medium"===i,"w-8 h-8":"large"===i,"w-full h-full":"fill"===i},n),"data-namespace":"@xai/icons","data-slot":"icon",style:{color:r,...a},children:(0,s.jsx)(d,{"aria-hidden":!t,"aria-label":t,className:o({"w-4 h-4":"x-small"===i,"w-5 h-5":"small"===i,"w-6 h-6":"medium"===i,"w-8 h-8":"large"===i,"w-full h-full":"fill"===i}),focusable:"false",style:{fill:"currentColor",...a}})})};c.displayName="WarningIcon";let u=e=>{let{"aria-label":t,className:n,color:r,disabled:i,size:d="medium",type:c="button",...u}=e,h=(0,a.useRef)(null),p=null!=i?!!i:!t,m="number"==typeof d?{height:d,width:d}:void 0;return(0,s.jsx)("button",{...u,type:c,"aria-disabled":i,"aria-hidden":p,"aria-label":t,className:o("inline-flex items-center justify-center border-none bg-transparent hover:bg-muted/50 rounded-full p-0 m-0 appearance-none disabled:opacity-30",{"w-4 h-4":"x-small"===d,"w-5 h-5":"small"===d,"w-6 h-6":"medium"===d,"w-8 h-8":"large"===d,"w-full h-full":"fill"===d},n),"data-namespace":"@xai/icons","data-slot":"icon",disabled:i,ref:h,style:{color:r,...m},children:(0,s.jsx)(l,{className:o({"w-[1.125rem] h-[1.125rem]":"medium"===d,"w-[1.375rem] h-[1.375rem]":"large"===d,"w-3.5 h-3.5":"x-small"===d,"w-4 h-4":"small"===d,"w-full h-full":"fill"===d}),focusable:"false",style:{fill:"currentColor",...m}})})};u.displayName="ArrowLeftIconButton"}}]);